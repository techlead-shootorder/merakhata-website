!function(){"use strict";function t(e,n,i){return(t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(e,n,i||e)}function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,s=!1;try{for(n=n.call(t);!(r=(i=n.next()).done)&&(a.push(i.value),!e||a.length!==e);r=!0);}catch(c){s=!0,o=c}finally{try{r||null==n.return||n.return()}finally{if(s)throw o}}return a}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return u(this,n)}}function u(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return h(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkbedesk=self.webpackChunkbedesk||[]).push([[677],{58341:function(t,e,i){i.d(e,{HS:function(){return S},oH:function(){return N},qn:function(){return J},qH:function(){return q},Hi:function(){return B}});var o,a=i(36461),c=i(37716),u=i(72458),d=i(39490),f=i(38583),g=i(46237),m=i(79765),v=i(66682),b=i(15257),y=i(46782),x=i(39761),_=i(19238),w=i(38345),k=i(98295),C=i(80521),Z=i(70946),I=i(3679),A=["*"],T=new c.OlP("MatChipRemove"),P=new c.OlP("MatChipAvatar"),M=new c.OlP("MatChipTrailingIcon"),O=(0,u.sb)((0,u.pj)((0,u.Kr)(function t(e){p(this,t),this._elementRef=e}),"primary"),-1),S=((o=function(t){s(n,t);var e=l(n);function n(t,i,o,a,r,s,l,d){var f;return p(this,n),(f=e.call(this,t))._elementRef=t,f._ngZone=i,f._changeDetectorRef=r,f._hasFocus=!1,f.chipListSelectable=!0,f._chipListMultiple=!1,f._chipListDisabled=!1,f._selected=!1,f._selectable=!0,f._disabled=!1,f._removable=!0,f._onFocus=new m.xQ,f._onBlur=new m.xQ,f.selectionChange=new c.vpe,f.destroyed=new c.vpe,f.removed=new c.vpe,f._addHostClassName(),f._chipRippleTarget=s.createElement("div"),f._chipRippleTarget.classList.add("mat-chip-ripple"),f._elementRef.nativeElement.appendChild(f._chipRippleTarget),f._chipRipple=new u.IR(h(f),i,f._chipRippleTarget,o),f._chipRipple.setupTriggerEvents(t),f.rippleConfig=a||{},f._animationsDisabled="NoopAnimations"===l,f.tabIndex=null!=d&&parseInt(d)||-1,f}return r(n,[{key:"rippleDisabled",get:function(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}},{key:"selected",get:function(){return this._selected},set:function(t){var e=(0,d.Ig)(t);e!==this._selected&&(this._selected=e,this._dispatchSelectionChange())}},{key:"value",get:function(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent},set:function(t){this._value=t}},{key:"selectable",get:function(){return this._selectable&&this.chipListSelectable},set:function(t){this._selectable=(0,d.Ig)(t)}},{key:"disabled",get:function(){return this._chipListDisabled||this._disabled},set:function(t){this._disabled=(0,d.Ig)(t)}},{key:"removable",get:function(){return this._removable},set:function(t){this._removable=(0,d.Ig)(t)}},{key:"ariaSelected",get:function(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}},{key:"_addHostClassName",value:function(){var t="mat-basic-chip",e=this._elementRef.nativeElement;e.hasAttribute(t)||e.tagName.toLowerCase()===t?e.classList.add(t):e.classList.add("mat-standard-chip")}},{key:"ngOnDestroy",value:function(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}},{key:"select",value:function(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}},{key:"deselect",value:function(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}},{key:"selectViaInteraction",value:function(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}},{key:"toggleSelected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._selected=!this.selected,this._dispatchSelectionChange(t),this._changeDetectorRef.markForCheck(),this.selected}},{key:"focus",value:function(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}},{key:"remove",value:function(){this.removable&&this.removed.emit({chip:this})}},{key:"_handleClick",value:function(t){this.disabled?t.preventDefault():t.stopPropagation()}},{key:"_handleKeydown",value:function(t){if(!this.disabled)switch(t.keyCode){case a.yY:case a.ZH:this.remove(),t.preventDefault();break;case a.L_:this.selectable&&this.toggleSelected(!0),t.preventDefault()}}},{key:"_blur",value:function(){var t=this;this._ngZone.onStable.pipe((0,b.q)(1)).subscribe(function(){t._ngZone.run(function(){t._hasFocus=!1,t._onBlur.next({chip:t})})})}},{key:"_dispatchSelectionChange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected})}}]),n}(O)).\u0275fac=function(t){return new(t||o)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(C.t4),c.Y36(u.Y2,8),c.Y36(c.sBO),c.Y36(f.K0),c.Y36(g.Qb,8),c.$8M("tabindex"))},o.\u0275dir=c.lG2({type:o,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(t,e,n){var i;1&t&&(c.Suo(n,P,5),c.Suo(n,M,5),c.Suo(n,T,5)),2&t&&(c.iGM(i=c.CRH())&&(e.avatar=i.first),c.iGM(i=c.CRH())&&(e.trailingIcon=i.first),c.iGM(i=c.CRH())&&(e.removeIcon=i.first))},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(t,e){1&t&&c.NdJ("click",function(t){return e._handleClick(t)})("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e.focus()})("blur",function(){return e._blur()}),2&t&&(c.uIk("tabindex",e.disabled?null:e.tabIndex)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString())("aria-selected",e.ariaSelected),c.ekj("mat-chip-selected",e.selected)("mat-chip-with-avatar",e.avatar)("mat-chip-with-trailing-icon",e.trailingIcon||e.removeIcon)("mat-chip-disabled",e.disabled)("_mat-animation-noopable",e._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[c.qOj]}),o),q=function(){var t=function(){function t(e,n){p(this,t),this._parentChip=e,"BUTTON"===n.nativeElement.nodeName&&n.nativeElement.setAttribute("type","button")}return r(t,[{key:"_handleClick",value:function(t){var e=this._parentChip;e.removable&&!e.disabled&&e.remove(),t.stopPropagation()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Y36(S),c.Y36(c.SBq))},t.\u0275dir=c.lG2({type:t,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(t,e){1&t&&c.NdJ("click",function(t){return e._handleClick(t)})},features:[c._Bn([{provide:T,useExisting:t}])]}),t}(),E=new c.OlP("mat-chips-default-options"),F=(0,u.FD)(function t(e,n,i,o){p(this,t),this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=o}),U=0,L=function t(e,n){p(this,t),this.source=e,this.value=n},J=function(){var t=function(t){s(i,t);var e=l(i);function i(t,n,o,a,r,s,l){var u;return p(this,i),(u=e.call(this,s,a,r,l))._elementRef=t,u._changeDetectorRef=n,u._dir=o,u.ngControl=l,u.controlType="mat-chip-list",u._lastDestroyedChipIndex=null,u._destroyed=new m.xQ,u._uid="mat-chip-list-"+U++,u._tabIndex=0,u._userTabIndex=null,u._onTouched=function(){},u._onChange=function(){},u._multiple=!1,u._compareWith=function(t,e){return t===e},u._required=!1,u._disabled=!1,u.ariaOrientation="horizontal",u._selectable=!0,u.change=new c.vpe,u.valueChange=new c.vpe,u.ngControl&&(u.ngControl.valueAccessor=h(u)),u}return r(i,[{key:"selected",get:function(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}},{key:"role",get:function(){return this.empty?null:"listbox"}},{key:"multiple",get:function(){return this._multiple},set:function(t){this._multiple=(0,d.Ig)(t),this._syncChipsState()}},{key:"compareWith",get:function(){return this._compareWith},set:function(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}},{key:"value",get:function(){return this._value},set:function(t){this.writeValue(t),this._value=t}},{key:"id",get:function(){return this._chipInput?this._chipInput.id:this._uid}},{key:"required",get:function(){return this._required},set:function(t){this._required=(0,d.Ig)(t),this.stateChanges.next()}},{key:"placeholder",get:function(){return this._chipInput?this._chipInput.placeholder:this._placeholder},set:function(t){this._placeholder=t,this.stateChanges.next()}},{key:"focused",get:function(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}},{key:"empty",get:function(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}},{key:"shouldLabelFloat",get:function(){return!this.empty||this.focused}},{key:"disabled",get:function(){return this.ngControl?!!this.ngControl.disabled:this._disabled},set:function(t){this._disabled=(0,d.Ig)(t),this._syncChipsState()}},{key:"selectable",get:function(){return this._selectable},set:function(t){var e=this;this._selectable=(0,d.Ig)(t),this.chips&&this.chips.forEach(function(t){return t.chipListSelectable=e._selectable})}},{key:"tabIndex",set:function(t){this._userTabIndex=t,this._tabIndex=t}},{key:"chipSelectionChanges",get:function(){return v.T.apply(void 0,n(this.chips.map(function(t){return t.selectionChange})))}},{key:"chipFocusChanges",get:function(){return v.T.apply(void 0,n(this.chips.map(function(t){return t._onFocus})))}},{key:"chipBlurChanges",get:function(){return v.T.apply(void 0,n(this.chips.map(function(t){return t._onBlur})))}},{key:"chipRemoveChanges",get:function(){return v.T.apply(void 0,n(this.chips.map(function(t){return t.destroyed})))}},{key:"ngAfterContentInit",value:function(){var t=this;this._keyManager=new _.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,y.R)(this._destroyed)).subscribe(function(e){return t._keyManager.withHorizontalOrientation(e)}),this._keyManager.tabOut.pipe((0,y.R)(this._destroyed)).subscribe(function(){t._allowFocusEscape()}),this.chips.changes.pipe((0,x.O)(null),(0,y.R)(this._destroyed)).subscribe(function(){t.disabled&&Promise.resolve().then(function(){t._syncChipsState()}),t._resetChips(),t._initializeSelection(),t._updateTabIndex(),t._updateFocusForDestroyedChips(),t.stateChanges.next()})}},{key:"ngOnInit",value:function(){this._selectionModel=new w.Ov(this.multiple,void 0,!1),this.stateChanges.next()}},{key:"ngDoCheck",value:function(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}},{key:"registerInput",value:function(t){this._chipInput=t,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",t.id)}},{key:"setDescribedByIds",value:function(t){this._ariaDescribedby=t.join(" ")}},{key:"writeValue",value:function(t){this.chips&&this._setSelectionByValue(t,!1)}},{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t,this.stateChanges.next()}},{key:"onContainerClick",value:function(t){this._originatesFromChip(t)||this.focus()}},{key:"focus",value:function(t){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(t),this.stateChanges.next()))}},{key:"_focusInput",value:function(t){this._chipInput&&this._chipInput.focus(t)}},{key:"_keydown",value:function(t){var e=t.target;t.keyCode===a.ZH&&this._isInputEmpty(e)?(this._keyManager.setLastItemActive(),t.preventDefault()):e&&e.classList.contains("mat-chip")&&(this._keyManager.onKeydown(t),this.stateChanges.next())}},{key:"_updateTabIndex",value:function(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}},{key:"_updateFocusForDestroyedChips",value:function(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){var t=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(t)}else this.focus();this._lastDestroyedChipIndex=null}},{key:"_isValidIndex",value:function(t){return t>=0&&t<this.chips.length}},{key:"_isInputEmpty",value:function(t){return!(!t||"input"!==t.nodeName.toLowerCase()||t.value)}},{key:"_setSelectionByValue",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._clearSelection(),this.chips.forEach(function(t){return t.deselect()}),Array.isArray(t))t.forEach(function(t){return e._selectValue(t,n)}),this._sortValues();else{var i=this._selectValue(t,n);i&&n&&this._keyManager.setActiveItem(i)}}},{key:"_selectValue",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.chips.find(function(n){return null!=n.value&&e._compareWith(n.value,t)});return i&&(n?i.selectViaInteraction():i.select(),this._selectionModel.select(i)),i}},{key:"_initializeSelection",value:function(){var t=this;Promise.resolve().then(function(){(t.ngControl||t._value)&&(t._setSelectionByValue(t.ngControl?t.ngControl.value:t._value,!1),t.stateChanges.next())})}},{key:"_clearSelection",value:function(t){this._selectionModel.clear(),this.chips.forEach(function(e){e!==t&&e.deselect()}),this.stateChanges.next()}},{key:"_sortValues",value:function(){var t=this;this._multiple&&(this._selectionModel.clear(),this.chips.forEach(function(e){e.selected&&t._selectionModel.select(e)}),this.stateChanges.next())}},{key:"_propagateChanges",value:function(t){var e;e=Array.isArray(this.selected)?this.selected.map(function(t){return t.value}):this.selected?this.selected.value:t,this._value=e,this.change.emit(new L(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}},{key:"_blur",value:function(){var t=this;this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(function(){t.focused||t._markAsTouched()}):this._markAsTouched())}},{key:"_markAsTouched",value:function(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}},{key:"_allowFocusEscape",value:function(){var t=this;-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(function(){t._tabIndex=t._userTabIndex||0,t._changeDetectorRef.markForCheck()}))}},{key:"_resetChips",value:function(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}},{key:"_dropSubscriptions",value:function(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}},{key:"_listenToChipsSelection",value:function(){var t=this;this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(function(e){e.source.selected?t._selectionModel.select(e.source):t._selectionModel.deselect(e.source),t.multiple||t.chips.forEach(function(e){!t._selectionModel.isSelected(e)&&e.selected&&e.deselect()}),e.isUserInput&&t._propagateChanges()})}},{key:"_listenToChipsFocus",value:function(){var t=this;this._chipFocusSubscription=this.chipFocusChanges.subscribe(function(e){var n=t.chips.toArray().indexOf(e.chip);t._isValidIndex(n)&&t._keyManager.updateActiveItem(n),t.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(function(){t._blur(),t.stateChanges.next()})}},{key:"_listenToChipsRemoved",value:function(){var t=this;this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(function(e){var n=e.chip,i=t.chips.toArray().indexOf(e.chip);t._isValidIndex(i)&&n._hasFocus&&(t._lastDestroyedChipIndex=i)})}},{key:"_originatesFromChip",value:function(t){for(var e=t.target;e&&e!==this._elementRef.nativeElement;){if(e.classList.contains("mat-chip"))return!0;e=e.parentElement}return!1}},{key:"_hasFocusedChip",value:function(){return this.chips&&this.chips.some(function(t){return t._hasFocus})}},{key:"_syncChipsState",value:function(){var t=this;this.chips&&this.chips.forEach(function(e){e._chipListDisabled=t._disabled,e._chipListMultiple=t.multiple})}}]),i}(F);return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Z.Is,8),c.Y36(I.F,8),c.Y36(I.sg,8),c.Y36(u.rD),c.Y36(I.a5,10))},t.\u0275cmp=c.Xpm({type:t,selectors:[["mat-chip-list"]],contentQueries:function(t,e,n){var i;(1&t&&c.Suo(n,S,5),2&t)&&(c.iGM(i=c.CRH())&&(e.chips=i))},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(t,e){1&t&&c.NdJ("focus",function(){return e.focus()})("blur",function(){return e._blur()})("keydown",function(t){return e._keydown(t)}),2&t&&(c.Ikx("id",e._uid),c.uIk("tabindex",e.disabled?null:e._tabIndex)("aria-describedby",e._ariaDescribedby||null)("aria-required",e.role?e.required:null)("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-multiselectable",e.multiple)("role",e.role)("aria-orientation",e.ariaOrientation),c.ekj("mat-chip-list-disabled",e.disabled)("mat-chip-list-invalid",e.errorState)("mat-chip-list-required",e.required))},inputs:{ariaOrientation:["aria-orientation","ariaOrientation"],multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",selectable:"selectable",tabIndex:"tabIndex",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[c._Bn([{provide:k.Eo,useExisting:t}]),c.qOj],ngContentSelectors:A,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(t,e){1&t&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),t}(),R=0,N=function(){var t=function(){function t(e,n){p(this,t),this._elementRef=e,this._defaultOptions=n,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new c.vpe,this.placeholder="",this.id="mat-chip-list-input-"+R++,this._disabled=!1,this._inputElement=this._elementRef.nativeElement}return r(t,[{key:"chipList",set:function(t){t&&(this._chipList=t,this._chipList.registerInput(this))}},{key:"addOnBlur",get:function(){return this._addOnBlur},set:function(t){this._addOnBlur=(0,d.Ig)(t)}},{key:"disabled",get:function(){return this._disabled||this._chipList&&this._chipList.disabled},set:function(t){this._disabled=(0,d.Ig)(t)}},{key:"empty",get:function(){return!this._inputElement.value}},{key:"ngOnChanges",value:function(){this._chipList.stateChanges.next()}},{key:"_keydown",value:function(t){t&&t.keyCode===a.Mf&&!(0,a.Vb)(t,"shiftKey")&&this._chipList._allowFocusEscape(),this._emitChipEnd(t)}},{key:"_blur",value:function(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}},{key:"_focus",value:function(){this.focused=!0,this._chipList.stateChanges.next()}},{key:"_emitChipEnd",value:function(t){!this._inputElement.value&&!!t&&this._chipList._keydown(t),(!t||this._isSeparatorKey(t))&&(this.chipEnd.emit({input:this._inputElement,value:this._inputElement.value}),t&&t.preventDefault())}},{key:"_onInput",value:function(){this._chipList.stateChanges.next()}},{key:"focus",value:function(t){this._inputElement.focus(t)}},{key:"_isSeparatorKey",value:function(t){return!(0,a.Vb)(t)&&new Set(this.separatorKeyCodes).has(t.keyCode)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.SBq),c.Y36(E))},t.\u0275dir=c.lG2({type:t,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(t,e){1&t&&c.NdJ("keydown",function(t){return e._keydown(t)})("blur",function(){return e._blur()})("focus",function(){return e._focus()})("input",function(){return e._onInput()}),2&t&&(c.Ikx("id",e.id),c.uIk("disabled",e.disabled||null)("placeholder",e.placeholder||null)("aria-invalid",e._chipList&&e._chipList.ngControl?e._chipList.ngControl.invalid:null)("aria-required",e._chipList&&e._chipList.required||null))},inputs:{separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[c.TTD]}),t}(),j={separatorKeyCodes:[a.K5]},B=function(){var t=function t(){p(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[u.rD,{provide:E,useValue:j}],imports:[[u.BQ]]}),t}()},91241:function(t,e,n){n.d(e,{G:function(){return F}});var i=n(37716),o=n(72100),a=n(63412),s=n(67310),c=n(37989),l=n(34673),u=n(38583),h=n(51095),d=n(76627);function f(t,e){if(1&t){var n=i.EpF();i.TgZ(0,"button",3),i.NdJ("click",function(){return i.CHM(n),i.oxw().closed.emit(!0)}),i._UZ(1,"mat-icon",4),i.qZA()}}function g(t,e){if(1&t){var n=i.EpF();i.ynx(0),i.TgZ(1,"div",9),i.TgZ(2,"button",10),i.NdJ("click",function(){return i.CHM(n),i.oxw(2).previewFiles.showPrevious()}),i._UZ(3,"mat-icon",11),i.qZA(),i.TgZ(4,"span",12),i._uU(5),i.qZA(),i.TgZ(6,"button",13),i.NdJ("click",function(){return i.CHM(n),i.oxw(2).previewFiles.showNext()}),i._UZ(7,"mat-icon",14),i.qZA(),i.qZA(),i.BQk()}if(2&t){var o=e.ngIf;i.xp6(2),i.Q6J("disabled",!o.havePrevious),i.xp6(3),i.AsE("",o.pointer+1," of ",o.total,""),i.xp6(1),i.Q6J("disabled",!o.haveNext)}}function m(t,e){if(1&t){var n=i.EpF();i.ynx(0),i.TgZ(1,"div",5),i._uU(2),i.qZA(),i.YNc(3,g,8,4,"ng-container",1),i.ALo(4,"async"),i.TgZ(5,"div",6),i.TgZ(6,"button",7),i.NdJ("click",function(){return i.CHM(n),i.oxw().downloadFiles()}),i._UZ(7,"mat-icon",8),i.qZA(),i.Hsn(8),i.qZA(),i.BQk()}if(2&t){var o=e.ngIf,a=i.oxw();i.xp6(2),i.hij(" ",o.entry.name," "),i.xp6(1),i.Q6J("ngIf",i.lcZ(4,3,a.previewFiles.pagination())),i.xp6(3),i.Q6J("disabled",a.disableDownload)}}function v(t,e){if(1&t&&i._UZ(0,"img",17),2&t){var n=i.oxw(2);i.Q6J("src",n.settings.getBaseUrl(!0)+n.settings.get("branding.logo_light"),i.LSH)}}function b(t,e){if(1&t&&(i.TgZ(0,"a",15),i.YNc(1,v,1,1,"img",16),i.qZA()),2&t){var n=i.oxw();i.xp6(1),i.Q6J("ngIf",n.showLogo&&n.settings.get("branding.logo_light"))}}var y,x=["*"],_=((y=function(){function t(e,n){p(this,t),this.previewFiles=e,this.settings=n,this.showLogo=!1,this.disableDownload=!1,this.showCloseButton=!1,this.closed=new i.vpe}return r(t,[{key:"downloadFiles",value:function(){this.previewFiles.download.next()}}]),t}()).\u0275fac=function(t){return new(t||y)(i.Y36(c.T),i.Y36(l.Z))},y.\u0275cmp=i.Xpm({type:y,selectors:[["file-preview-toolbar"]],inputs:{showLogo:"showLogo",disableDownload:"disableDownload",showCloseButton:"showCloseButton"},outputs:{closed:"closed"},ngContentSelectors:x,decls:4,vars:5,consts:[["mat-icon-button","","class","back-button",3,"click",4,"ngIf"],[4,"ngIf"],["routerLink","/drive","class","logo",4,"ngIf"],["mat-icon-button","",1,"back-button",3,"click"],["svgIcon","arrow-back"],[1,"entry-name"],[1,"actions"],["mat-icon-button","",3,"disabled","click"],["svgIcon","file-download"],[1,"navigation"],["mat-icon-button","",1,"previous",3,"disabled","click"],["svgIcon","keyboard-arrow-left"],[1,"meta"],["mat-icon-button","",1,"next",3,"disabled","click"],["svgIcon","keyboard-arrow-right"],["routerLink","/drive",1,"logo"],[3,"src",4,"ngIf"],[3,"src"]],template:function(t,e){1&t&&(i.F$t(),i.YNc(0,f,2,0,"button",0),i.YNc(1,m,9,5,"ng-container",1),i.ALo(2,"async"),i.YNc(3,b,2,1,"a",2)),2&t&&(i.Q6J("ngIf",e.showCloseButton),i.xp6(1),i.Q6J("ngIf",i.lcZ(2,3,e.previewFiles.pagination())),i.xp6(2),i.Q6J("ngIf",e.showLogo&&e.settings.has("branding.logo_light")))},directives:[u.O5,h.lW,d.Hw],pipes:[u.Ov],styles:["file-preview-toolbar{position:fixed;top:0;left:0;display:flex;width:100%;align-items:center;color:var(--be-accent-contrast);height:60px;padding:0 15px;background:linear-gradient(to bottom,rgba(0,0,0,.65) 0%,transparent 100%);z-index:10}@media only screen and (max-width: 550px){file-preview-toolbar{padding:0 5px}}file-preview-toolbar .entry-name{display:block;margin-right:25px;margin-left:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media only screen and (min-width: 550px){file-preview-toolbar .entry-name{max-width:calc(50% - 77.5px)}}file-preview-toolbar .entry-name file-icon{display:inline-block;vertical-align:bottom;margin-right:5px}@media only screen and (min-width: 550px){file-preview-toolbar .navigation{position:absolute;left:50%;top:50%;margin-right:-50%;transform:translate(-50%,-50%)}}@media only screen and (max-width: 550px){file-preview-toolbar .navigation{position:fixed;bottom:10px;left:5px}}file-preview-toolbar .actions{margin-left:auto;white-space:nowrap}file-preview-toolbar .actions button,file-preview-toolbar .actions a{margin:0 5px}file-preview-toolbar .close-button{margin-right:25px}file-preview-toolbar .logo{position:fixed;bottom:15px;right:15px;opacity:.2;width:150px;height:auto}file-preview-toolbar .logo img{width:100%;height:auto}file-preview-toolbar .mat-icon-button[disabled][disabled]{color:#737373}\n"],encapsulation:2,changeDetection:0}),y),w=n(87636);function k(t,e){}function C(t,e){if(1&t){var n=i.EpF();i.ynx(0),i.YNc(1,k,0,0,"ng-template",1),i.NdJ("attached",function(t){return i.CHM(n),i.oxw().listenForDownloadClick(t)}),i.BQk()}if(2&t){var o=e.ngIf;i.xp6(1),i.Q6J("cdkPortalOutlet",o)}}var Z=function(){var t=function(){function t(e){p(this,t),this.previewFiles=e,this.disableDownload=!1}return r(t,[{key:"ngOnChanges",value:function(t){this.previewFiles.set(this.files,this.activeFile)}},{key:"ngOnDestroy",value:function(){this.previewFiles.destroy(),this.downloadSub&&this.downloadSub.unsubscribe()}},{key:"listenForDownloadClick",value:function(t){var e=this;this.downloadSub&&this.downloadSub.unsubscribe(),this.disableDownload||(this.downloadSub=t.instance.download.subscribe(function(){e.previewFiles.download.next()}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(c.T))},t.\u0275cmp=i.Xpm({type:t,selectors:[["preview-container"]],inputs:{files:"files",activeFile:"activeFile",disableDownload:"disableDownload"},features:[i.TTD],decls:2,vars:3,consts:[[4,"ngIf"],[3,"cdkPortalOutlet","attached"]],template:function(t,e){1&t&&(i.YNc(0,C,2,1,"ng-container",0),i.ALo(1,"async")),2&t&&i.Q6J("ngIf",i.lcZ(1,1,e.previewFiles.getPortal()))},directives:[u.O5,w.Pl],pipes:[u.Ov],styles:["[_nghost-%COMP%]{display:flex;width:100%;min-height:100%;align-items:center;justify-content:center;position:relative;overflow:hidden}  .file-preview-wrapper{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto}"],changeDetection:0}),t}(),I=["previewContainer"],A=["moreOptionsButton"],T=function(){var t=function(){function t(e,n,i,o,a){p(this,t),this.el=e,this.overlayRef=n,this.previewFiles=i,this.settings=o,this.data=a,this.entries=[],this.entries=a.entries}return r(t,[{key:"ngOnInit",value:function(){this.data.ticketEntry&&this.previewFiles.setPreviewUriTransformer(this.urlTransformer.bind(this))}},{key:"ngAfterViewInit",value:function(){var t=this;this.bindToDownload(),this.previewContainer.nativeElement.addEventListener("click",function(e){e.target.closest(".preview-object")||t.overlayRef.close()})}},{key:"ngOnDestroy",value:function(){this.downloadSub.unsubscribe()}},{key:"closeOverlay",value:function(){this.overlayRef.close()}},{key:"bindToDownload",value:function(){var t=this;this.downloadSub=this.previewFiles.download.subscribe(function(){var e=t.previewFiles.getAllEntries();t.downloadFile(e)})}},{key:"downloadFile",value:function(t){var e=t.map(function(t){return t.hash}).join(","),n="".concat(this.settings.getBaseUrl(),"/secure/uploads/download?hashes=").concat(e);this.data.ticketEntry&&(n+="&ticketEntry=true"),(0,a.k)(n)}},{key:"urlTransformer",value:function(t){return"".concat(t.url,"?ticketEntry=true")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(s.L),i.Y36(c.T),i.Y36(l.Z),i.Y36(o.p))},t.\u0275cmp=i.Xpm({type:t,selectors:[["file-preview-overlay"]],viewQuery:function(t,e){var n;(1&t&&(i.Gf(I,7,i.SBq),i.Gf(A,5,i.SBq)),2&t)&&(i.iGM(n=i.CRH())&&(e.previewContainer=n.first),i.iGM(n=i.CRH())&&(e.optionsButton=n.first))},decls:3,vars:2,consts:[[3,"showCloseButton","closed"],[3,"files"],["previewContainer",""]],template:function(t,e){1&t&&(i.TgZ(0,"file-preview-toolbar",0),i.NdJ("closed",function(){return e.closeOverlay()}),i.qZA(),i._UZ(1,"preview-container",1,2)),2&t&&(i.Q6J("showCloseButton",!0),i.xp6(1),i.Q6J("files",e.entries))},directives:[_,Z],styles:["[_nghost-%COMP%]{display:block;width:100vw;height:100vh;background-color:rgba(0,0,0,.902);color:var(--be-accent-contrast);overflow:auto;position:relative}preview-container[_ngcontent-%COMP%]{margin:60px 0;min-height:calc(100% - 120px)}"],changeDetection:0}),t}(),P=function(){var t=function(){function t(){p(this,t),this.iconsMap={text:"insert-drive-file",audio:"volume-up",video:"videocam",document:"assignment",image:"image"}}return r(t,[{key:"getFileType",value:function(t){return t.split("/")[0]}},{key:"getIconName",value:function(t){var e=this.getFileType(t);return this.iconsMap[e]||this.iconsMap.text}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),M=n(7964),O=n(9141),S=n(52644);function q(t,e){if(1&t){var n=i.EpF();i.TgZ(0,"button",6),i.NdJ("click",function(t){i.CHM(n);var e=i.oxw().$implicit;return i.oxw().detachEntry(e),t.stopPropagation()}),i._UZ(1,"mat-icon",7),i.qZA()}}function E(t,e){if(1&t){var n=i.EpF();i.TgZ(0,"div",1),i.NdJ("click",function(){var t=i.CHM(n).$implicit;return i.oxw().showPreviewOverlay(t)}),i._UZ(1,"mat-icon",2),i.TgZ(2,"div",3),i._uU(3),i.qZA(),i.TgZ(4,"div",4),i._uU(5),i.ALo(6,"formattedFileSize"),i.qZA(),i.YNc(7,q,2,0,"button",5),i.qZA()}if(2&t){var o=e.$implicit,a=i.oxw();i.xp6(1),i.Q6J("svgIcon",a.mime.getIconName(o.mime))("ngClass",a.mime.getIconName(o.mime)),i.xp6(2),i.Oqu(o.name),i.xp6(2),i.Oqu(i.lcZ(6,5,o.file_size)),i.xp6(2),i.Q6J("ngIf",a.cancelButtonVisible)}}var F=function(){var t=function(){function t(e,n,o){p(this,t),this.mime=e,this.overlay=n,this.uploadQueue=o,this.cancelButtonVisible=!0,this.detached=new i.vpe}return r(t,[{key:"detachEntry",value:function(t){var e=this.attachments.findIndex(function(e){return e.id===t.id});e>-1&&(this.attachments.splice(e,1),this.detached.emit(t))}},{key:"showPreviewOverlay",value:function(t){this.overlay.open(T,{position:"center",origin:"global",data:{entries:[t],ticketEntry:!0}})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(P),i.Y36(M.T),i.Y36(O.A))},t.\u0275cmp=i.Xpm({type:t,selectors:[["reply-attachment-list"]],inputs:{attachments:"attachments",cancelButtonVisible:"cancelButtonVisible"},outputs:{detached:"detached"},decls:1,vars:1,consts:[["class","attachments-list-item",3,"click",4,"ngFor","ngForOf"],[1,"attachments-list-item",3,"click"],[1,"attachment-info","type-icon",3,"svgIcon","ngClass"],[1,"attachment-info","name"],[1,"attachment-info","size"],["class","remove-attachment","type","button","mat-icon-button","",3,"click",4,"ngIf"],["type","button","mat-icon-button","",1,"remove-attachment",3,"click"],["svgIcon","close"]],template:function(t,e){1&t&&i.YNc(0,E,8,7,"div",0),2&t&&i.Q6J("ngForOf",e.attachments)},directives:[u.sg,d.Hw,u.mk,u.O5,h.lW],pipes:[S.y],styles:["reply-attachment-list{display:flex;flex-wrap:wrap;color:var(--be-secondary-text)}reply-attachment-list .attachments-list-item{border:1px solid var(--be-divider-default);margin:0 10px 10px 0;position:relative;height:45px;line-height:45px;border-radius:3px;flex:0 1 auto;min-width:200px;padding:0 8px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}reply-attachment-list .attachments-list-item .attachment-info{display:inline-block;vertical-align:middle}reply-attachment-list .attachments-list-item .attachment-info svg{vertical-align:top}reply-attachment-list .attachments-list-item .attachment-info.name{max-width:115px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:500}reply-attachment-list .attachments-list-item .attachment-info.type-icon{margin-right:3px}reply-attachment-list .attachments-list-item .attachment-info.type-icon.image{color:#db4437}reply-attachment-list .attachments-list-item .attachment-info.type-icon.volume-up{color:#db4437}reply-attachment-list .attachments-list-item .attachment-info.type-icon.videocam{color:#db4437}reply-attachment-list .attachments-list-item .attachment-info.type-icon.insert-drive-file{color:#4285f4}reply-attachment-list .attachments-list-item .attachment-info.type-icon.assignment{color:#0f9d58}reply-attachment-list .attachments-list-item .size{font-size:1.1rem;margin:0 10px 0 5px}\n"],encapsulation:2,changeDetection:0}),t}()},87738:function(t,e,n){n.d(e,{G:function(){return f}});var i,o=n(38583),a=n(58341),r=n(76627),s=n(3679),c=n(49866),l=n(21554),u=n(51095),h=n(72458),d=n(37716),f=((i=function t(){p(this,t)}).\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[o.ez,a.Hi,l.Bb,s.UX,c.N,u.ot,r.Ps,h.si]]}),i)},84889:function(t,e,n){function i(t){var e=Object.assign({},t);return Object.keys(e).forEach(function(t){(null==e[t]||""===e[t])&&delete e[t]}),e}n.d(e,{N:function(){return i}})},6253:function(t,e,n){n.d(e,{B:function(){return d}});var i,o=n(38583),a=n(49866),r=n(3679),s=n(76627),c=n(51095),l=n(22238),u=n(43389),h=n(37716),d=((i=function t(){p(this,t)}).\u0275fac=function(t){return new(t||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[o.ez,a.N,r.UX,s.Ps,c.ot,l.Is,u.p]]}),i)},32141:function(t,e,n){n.d(e,{V:function(){return b}});var i=n(3679),o=n(45435),a=n(88002),s=n(37716),c=n(65987),l=n(38583),u=n(51095),h=n(76627),d=n(15515),f=n(63297);function g(t,e){if(1&t&&(s.TgZ(0,"div",6),s.TgZ(1,"div",7),s._uU(2,"Items per page"),s.qZA(),s.TgZ(3,"div",8),s.TgZ(4,"select",9),s.TgZ(5,"option",10),s._uU(6,"10"),s.qZA(),s.TgZ(7,"option",10),s._uU(8,"15"),s.qZA(),s.TgZ(9,"option",10),s._uU(10,"20"),s.qZA(),s.TgZ(11,"option",10),s._uU(12,"50"),s.qZA(),s.TgZ(13,"option",10),s._uU(14,"100"),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t){var n=s.oxw();s.xp6(4),s.Q6J("formControl",n.perPageControl),s.xp6(1),s.Q6J("ngValue",10),s.xp6(2),s.Q6J("ngValue",15),s.xp6(2),s.Q6J("ngValue",20),s.xp6(2),s.Q6J("ngValue",50),s.xp6(2),s.Q6J("ngValue",100)}}function m(t,e){if(1&t&&(s.TgZ(0,"div",11),s._uU(1),s.ALo(2,"trans"),s.ALo(3,"number"),s.qZA()),2&t){var n=s.oxw();s.xp6(1),s.HOy(" ",n.from," - ",n.to," ",s.lcZ(2,4,"of")," ",s.lcZ(3,6,n.totalRecords)," ")}}var v,b=((v=function(){function t(e,n){p(this,t),this.datable=e,this.cd=n,this.hidePerPage=!1,this.perPageControl=new i.NI(15)}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.changeRef=this.datable.paginator.response$.pipe((0,o.h)(function(t){return!!(null==t?void 0:t.pagination)}),(0,a.U)(function(t){return t.pagination})).subscribe(function(e){t.totalRecords=e.total,t.to=Math.min(e.per_page*e.current_page,t.totalRecords),t.from=Math.max(t.to-e.per_page,1),t.havePrevious=t.datable.paginator.canLoadPrevPage(),t.haveNext=t.datable.paginator.canLoadNextPage(),t.perPageControl.setValue(parseInt(""+e.per_page),{emitEvent:!1}),t.cd.markForCheck()}),this.perPageControl.valueChanges.subscribe(function(e){t.datable.paginator.changePerPage(e)})}},{key:"ngOnDestroy",value:function(){this.changeRef.unsubscribe(),this.datable.destroy()}},{key:"previousPage",value:function(){this.datable.paginator.previousPage()}},{key:"nextPage",value:function(){this.datable.paginator.nextPage()}}]),t}()).\u0275fac=function(t){return new(t||v)(s.Y36(c.x),s.Y36(s.sBO))},v.\u0275cmp=s.Xpm({type:v,selectors:[["datatable-footer"]],inputs:{hidePerPage:"hidePerPage"},decls:9,vars:8,consts:[["class","page-size",4,"ngIf"],[1,"range-actions"],["class","range-label",4,"ngIf"],["type","button","mat-icon-button","",1,"range-button",3,"disabled","click"],["svgIcon","chevron-left"],["svgIcon","chevron-right"],[1,"page-size"],["trans","",1,"page-size-label"],[1,"input-container"],[1,"page-size-input",3,"formControl"],[3,"ngValue"],[1,"range-label"]],template:function(t,e){1&t&&(s.YNc(0,g,15,6,"div",0),s.TgZ(1,"div",1),s.YNc(2,m,4,8,"div",2),s.TgZ(3,"button",3),s.NdJ("click",function(){return e.previousPage()}),s.ALo(4,"async"),s._UZ(5,"mat-icon",4),s.qZA(),s.TgZ(6,"button",3),s.NdJ("click",function(){return e.nextPage()}),s.ALo(7,"async"),s._UZ(8,"mat-icon",5),s.qZA(),s.qZA()),2&t&&(s.Q6J("ngIf",!e.hidePerPage),s.xp6(2),s.Q6J("ngIf",e.from&&e.to&&e.totalRecords),s.xp6(1),s.Q6J("disabled",!e.havePrevious||s.lcZ(4,4,e.datable.paginator.loading$)),s.xp6(3),s.Q6J("disabled",!e.haveNext||s.lcZ(7,6,e.datable.paginator.loading$)))},directives:[l.O5,u.lW,h.Hw,d.P,i.EJ,i.JJ,i.oH,i.YN,i.Kr],pipes:[l.Ov,f.R,l.JJ],styles:["[_nghost-%COMP%]{display:flex;padding:0 8px;align-items:center;justify-content:flex-end;flex-wrap:wrap-reverse;width:100%;height:56px}.page-size[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:8px}.page-size-label[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--be-secondary-text);margin:0 4px}.input-container[_ngcontent-%COMP%]{width:auto}.page-size-input[_ngcontent-%COMP%]{width:60px;height:33px;padding:4px;margin:0 4px}.range-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.range-label[_ngcontent-%COMP%]{color:var(--be-secondary-text);margin:0 32px 0 24px;font-size:1.2rem}.range-button[_ngcontent-%COMP%]{color:var(--be-secondary-text)}.range-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:28px;height:28px;line-height:28px}"],changeDetection:0}),v)},58193:function(t,e,n){n.d(e,{x:function(){return y}});var i,o=n(38583),a=n(76627),r=n(49866),s=n(7539),c=n(3679),l=n(51095),u=n(58341),h=n(12178),d=n(87738),f=n(95217),g=n(98097),m=n(6253),v=n(24668),b=n(37716),y=((i=function t(){p(this,t)}).\u0275fac=function(t){return new(t||i)},i.\u0275mod=b.oAB({type:i}),i.\u0275inj=b.cJS({imports:[[o.ez,r.N,c.UX,c.u5,d.G,f.u,g.X,m.B,v.Bz,l.ot,a.Ps,s.p9,u.Hi,h.Cv],s.p9]}),i)},65987:function(t,i,o){o.d(i,{x:function(){return O}});var a=o(26215),s=o(90739),c=o(61927),l=o(88371),u=o(54395),h=o(88002),d=o(59328),f=o(45435),g=o(93342),m=o(84889),v=o(8208),b={title:"Delete :resource",body:"Are you sure you want to delete selected :resource?",ok:"Delete"},y=o(80970),x=o(39490);function _(t,e){var n=y.pick(e,t);if((0,x.t6)(n)){var i=Number(n);return i<9007199254740991?i:n}return n}function w(t,e){return t.filter(function(t){return function(t,e){var n="string"==typeof t?t:k(t),i=e.trim().toLowerCase();return-1!==n.indexOf(i)}(t,e)})}function k(t){return Object.keys(t).reduce(function(e,n){return e+(t[n]&&"object"==typeof t[n]?k(t[n]):t[n])+"\u25ec"},"").toLowerCase()}var C,Z=o(3679),I=o(37716),A=o(15381),T=o(24668),P=o(90299),M=o(90962),O=((C=function(){function t(e,n,i,o){p(this,t),this.modal=e,this.router=n,this.http=i,this.localStorage=o,this.sort$=new a.X({}),this.filters$=new a.X({}),this.searchControl=new Z.NI,this.searchTerm$=new a.X(null),this.staticParams$=new a.X({}),this.paginator=new l.D(this.router,this.http,this.localStorage),this.ignoreNextParamChange=!1,this.originalData$=new a.X([]),this.data$=new a.X([]),this.selectedRows$=new a.X([])}return r(t,[{key:"data",get:function(){return this.data$.value},set:function(t){var e=n(t);this.originalData$.next(e),this.data$.next(e),this.ignoreNextParamChange=!0,this.reset()}},{key:"init",value:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.config=i,this.staticParams$.next(Object.assign(Object.assign({},this.staticParams$.value),i.staticParams)),i.uri?this.connectToPaginator():i.initialData&&(this.data=i.initialData),i.uri){var o=this.router.routerState.root.snapshot.queryParams,a=o.query;this.searchControl.setValue(a),this.searchTerm$.next(a),this.sort$.next({orderBy:o.orderBy,orderDir:o.orderDir})}return this.searchControlSub=this.searchControl.valueChanges.pipe((0,u.b)(300)).subscribe(function(e){t.searchTerm$.next(e)}),this.mainSub=(0,s.aj)([this.sort$,this.filters$,this.searchTerm$.pipe((0,h.U)(function(t){return{query:t}})),this.staticParams$]).pipe((0,u.b)(0,c.Z),(0,h.U)(function(t){return Object.assign.apply(Object,[{}].concat(n(t)))})).subscribe(function(n){if(t.ignoreNextParamChange)return t.ignoreNextParamChange=!1;n=(0,m.N)(n),Object.entries(n).forEach(function(t){var i=e(t,2),o=i[0],a=i[1];"object"==typeof a&&a.id&&(n["".concat(o,"Id")]=a.id,delete n[o])}),t.config.uri?t.paginator.paginate(n,t.config.uri,t.config.initialData):Object.keys(n).length&&t.data.length&&t.applyLocalTransforms(n)}),this}},{key:"connectToPaginator",value:function(){var t=this;this.paginatorSub=this.paginator.response$.pipe((0,d.G)()).subscribe(function(i){var o,a=e(i,2),r=a[0],s=a[1],c=t.config.infiniteScroll&&(null===(o=null==r?void 0:r.pagination)||void 0===o?void 0:o.current_page)!==s.pagination.current_page?[].concat(n(t.data$.value),n(s.pagination.data)):s.pagination.data;t.data$.next(c)})}},{key:"applyLocalTransforms",value:function(t){var e=n(this.originalData$.value);t.query&&(e=w(e,t.query)),t.orderBy&&t.orderDir&&(e=function(t,e,n){return t.sort(function(t,i){var o=_(t,e),a=_(i,e),r=typeof o,s=typeof a;r!==s&&("number"===r&&(o+=""),"number"===s&&(a+=""));var c=0;return null!=o&&null!=a?o>a?c=1:o<a&&(c=-1):null!=o?c=1:null!=a&&(c=-1),c*("asc"===n?1:-1)})}(e,t.orderBy,t.orderDir)),this.data$.next(e)}},{key:"addFilter",value:function(t,e){var n,i,o;this.filters$.next(Object.assign(Object.assign({},this.filters$.value),(o=e,(i=t)in(n={})?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n)))}},{key:"removeFilter",value:function(t){var e=Object.assign({},this.filters$.value);delete e[t],this.filters$.next(e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.filters$.next({}),this.sort$.next({}),this.selectedRows$.next([]),t&&this.staticParams$.next(t)}},{key:"openCrupdateResourceModal",value:function(t,e,n){var i=this;return this.modal.open(t,e,n).beforeClosed().pipe((0,f.h)(function(t){return!!t}),(0,g.b)(function(){return i.reset()}))}},{key:"confirmResourceDeletion",value:function(t){var e=Object.assign(Object.assign({},b),{replacements:{resource:t}});return this.modal.open(v.z,e).afterClosed().pipe((0,f.h)(function(t){return t}))}},{key:"getCurrentParams",value:function(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.sort$.value),this.filters$.value),this.staticParams$.value),this.paginator.params)}},{key:"destroy",value:function(){var t,e,n;null===(t=this.paginatorSub)||void 0===t||t.unsubscribe(),null===(e=this.mainSub)||void 0===e||e.unsubscribe(),null===(n=this.searchControlSub)||void 0===n||n.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||C)(I.LFG(A.u),I.LFG(T.F0),I.LFG(P.r),I.LFG(M.m))},C.\u0275prov=I.Yz7({token:C,factory:C.\u0275fac}),C)},44291:function(e,n,i){i.d(n,{f:function(){return S},o:function(){return q}});var o=i(37716),a=i(26215),c=i(9778),u=i(38583),h=i(19056);function f(t,e){1&t&&o._UZ(0,"default-preview",2)}function g(t,e){if(1&t&&(o.TgZ(0,"div",3),o.TgZ(1,"pre"),o._uU(2),o.ALo(3,"async"),o.qZA(),o.qZA()),2&t){var n=o.oxw();o.xp6(2),o.Oqu(o.lcZ(3,1,n.content$))}}var m,v,b=((v=function(t){s(n,t);var e=l(n);function n(){var t;return p(this,n),(t=e.apply(this,arguments)).content$=new a.X(""),t.fileTooLarge$=new a.X(!1),t}return r(n,[{key:"ngOnInit",value:function(){this.file.file_size>5242880?this.fileTooLarge$.next(!0):this.loadFileContents()}},{key:"loadFileContents",value:function(){var t=this;this.getContents().subscribe(function(e){t.content$.next(e)})}}]),n}(c.f)).\u0275fac=function(t){return(m||(m=o.n5z(v)))(t||v)},v.\u0275cmp=o.Xpm({type:v,selectors:[["text-preview"]],features:[o.qOj],decls:4,vars:4,consts:[["message","This file is too large to preview.",4,"ngIf","ngIfElse"],["textPreview",""],["message","This file is too large to preview."],[1,"text-wrapper","preview-object"]],template:function(t,e){if(1&t&&(o.YNc(0,f,1,0,"default-preview",0),o.ALo(1,"async"),o.YNc(2,g,4,3,"ng-template",null,1,o.W1O)),2&t){var n=o.MAs(3);o.Q6J("ngIf",o.lcZ(1,2,e.fileTooLarge$))("ngIfElse",n)}},directives:[u.O5,h.u],pipes:[u.Ov],styles:["[_nghost-%COMP%]{display:block;width:80%;min-height:80%}@media only screen and (max-width: 768px){[_nghost-%COMP%]{width:90%}}.text-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;background-color:var(--be-background);box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px rgba(0,0,0,.141),0 1px 8px rgba(0,0,0,.122);border-radius:4px;color:var(--be-text);word-wrap:break-word;padding:20px;overflow:auto}pre[_ngcontent-%COMP%]{display:block;white-space:pre-wrap;word-wrap:break-word;margin:0;font-size:1.4rem;font-family:inherit}default-preview[_ngcontent-%COMP%]{margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}"],changeDetection:0}),v),y=["playerEl"];function x(t,e){1&t&&o._UZ(0,"default-preview")}var _=function(){var t=function(t){s(n,t);var e=l(n);function n(){var t;return p(this,n),(t=e.apply(this,arguments)).invalidMedia=!1,t}return r(n,[{key:"ngOnInit",value:function(){if(this.invalidMedia=!this.canPlayVideo(),!this.invalidMedia){var t=document.createElement("source");t.src=this.getSrc(),t.type=this.file.mime,this.player().appendChild(t),this.player().play()}}},{key:"canPlayVideo",value:function(){return!!this.player().canPlayType(this.file.mime)}},{key:"player",value:function(){return this.playerEl.nativeElement}}]),n}(c.f);return t.\u0275fac=function(){var e;return function(n){return(e||(e=o.n5z(t)))(n||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["audio-preview"]],viewQuery:function(t,e){var n;(1&t&&o.Gf(y,7),2&t)&&(o.iGM(n=o.CRH())&&(e.playerEl=n.first))},features:[o.qOj],decls:3,vars:3,consts:[["controls","controls","controlsList","nodownload noremoteplayback",1,"preview-object"],["playerEl",""],[4,"ngIf"]],template:function(t,e){1&t&&(o._UZ(0,"audio",0,1),o.YNc(2,x,1,0,"default-preview",2)),2&t&&(o.ekj("hidden",e.invalidMedia),o.xp6(2),o.Q6J("ngIf",e.invalidMedia))},directives:[u.O5,h.u],styles:["[_nghost-%COMP%]{display:block;max-width:80%;height:auto;margin-bottom:40px}@media only screen and (max-width: 768px){[_nghost-%COMP%]{width:90%}}audio[_ngcontent-%COMP%]{display:block;max-width:100%;margin:auto;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px rgba(0,0,0,.141),0 1px 8px rgba(0,0,0,.122);position:absolute;top:0;left:0;right:0;bottom:0;max-height:60px}default-preview[_ngcontent-%COMP%]{margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}"],changeDetection:0}),t}();function w(t,e){1&t&&o._UZ(0,"default-preview")}var k=function(){var t=function(t){s(n,t);var e=l(n);function n(){return p(this,n),e.apply(this,arguments)}return n}(_);return t.\u0275fac=function(){var e;return function(n){return(e||(e=o.n5z(t)))(n||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["video-preview"]],features:[o.qOj],decls:3,vars:3,consts:[["controls","controls","type","video/mp4","controlsList","nodownload noremoteplayback","playsinline","",1,"preview-object"],["playerEl",""],[4,"ngIf"]],template:function(t,e){1&t&&(o._UZ(0,"video",0,1),o.YNc(2,w,1,0,"default-preview",2)),2&t&&(o.ekj("hidden",e.invalidMedia),o.xp6(2),o.Q6J("ngIf",e.invalidMedia))},directives:[u.O5,h.u],styles:["[_nghost-%COMP%]{display:block;max-width:100%;max-height:100%;height:auto;margin-bottom:40px}@media only screen and (max-width: 768px){[_nghost-%COMP%]{width:90%}}video[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:100%;height:auto;margin:auto;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px rgba(0,0,0,.141),0 1px 8px rgba(0,0,0,.122);position:absolute;top:0;left:0;right:0;bottom:0}default-preview[_ngcontent-%COMP%]{margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}"],changeDetection:0}),t}(),C=function(){var t=function(t){s(n,t);var e=l(n);function n(){return p(this,n),e.apply(this,arguments)}return n}(c.f);return t.\u0275fac=function(){var e;return function(n){return(e||(e=o.n5z(t)))(n||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["image-preview"]],features:[o.qOj],decls:1,vars:1,consts:[[1,"preview-object",3,"src"]],template:function(t,e){1&t&&o._UZ(0,"img",0),2&t&&o.Q6J("src",e.getSafeSrc(),o.LSH)},styles:["[_nghost-%COMP%]{display:block;max-width:100%;max-height:100%;height:auto;margin-bottom:40px}@media only screen and (max-width: 768px){[_nghost-%COMP%]{width:90%}}img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;height:auto;margin:auto;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px rgba(0,0,0,.141),0 1px 8px rgba(0,0,0,.122);position:absolute;top:0;left:0;right:0;bottom:0;background-color:var(--be-background)}"],changeDetection:0}),t}(),Z=function(){var e=function(e){s(i,e);var n=l(i);function i(){var t;return p(this,i),(t=n.apply(this,arguments)).className="preview-object",t}return r(i,[{key:"getSrc",value:function(){return t(d(i.prototype),"getSrc",this).call(this)+"#toolbar=0"}}]),i}(c.f);return e.\u0275fac=function(){var t;return function(n){return(t||(t=o.n5z(e)))(n||e)}}(),e.\u0275cmp=o.Xpm({type:e,selectors:[["pdf-preview"]],hostVars:2,hostBindings:function(t,e){2&t&&o.Tol(e.className)},features:[o.qOj],decls:1,vars:1,consts:[[3,"src"]],template:function(t,e){1&t&&o._UZ(0,"iframe",0),2&t&&o.Q6J("src",e.getSafeSrc(),o.uOi)},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}object[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:none}"],changeDetection:0}),e}(),I=i(24890),A=i(20616),T=["iframe"];function P(t,e){if(1&t){var n=o.EpF();o.ynx(0),o._UZ(1,"iframe",3,4),o.TgZ(3,"div",5),o.NdJ("click",function(){return o.CHM(n),o.oxw().openInNewWindow()}),o.qZA(),o.BQk()}}function M(t,e){1&t&&o._UZ(0,"default-preview")}var O=function(){var t=function(t){s(n,t);var e=l(n);function n(){var t;return p(this,n),(t=e.apply(this,arguments)).loading$=new a.X(!0),t.showDefaultPreview$=new a.X(!1),t}return r(n,[{key:"ngAfterViewInit",value:function(){var t=this;if(this.file.file_size>25e6)return this.showDefaultPreview();this.iframe.nativeElement.onload=function(){clearTimeout(t.timeoutRef),t.stopLoading()},this.getIframeSrc().then(function(e){t.iframe.nativeElement.src=e}).catch(function(){t.showDefaultPreview()}),this.timeoutRef=setTimeout(function(){t.showDefaultPreview()},5e3)}},{key:"stopLoading",value:function(){this.loading$.next(!1)}},{key:"showDefaultPreview",value:function(){this.stopLoading(),this.showDefaultPreview$.next(!0)}},{key:"openInNewWindow",value:function(){window.open(window.location.href,"_blank")}},{key:"getIframeSrc",value:function(){var t=this;return new Promise(function(e,n){var i=t.getSrc();-1===i.indexOf("shareable_link")?t.http.post("uploads/".concat(t.file.id,"/add-preview-token")).subscribe(function(n){i+="?preview_token=".concat(n.preview_token),e(t.getFullPreviewUrl(i))},function(){return n}):e(t.getFullPreviewUrl(i))})}},{key:"getFullPreviewUrl",value:function(t){return t=(0,I.s)(t)?t:this.settings.getBaseUrl()+"/"+t,"https://view.officeapps.live.com/op/embed.aspx?src="+encodeURIComponent(t)}}]),n}(c.f);return t.\u0275fac=function(){var e;return function(n){return(e||(e=o.n5z(t)))(n||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["google-docs-viewer"]],viewQuery:function(t,e){var n;(1&t&&o.Gf(T,5),2&t)&&(o.iGM(n=o.CRH())&&(e.iframe=n.first))},features:[o.qOj],decls:6,vars:7,consts:[[4,"ngIf","ngIfElse"],["defaultPreview",""],[1,"overlay",3,"isVisible"],[1,"preview-object"],["iframe",""],[1,"pop-out-block","office-block",3,"click"]],template:function(t,e){if(1&t&&(o.YNc(0,P,4,0,"ng-container",0),o.ALo(1,"async"),o.YNc(2,M,1,0,"ng-template",null,1,o.W1O),o._UZ(4,"loading-indicator",2),o.ALo(5,"async")),2&t){var n=o.MAs(3);o.Q6J("ngIf",!o.lcZ(1,3,e.showDefaultPreview$))("ngIfElse",n),o.xp6(4),o.Q6J("isVisible",o.lcZ(5,5,e.loading$))}},directives:[u.O5,A.Q,h.u],pipes:[u.Ov],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:none}loading-indicator.overlay[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-color:transparent}default-preview[_ngcontent-%COMP%]{margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}.pop-out-block[_ngcontent-%COMP%]{position:absolute;right:12px;cursor:pointer}.office-block[_ngcontent-%COMP%]{width:25px;height:25px;bottom:0}.gdocs-block[_ngcontent-%COMP%]{width:40px;height:40px;top:12px}"],changeDetection:0}),t}(),S=new o.OlP("AVAILABLE_PREVIEWS"),q=function(){var t=function t(){p(this,t),this.text=b,this.video=k,this.audio=_,this.image=C,this.pdf=Z,this.spreadsheet=O,this.powerPoint=O,this.word=O,this["text/rtf"]=h.u};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t}()},9778:function(t,e,n){n.d(e,{f:function(){return d}});var i,o=n(37716),a=n(74537),s=n(93961),c=n(34673),l=n(90299),u=n(39075),h=n(24688),d=((i=function(){function t(e,n,i,a,r,s){p(this,t),this.file=e,this.transformer=n,this.settings=i,this.http=a,this.sanitizer=r,this.currentUser=s,this.filePreviewWrapper=!0,this.download=new o.vpe}return r(t,[{key:"getSrc",value:function(){return this.transformer(this.file)}},{key:"getSafeSrc",value:function(){return this.sanitizer.bypassSecurityTrustResourceUrl(this.getSrc())}},{key:"getContents",value:function(){return this.http.get(this.getSrc(),null,{responseType:"text"})}}]),t}()).\u0275fac=function(t){return new(t||i)(o.Y36(a.w),o.Y36(s.n),o.Y36(c.Z),o.Y36(l.r),o.Y36(u.H7),o.Y36(h.I))},i.\u0275dir=o.lG2({type:i,hostVars:2,hostBindings:function(t,e){2&t&&o.ekj("file-preview-wrapper",e.filePreviewWrapper)}}),i)},74537:function(t,e,n){n.d(e,{w:function(){return i}});var i=new(n(37716).OlP)("CURRENT_PREVIEW_FILE")},19056:function(t,e,n){n.d(e,{u:function(){return m}});var i=n(9778),o=n(37716),a=n(38583),c=n(51095),u=n(15515),h=n(63297);function d(t,e){if(1&t){var n=o.EpF();o.TgZ(0,"button",3),o.NdJ("click",function(){return o.CHM(n),o.oxw().download.emit()}),o._uU(1,"Download"),o.qZA()}}var f,g,m=((g=function(t){s(n,t);var e=l(n);function n(){return p(this,n),e.apply(this,arguments)}return r(n,[{key:"getMessage",value:function(){return this.message||"No file preview available."}}]),n}(i.f)).\u0275fac=function(t){return(f||(f=o.n5z(g)))(t||g)},g.\u0275cmp=o.Xpm({type:g,selectors:[["default-preview"]],inputs:{message:"message"},features:[o.qOj],decls:5,vars:4,consts:[[1,"panel","preview-object"],[1,"message"],["mat-raised-button","","color","accent","trans","",3,"click",4,"ngIf"],["mat-raised-button","","color","accent","trans","",3,"click"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o._uU(2),o.ALo(3,"trans"),o.qZA(),o.YNc(4,d,2,0,"button",2),o.qZA()),2&t&&(o.xp6(2),o.Oqu(o.lcZ(3,2,e.getMessage())),o.xp6(2),o.Q6J("ngIf",e.download.observers.length))},directives:[a.O5,c.lW,u.P],pipes:[h.R],styles:["[_nghost-%COMP%]{display:block;max-width:380px;max-height:150px}.panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:var(--be-background);color:var(--be-text);border-radius:4px;width:100%;height:100%;margin:auto;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px rgba(0,0,0,.141),0 1px 8px rgba(0,0,0,.122)}.message[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:15px}.mat-raised-button[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),g)},37989:function(t,e,n){n.d(e,{T:function(){return g}});var i,o=n(26215),a=n(79765),s=n(44291),c=n(87636),l=n(74537),u=n(19056),h=n(45435),d=n(93961),f=n(37716),g=((i=function(){function t(e,n){p(this,t),this.availablePreviews=e,this.injector=n,this.files=[],this.portal=new o.X(null),this.meta=new o.X({}),this.previewUriTransformer=null,this.download=new a.xQ}return r(t,[{key:"pagination",value:function(){return this.meta.pipe((0,h.h)(function(t){return t&&!!t.entry}))}},{key:"getCurrent",value:function(){return this.meta.value.entry}},{key:"getAllEntries",value:function(){return this.files}},{key:"getPortal",value:function(){return this.portal.asObservable()}},{key:"showNext",value:function(){!this.meta.value.haveNext||(this.updateMeta("next"),this.updatePortal())}},{key:"showPrevious",value:function(){!this.meta.value.havePrevious||(this.updateMeta("previous"),this.updatePortal())}},{key:"updateMeta",value:function(t){var e=0;if("string"==typeof t){var n=this.meta.value.pointer;e="next"===t?n+1:n-1}else"number"==typeof t&&(e=t);this.meta.next({pointer:e,entry:this.files[e],total:this.files.length,haveNext:e+1<this.files.length,havePrevious:e-1>-1})}},{key:"updatePortal",value:function(){var t=this.getCurrent();this.portal.next(new c.C5(this.availablePreviews[null==t?void 0:t.mime]||this.availablePreviews[null==t?void 0:t.type]||u.u,null,this.createInjector()))}},{key:"set",value:function(t,e){!t||0===t.length||(this.files=t.filter(function(t){return"folder"!==t.type}),this.updateMeta(e),this.updatePortal())}},{key:"createInjector",value:function(){var t=new WeakMap;return t.set(l.w,this.getCurrent()),this.previewUriTransformer&&t.set(d.n,this.previewUriTransformer),new c.nK(this.injector,t)}},{key:"destroy",value:function(){this.meta.next({}),this.files=null,this.portal.next(null)}},{key:"setPreviewUriTransformer",value:function(t){this.previewUriTransformer=t}}]),t}()).\u0275fac=function(t){return new(t||i)(f.LFG(s.f),f.LFG(f.zs3))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},93961:function(t,e,n){n.d(e,{n:function(){return i}});var i=new(n(37716).OlP)("PREVIEW_URL_TRANSFORMER",{factory:function(){return function(t){return t.url}},providedIn:"root"})},82192:function(t,e,n){n.d(e,{d:function(){return H}});var i,o=n(64762),a=n(37716),c=n(34673),u=n(35402),h=n(96605),d=n(19244),f=((i=function(){function t(e,n,i,o,a){p(this,t),this.settings=e,this.zone=n,this.lazyLoader=i,this.breakpoints=o,this.i18n=a,this.makeBootstrapPromise()}return r(t,[{key:"reset",value:function(){!this.editorIsReady()||(this.tinymceInstance.setContent(""),this.tinymceInstance.undoManager.clear())}},{key:"focus",value:function(){var t=this;this.waitForEditor().then(function(){t.tinymceInstance.focus(!1)})}},{key:"hasUndo",value:function(){return this.editorIsReady()&&this.tinymceInstance.undoManager.hasUndo()}},{key:"hasRedo",value:function(){return this.editorIsReady()&&this.tinymceInstance.undoManager.hasRedo()}},{key:"queryCommandState",value:function(t){return this.editorIsReady()&&this.tinymceInstance.queryCommandState(t)}},{key:"execCommand",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.waitForEditor().then(function(){e.zone.run(function(){e.tinymceInstance.execCommand(t,!1,n)})})}},{key:"getContents",value:function(t){return this.editorIsReady()?this.tinymceInstance.getContent(t):""}},{key:"setContents",value:function(t){var e=this;this.waitForEditor().then(function(){!e.tinymceInstance.undoManager||(e.tinymceInstance.undoManager.transact(function(){e.tinymceInstance.setContent(t)}),e.tinymceInstance.selection.setCursorLocation(),e.tinymceInstance.nodeChanged(),e.tinymceInstance.execCommand("mceResize"))})}},{key:"insertContents",value:function(t){var e=this;this.waitForEditor().then(function(){e.tinymceInstance.execCommand("mceInsertContent",!1,t),setTimeout(function(){return e.tinymceInstance.selection.collapse()})})}},{key:"insertImage",value:function(t){var e=this;this.waitForEditor().then(function(){e.insertContents('<img src="'+t+'"/>'),setTimeout(function(){return e.execCommand("mceAutoResize")},500)})}},{key:"waitForEditor",value:function(){var t=this;return this.tinymceInstance?new Promise(function(e){return e(t.tinymceInstance)}):this.bootstrapPromise?this.bootstrapPromise:void 0}},{key:"setConfig",value:function(t){var e=this;this.config=t,this.loadTinymce().then(function(){e.initTinymce()})}},{key:"editorIsReady",value:function(){return!this.bootstrapPromise&&!!this.tinymceInstance&&!!this.tinymceInstance.undoManager}},{key:"loadTinymce",value:function(){return this.lazyLoader.loadAsset("js/tinymce/tinymce.min.js",{type:"js"})}},{key:"initTinymce",value:function(){var t=this,e={target:this.config.textAreaEl.nativeElement,plugins:["link","codesample","paste","autoresize"],branding:!1,browser_spellcheck:!0,max_height:this.config.maxHeight,min_height:this.config.minHeight,autoresize_on_init:!1,paste_as_text:!0,elementpath:!1,statusbar:!1,entity_encoding:"raw",menubar:!1,toolbar:!1,convert_urls:!1,forced_root_block:!1,document_base_url:document.baseURI,element_format:"html",body_class:"editor-body",content_style:'html {font-size: 62.5%;}\n.editor-body {font-size: 1.4rem;font-family: "Roboto", "Helvetica Neue", sans-serif;color: rgba(0, 0, 0, .87);}\nimg {max-width: 100%}\ncode[class*=language-], pre[class*=language-] {font-size: inherit;} .mce-preview-object {border: none;}',content_css:["https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic"],default_link_target:"_blank",link_assume_external_targets:!0,target_list:!1,link_title:!1,image_dimensions:!1,image_description:!1,setup:function(e){t.tinymceInstance=e,e.on("change",function(){return t.config.onChange.emit(e.getContent())}),e.on("click",function(){t.zone.run(function(){})})},init_instance_callback:function(e){t.bootstrapPromise=!1,t.bootstrapPromiseResolve(t.tinymceInstance);var n=function(){t.zone.run(function(){t.config.onChange.emit(e.getContent()),t.config.onCtrlEnter.emit()})};e.shortcuts.add("ctrl+13","desc",n),window.navigator.platform.toLowerCase().includes("mac")&&e.shortcuts.add("meta+13","desc",n)}};if(this.config.showAdvancedControls&&(e.plugins=e.plugins.concat(["media","hr","visualblocks","visualchars","wordcount"]),e.forced_root_block="p",e.statusbar=!0,e.autoresize_on_init=!0,e.extended_valid_elements="svg[*],use[*],iframe[src|frameborder|width|height|allow=*|allowfullscreen],script[src]",e.elementpath=!0,e.content_css.push(this.settings.getAssetUrl()+"css/advanced-editor-styles.css"),e.target_list=[{title:this.i18n.t("Current window"),value:""},{title:this.i18n.t("New Window"),value:"_blank"}],e.codesample_languages=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"Shell",value:"shell-session"},{text:"Bash",value:"bash"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}]),"auto"===this.config.minHeight){var n=this.config.editorEl.nativeElement.parentElement.offsetHeight-74-4;e.min_height=n,e.max_height=n}tinymce.init(e)}},{key:"destroyEditor",value:function(){try{this.tinymceInstance&&this.tinymceInstance.remove(),this.tinymceInstance=null,this.makeBootstrapPromise()}catch(t){}}},{key:"makeBootstrapPromise",value:function(){var t=this;this.bootstrapPromise=new Promise(function(e){return t.bootstrapPromiseResolve=e})}}]),t}()).\u0275fac=function(t){return new(t||i)(a.LFG(c.Z),a.LFG(a.R0b),a.LFG(u.j),a.LFG(h.S),a.LFG(d.Z))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i),g=n(56313),m=n(9141),v=n(53534),b=n(75978),y=n(13913),x=n(3679),_=n(54395),w=n(48976),k=n(24688),C=n(7964),Z=n(18715),I=n(68756),A=n(16850),T=n(82655),P=function(){var t,e=function(t){s(n,t);var e=l(n);function n(){var t;return p(this,n),(t=e.apply(this,arguments)).DEFAULT_MAX_SIZE_MB=3,t}return r(n,[{key:"initValidations",value:function(){var t,e=[new I.p({maxSize:(0,A.F)(this.DEFAULT_MAX_SIZE_MB,"MB")},this.i18n),new T.p({types:["image"]},this.i18n)];(t=this.validations).push.apply(t,e)}}]),n}(Z.c);return e.\u0275fac=function(n){return(t||(t=a.n5z(e)))(n||e)},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),M=n(38583),O=n(11436),S=n(76627),q=n(33935),E=n(15515),F=n(63297),U=["visualArea"],L=["sourceArea"];function J(t,e){if(1&t){var n=a.EpF();a.TgZ(0,"div",3),a.TgZ(1,"button",4),a.NdJ("click",function(){return a.CHM(n),a.oxw().openFileUploadDialog()}),a.ALo(2,"trans"),a._UZ(3,"mat-icon",19),a.qZA(),a.qZA()}2&t&&(a.xp6(1),a.Q6J("matTooltip",a.lcZ(2,1,"Add Attachment")))}function R(t,e){if(1&t){var n=a.EpF();a.TgZ(0,"div",3),a.TgZ(1,"button",4),a.NdJ("click",function(){return a.CHM(n),a.oxw().execCommand("codesample")}),a.ALo(2,"trans"),a._UZ(3,"mat-icon",20),a.qZA(),a.qZA()}2&t&&(a.xp6(1),a.Q6J("matTooltip",a.lcZ(2,1,"Insert Code Sample")))}function N(t,e){if(1&t){var n=a.EpF();a.TgZ(0,"button",23),a.NdJ("click",function(){return a.CHM(n),a.oxw(2).openInsertImageModal()}),a.ALo(1,"trans"),a._UZ(2,"mat-icon",24),a.qZA()}2&t&&a.Q6J("matTooltip",a.lcZ(1,1,"Insert Image"))}function j(t,e){if(1&t){var n=a.EpF();a.TgZ(0,"div",3),a.TgZ(1,"button",4),a.NdJ("click",function(){return a.CHM(n),a.oxw().execCommand("mceLink")}),a.ALo(2,"trans"),a._UZ(3,"mat-icon",21),a.qZA(),a.YNc(4,N,3,3,"button",22),a.qZA()}if(2&t){var i=a.oxw();a.xp6(1),a.ekj("active",i.queryCommandState("link")),a.Q6J("matTooltip",a.lcZ(2,4,"Insert Link")),a.xp6(3),a.Q6J("ngIf",i.currentUser.hasPermission("files.create"))}}function B(t,e){if(1&t){var n=a.EpF();a.TgZ(0,"div",1),a.TgZ(1,"div",3),a.TgZ(2,"button",25),a.TgZ(3,"span",26),a._uU(4,"Insert"),a.qZA(),a._UZ(5,"mat-icon",27),a.qZA(),a.TgZ(6,"mat-menu",null,28),a.TgZ(8,"div",29),a.NdJ("click",function(){return a.CHM(n),a.oxw().execCommand("InsertHorizontalRule")}),a._UZ(9,"mat-icon",30),a.TgZ(10,"span",26),a._uU(11,"Horizontal Line"),a.qZA(),a.qZA(),a.TgZ(12,"div",29),a.NdJ("click",function(){return a.CHM(n),a.oxw().execCommand("mceLink")}),a._UZ(13,"mat-icon",21),a.TgZ(14,"span",26),a._uU(15,"Link"),a.qZA(),a.qZA(),a.TgZ(16,"div",29),a.NdJ("click",function(){return a.CHM(n),a.oxw().execCommand("mceMedia")}),a._UZ(17,"mat-icon",31),a.TgZ(18,"span",26),a._uU(19,"Media"),a.qZA(),a.qZA(),a.TgZ(20,"div",32),a.NdJ("click",function(){return a.CHM(n),a.oxw().insertInfoContainer("important")}),a._UZ(21,"mat-icon",33),a.TgZ(22,"span",26),a._uU(23,"Important"),a.qZA(),a.qZA(),a.TgZ(24,"div",32),a.NdJ("click",function(){return a.CHM(n),a.oxw().insertInfoContainer("warning")}),a._UZ(25,"mat-icon",34),a.TgZ(26,"span",26),a._uU(27,"Warning"),a.qZA(),a.qZA(),a.TgZ(28,"div",32),a.NdJ("click",function(){return a.CHM(n),a.oxw().insertInfoContainer("note")}),a._UZ(29,"mat-icon",35),a.TgZ(30,"span",26),a._uU(31,"Note"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(32,"div",3),a.TgZ(33,"button",36),a.TgZ(34,"span",26),a._uU(35,"Format"),a.qZA(),a._UZ(36,"mat-icon",27),a.qZA(),a.TgZ(37,"mat-menu",37,38),a.TgZ(39,"div",29),a.NdJ("click",function(){return a.CHM(n),a.oxw().execCommand("FormatBlock","h1")}),a.TgZ(40,"div",39),a._uU(41,"Heading 1"),a.qZA(),a.TgZ(42,"div",40),a._uU(43,"Alt+Shift+1"),a.qZA(),a.qZA(),a.TgZ(44,"div",29),a.NdJ("click",function(){return a.CHM(n),a.oxw().execCommand("FormatBlock","h2")}),a.TgZ(45,"div",39),a._uU(46,"Heading 2"),a.qZA(),a.TgZ(47,"div",40),a._uU(48,"Alt+Shift+2"),a.qZA(),a.qZA(),a.TgZ(49,"div",29),a.NdJ("click",function(){return a.CHM(n),a.oxw().execCommand("FormatBlock","h3")}),a.TgZ(50,"div",39),a._uU(51,"Heading 3"),a.qZA(),a.TgZ(52,"div",40),a._uU(53,"Alt+Shift+3"),a.qZA(),a.qZA(),a.TgZ(54,"div",29),a.NdJ("click",function(){return a.CHM(n),a.oxw().execCommand("FormatBlock","h4")}),a.TgZ(55,"div",39),a._uU(56,"Heading 4"),a.qZA(),a.TgZ(57,"div",40),a._uU(58,"Alt+Shift+4"),a.qZA(),a.qZA(),a.TgZ(59,"div",29),a.NdJ("click",function(){return a.CHM(n),a.oxw().execCommand("FormatBlock","code")}),a.TgZ(60,"div",39),a._uU(61,"Code"),a.qZA(),a.qZA(),a.TgZ(62,"div",29),a.NdJ("click",function(){return a.CHM(n),a.oxw().execCommand("strikethrough")}),a.TgZ(63,"div",39),a._uU(64,"Strikethrough"),a.qZA(),a.qZA(),a.TgZ(65,"div",29),a.NdJ("click",function(){return a.CHM(n),a.oxw().execCommand("superscript")}),a.TgZ(66,"div",39),a._uU(67,"Superscript"),a.qZA(),a.qZA(),a.TgZ(68,"div",29),a.NdJ("click",function(){return a.CHM(n),a.oxw().execCommand("subscript")}),a.TgZ(69,"div",39),a._uU(70,"Subscript"),a.qZA(),a.qZA(),a.TgZ(71,"div",29),a.NdJ("click",function(){return a.CHM(n),a.oxw().execCommand("mceBlockQuote")}),a.TgZ(72,"div",39),a._uU(73,"Blockquote"),a.qZA(),a.qZA(),a.TgZ(74,"div",29),a.NdJ("click",function(){return a.CHM(n),a.oxw().execCommand("FormatBlock","p")}),a.TgZ(75,"div",39),a._uU(76,"Paragraph"),a.qZA(),a.TgZ(77,"div",40),a._uU(78,"Ctrl+Shift+7"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(79,"div",3),a.TgZ(80,"button",41,42),a.TgZ(82,"span",26),a._uU(83,"Color"),a.qZA(),a._UZ(84,"mat-icon",27),a.qZA(),a.TgZ(85,"mat-menu",43,44),a.TgZ(87,"div",45),a.NdJ("click",function(){a.CHM(n);var t=a.MAs(81);return a.oxw().showColorPicker("ForeColor",t)}),a._UZ(88,"mat-icon",46),a.TgZ(89,"span",26),a._uU(90,"Text Color"),a.qZA(),a.qZA(),a.TgZ(91,"div",47),a.NdJ("click",function(){a.CHM(n);var t=a.MAs(81);return a.oxw().showColorPicker("HiliteColor",t)}),a._UZ(92,"mat-icon",48),a.TgZ(93,"span",26),a._uU(94,"Background Color"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(95,"div",3),a.TgZ(96,"button",4),a.NdJ("click",function(){return a.CHM(n),a.oxw().execCommand("justifyLeft")}),a.ALo(97,"trans"),a._UZ(98,"mat-icon",49),a.qZA(),a.TgZ(99,"button",4),a.NdJ("click",function(){return a.CHM(n),a.oxw().execCommand("justifyCenter")}),a.ALo(100,"trans"),a._UZ(101,"mat-icon",50),a.qZA(),a.TgZ(102,"button",4),a.NdJ("click",function(){return a.CHM(n),a.oxw().execCommand("justifyRight")}),a.ALo(103,"trans"),a._UZ(104,"mat-icon",51),a.qZA(),a.qZA(),a.TgZ(105,"div",3),a.TgZ(106,"button",4),a.NdJ("click",function(){return a.CHM(n),a.oxw().execCommand("Outdent")}),a.ALo(107,"trans"),a._UZ(108,"mat-icon",52),a.qZA(),a.TgZ(109,"button",4),a.NdJ("click",function(){return a.CHM(n),a.oxw().execCommand("Indent")}),a.ALo(110,"trans"),a._UZ(111,"mat-icon",53),a.qZA(),a.qZA(),a.TgZ(112,"div",54),a.TgZ(113,"button",55),a.NdJ("click",function(){return a.CHM(n),a.oxw().showVisualEditor()}),a._uU(114,"Visual "),a.qZA(),a.TgZ(115,"button",56),a.NdJ("click",function(){return a.CHM(n),a.oxw().showSourceEditor()}),a._uU(116,"Source "),a.qZA(),a.qZA(),a.qZA()}if(2&t){var i=a.MAs(7),o=a.MAs(38),r=a.MAs(86),s=a.oxw();a.xp6(2),a.Q6J("matMenuTriggerFor",i),a.xp6(31),a.Q6J("matMenuTriggerFor",o),a.xp6(47),a.Q6J("matMenuTriggerFor",r),a.xp6(16),a.ekj("active",s.queryCommandState("justifyLeft")),a.Q6J("matTooltip",a.lcZ(97,18,"Align Left")),a.xp6(3),a.ekj("active",s.queryCommandState("justifyCenter")),a.Q6J("matTooltip",a.lcZ(100,20,"Center")),a.xp6(3),a.ekj("active",s.queryCommandState("justifyRight")),a.Q6J("matTooltip",a.lcZ(103,22,"Align Right")),a.xp6(4),a.Q6J("matTooltip",a.lcZ(107,24,"Decrease Indent")),a.xp6(3),a.Q6J("matTooltip",a.lcZ(110,26,"Increase Indent")),a.xp6(4),a.ekj("active","visual"===s.activeEditor),a.xp6(2),a.ekj("active","source"===s.activeEditor)}}var D=[[["","customButtons",""]],[["","header",""]],[["","footer",""]]],$=["[customButtons]","[header]","[footer]"],H=function(){var t=function(){function t(e,n,i,o,r,s,c,l){p(this,t),this.editor=e,this.currentUser=n,this.uploadQueue=i,this.settings=o,this.renderer=r,this.el=s,this.overlayPanel=c,this.imageValidator=l,this.sourceAreaControl=new x.NI,this.activeEditor="visual",this.showAdvancedControls=!1,this.basic=!1,this.minHeight=183,this.maxHeight=530,this.onChange=new a.vpe,this.onCtrlEnter=new a.vpe,this.onFileUpload=new a.vpe}return r(t,[{key:"ngAfterViewInit",value:function(){this.bootTextEditor()}},{key:"ngOnDestroy",value:function(){this.destroyEditor()}},{key:"reset",value:function(){this.editor.reset()}},{key:"focus",value:function(){this.editor.focus()}},{key:"hasUndo",value:function(){return this.editor.hasUndo()}},{key:"hasRedo",value:function(){return this.editor.hasRedo()}},{key:"queryCommandState",value:function(t){return this.editor.queryCommandState(t)}},{key:"execCommand",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.editor.execCommand(t,e)}},{key:"insertInfoContainer",value:function(t){this.insertContents('<div class="widget widget-'.concat(t,'"><div class="title">').concat((0,y.z)(t),":</div><br></div><br>"))}},{key:"showColorPicker",value:function(t,e){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var o,r,s=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,n.e(427).then(n.bind(n,75427));case 2:o=i.sent,r=o.BeColorPickerModule,this.overlayPanel.open(r.components.panel,{origin:new a.SBq(e),position:b.x}).valueChanged().pipe((0,_.b)(50)).subscribe(function(e){s.execCommand(t,e)});case 5:case"end":return i.stop()}},i,this)}))}},{key:"showVisualEditor",value:function(){!this.editor.tinymceInstance.contentAreaContainer||"visual"===this.activeEditor||(this.activeEditor="visual",this.renderer.setStyle(this.editor.tinymceInstance.contentAreaContainer,"display","block"),this.renderer.setStyle(this.sourceTextArea.nativeElement,"display","none"),this.editor.focus())}},{key:"showSourceEditor",value:function(){!this.editor.tinymceInstance.contentAreaContainer||"source"===this.activeEditor||(this.activeEditor="source",this.renderer.setStyle(this.sourceTextArea.nativeElement,"height",this.editor.tinymceInstance.contentAreaContainer.offsetHeight+"px"),this.renderer.setStyle(this.sourceTextArea.nativeElement,"display","block"),this.renderer.setStyle(this.editor.tinymceInstance.contentAreaContainer,"display","none"),this.sourceAreaControl.setValue(this.editor.getContents({source_view:!0})))}},{key:"openFileUploadDialog",value:function(){var t=this;(0,g.r)({multiple:!0}).then(function(e){t.onFileUpload.emit(e)})}},{key:"openInsertImageModal",value:function(){var t=this,e={uri:w.C.Image,validator:this.imageValidator,httpParams:{diskPrefix:this.inlineUploadPrefix}};(0,g.r)({types:[v.j.image]}).then(function(n){t.uploadQueue.start(n,e).subscribe(function(e){t.insertImage(e.fileEntry.url)})})}},{key:"getContents",value:function(){return this.editor.getContents()}},{key:"setContents",value:function(t){this.editor.setContents(t)}},{key:"insertContents",value:function(t){this.editor.insertContents(t)}},{key:"insertImage",value:function(t){this.editor.insertImage(t)}},{key:"insertLink",value:function(t){this.insertContents('<a href="'.concat(t.href,'" target="').concat(t.target||"self",'">').concat(t.text,"</a>"))}},{key:"destroyEditor",value:function(){this.editor.destroyEditor()}},{key:"bootTextEditor",value:function(){this.editor.setConfig({textAreaEl:this.visualTextArea,editorEl:this.el,minHeight:this.minHeight,maxHeight:this.maxHeight,onChange:this.onChange,onCtrlEnter:this.onCtrlEnter,showAdvancedControls:this.showAdvancedControls})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Y36(f),a.Y36(k.I),a.Y36(m.A),a.Y36(c.Z),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(C.T),a.Y36(P))},t.\u0275cmp=a.Xpm({type:t,selectors:[["text-editor"]],viewQuery:function(t,e){var n;(1&t&&(a.Gf(U,7),a.Gf(L,7)),2&t)&&(a.iGM(n=a.CRH())&&(e.visualTextArea=n.first),a.iGM(n=a.CRH())&&(e.sourceTextArea=n.first))},inputs:{showAdvancedControls:"showAdvancedControls",basic:"basic",minHeight:"minHeight",maxHeight:"maxHeight",inlineUploadPrefix:"inlineUploadPrefix"},outputs:{onChange:"onChange",onCtrlEnter:"onCtrlEnter",onFileUpload:"onFileUpload"},features:[a._Bn([m.A,f])],ngContentSelectors:$,decls:41,vars:47,consts:[[1,"editor-header"],[1,"toolbar-row"],["class","header-actions",4,"ngIf"],[1,"header-actions"],["type","button",1,"no-style","editor-button",3,"matTooltip","click"],["svgIcon","undo"],["svgIcon","redo"],["svgIcon","format-bold"],["svgIcon","format-italic"],["svgIcon","format-underlined"],["svgIcon","format-list-bulleted"],["svgIcon","format-list-numbered"],[1,"header-actions","last"],["svgIcon","format-clear"],["class","toolbar-row",4,"ngIf"],["rows","8",1,"source-textarea",2,"display","none",3,"formControl","blur"],["sourceArea",""],["rows","8",1,"visual-textarea"],["visualArea",""],["svgIcon","attachment"],["svgIcon","code"],["svgIcon","link"],["type","button","class","no-style editor-button image-modal-button",3,"matTooltip","click",4,"ngIf"],["type","button",1,"no-style","editor-button","image-modal-button",3,"matTooltip","click"],["svgIcon","image"],["type","button",1,"no-style","editor-button","text-button","insert-button",3,"matMenuTriggerFor"],["trans",""],["svgIcon","arrow-drop-down",1,"caret"],["insertMenu",""],["mat-menu-item","",3,"click"],["svgIcon","remove"],["svgIcon","videocam"],["mat-menu-item","","trans","",3,"click"],["svgIcon","star"],["svgIcon","warning"],["svgIcon","note"],["type","button",1,"no-style","editor-button","text-button","format-button",3,"matMenuTriggerFor"],[1,"format-menu","menu-with-alt-text"],["formatMenu",""],["trans","",1,"text"],[1,"alt-text"],["type","button",1,"no-style","editor-button","text-button","color-button",3,"matMenuTriggerFor"],["colorPickerOrigin",""],[1,"color-dropdown"],["colorMenu",""],["mat-menu-item","",1,"text-color-item",3,"click"],["svgIcon","format-color-text"],["mat-menu-item","",1,"bg-color-item",3,"click"],["svgIcon","format-color-fill"],["svgIcon","format-align-left"],["svgIcon","format-align-center"],["svgIcon","format-align-right"],["svgIcon","format-indent-decrease"],["svgIcon","format-indent-increase"],[1,"header-actions","editor-toggle-buttons"],["type","button","trans","",1,"no-style","editor-button","visual-mode-button",3,"click"],["type","button","trans","",1,"no-style","editor-button","source-mode-button",3,"click"]],template:function(t,e){1&t&&(a.F$t(D),a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.YNc(2,J,4,3,"div",2),a.YNc(3,R,4,3,"div",2),a.TgZ(4,"div",3),a.TgZ(5,"button",4),a.NdJ("click",function(){return e.execCommand("undo")}),a.ALo(6,"trans"),a._UZ(7,"mat-icon",5),a.qZA(),a.TgZ(8,"button",4),a.NdJ("click",function(){return e.execCommand("redo")}),a.ALo(9,"trans"),a._UZ(10,"mat-icon",6),a.qZA(),a.qZA(),a.TgZ(11,"div",3),a.TgZ(12,"button",4),a.NdJ("click",function(){return e.execCommand("bold")}),a.ALo(13,"trans"),a._UZ(14,"mat-icon",7),a.qZA(),a.TgZ(15,"button",4),a.NdJ("click",function(){return e.execCommand("italic")}),a.ALo(16,"trans"),a._UZ(17,"mat-icon",8),a.qZA(),a.TgZ(18,"button",4),a.NdJ("click",function(){return e.execCommand("underline")}),a.ALo(19,"trans"),a._UZ(20,"mat-icon",9),a.qZA(),a.qZA(),a.TgZ(21,"div",3),a.TgZ(22,"button",4),a.NdJ("click",function(){return e.execCommand("insertunorderedlist")}),a.ALo(23,"trans"),a._UZ(24,"mat-icon",10),a.qZA(),a.TgZ(25,"button",4),a.NdJ("click",function(){return e.execCommand("insertorderedlist")}),a.ALo(26,"trans"),a._UZ(27,"mat-icon",11),a.qZA(),a.qZA(),a.YNc(28,j,5,6,"div",2),a.Hsn(29),a.TgZ(30,"div",12),a.TgZ(31,"button",4),a.NdJ("click",function(){return e.execCommand("removeformat")}),a.ALo(32,"trans"),a._UZ(33,"mat-icon",13),a.qZA(),a.qZA(),a.Hsn(34,1),a.qZA(),a.YNc(35,B,117,28,"div",14),a.qZA(),a.TgZ(36,"textarea",15,16),a.NdJ("blur",function(){return e.setContents(e.sourceAreaControl.value)}),a.qZA(),a._UZ(38,"textarea",17,18),a.Hsn(40,2)),2&t&&(a.xp6(2),a.Q6J("ngIf",e.inlineUploadPrefix&&e.currentUser.hasPermission("files.create")&&e.onFileUpload.observers.length),a.xp6(1),a.Q6J("ngIf",!e.basic),a.xp6(2),a.ekj("disabled",!e.hasUndo()),a.Q6J("matTooltip",a.lcZ(6,31,"Undo")),a.xp6(3),a.ekj("disabled",!e.hasRedo()),a.Q6J("matTooltip",a.lcZ(9,33,"Redo")),a.xp6(4),a.ekj("active",e.queryCommandState("bold")),a.Q6J("matTooltip",a.lcZ(13,35,"Bold")),a.xp6(3),a.ekj("active",e.queryCommandState("italic")),a.Q6J("matTooltip",a.lcZ(16,37,"Italic")),a.xp6(3),a.ekj("active",e.queryCommandState("underline")),a.Q6J("matTooltip",a.lcZ(19,39,"Underline")),a.xp6(4),a.ekj("active",e.queryCommandState("unorderedlist")),a.Q6J("matTooltip",a.lcZ(23,41,"Unordered List")),a.xp6(3),a.ekj("active",e.queryCommandState("orderedlist")),a.Q6J("matTooltip",a.lcZ(26,43,"Ordered List")),a.xp6(3),a.Q6J("ngIf",!e.basic),a.xp6(3),a.Q6J("matTooltip",a.lcZ(32,45,"Remove Formatting")),a.xp6(4),a.Q6J("ngIf",e.showAdvancedControls),a.xp6(1),a.Udp("min-height",e.minHeight),a.Q6J("formControl",e.sourceAreaControl),a.xp6(2),a.Udp("min-height",e.minHeight))},directives:[M.O5,O.gM,S.Hw,x.Fj,x.JJ,x.oH,q.p6,E.P,q.VK,q.OP],pipes:[F.R],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:218px;max-height:600px;position:relative;border:1px solid var(--be-divider-default);border-radius:4px;overflow:hidden}[_nghost-%COMP%]     .editor-button{color:#788593;padding:7px;width:36px;height:36px}[_nghost-%COMP%]     .editor-button .mat-icon{height:22px;width:22px}[_nghost-%COMP%]     .editor-button .caret{display:inline-block;width:20px;height:20px;vertical-align:middle}[_nghost-%COMP%]     .editor-button.text-button{display:block;font-weight:300;font-size:1.5rem;width:auto}[_nghost-%COMP%]     .editor-button.disabled{opacity:.4}[_nghost-%COMP%]     .editor-button.active{background-color:rgba(0,0,0,.039)}[_nghost-%COMP%]     .editor-button.success{color:var(--be-accent-default)}[_nghost-%COMP%]     .editor-button:hover{background-color:rgba(0,0,0,.039)}[_nghost-%COMP%]     .editor-footer{position:relative;height:37px;flex-shrink:0;background-color:var(--be-background-alternative);border-top:1px solid var(--be-divider-default)}textarea[_ngcontent-%COMP%]{border:none;outline:none;resize:none;padding:15px}.editor-header[_ngcontent-%COMP%]{clear:both;flex:0 0 37px;background-color:var(--be-background-alternative)}.toolbar-row[_ngcontent-%COMP%]{display:flex;height:37px;border-bottom:1px solid var(--be-divider-default);overflow:hidden}  .header-actions{display:inline-block;border-right:1px solid var(--be-divider-default);height:100%;padding:0 4px}  .header-actions.right{margin-left:auto;margin-right:7px}  .header-actions.last{border-right:none}.editor-toggle-buttons[_ngcontent-%COMP%]{border-right:none;margin-left:auto;padding:0;display:flex}.editor-toggle-buttons[_ngcontent-%COMP%]   .editor-button[_ngcontent-%COMP%]{width:auto}@media only screen and (max-width: 768px){.toolbar-row[_ngcontent-%COMP%]{overflow-x:auto}}"],changeDetection:0}),t}()},52644:function(t,e,n){n.d(e,{y:function(){return s}});var i,o=n(1796),a=n(37716),s=((i=function(){function t(){p(this,t)}return r(t,[{key:"transform",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return isNaN(parseFloat(String(t)))||!isFinite(t)?"-":(0,o.H)(t,e)}}]),t}()).\u0275fac=function(t){return new(t||i)},i.\u0275pipe=a.Yjl({name:"formattedFileSize",type:i,pure:!0}),i)},48976:function(t,e,n){n.d(e,{C:function(){return i}});var i=((i||(i={})).Image="uploads/images",i)},48350:function(t,e,n){n.d(e,{o:function(){return b}});var i=n(61927),o=n(77393),a=n(33637),c={leading:!0,trailing:!1},u=function(){function t(e,n,i,o){p(this,t),this.duration=e,this.scheduler=n,this.leading=i,this.trailing=o}return r(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.duration,this.scheduler,this.leading,this.trailing))}}]),t}(),h=function(t){s(n,t);var e=l(n);function n(t,i,o,a,r){var s;return p(this,n),(s=e.call(this,t)).duration=i,s.scheduler=o,s.leading=a,s.trailing=r,s._hasTrailingValue=!1,s._trailingValue=null,s}return r(n,[{key:"_next",value:function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(d,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}},{key:"_complete",value:function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}},{key:"clearThrottle",value:function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}]),n}(o.L);function d(t){t.subscriber.clearThrottle()}var f,g=n(37716),m=n(9141),v=n(12178),b=((f=function(){function t(e,n,o){var r=this;p(this,t),this.el=e,this.uploadQueue=n,this.cd=o,this.hidden=!0,this.subscription=this.uploadQueue.totalProgress().pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.P,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;return function(i){return i.lift(new u(t,e,n.leading,n.trailing))}}(260,i.Z,{leading:!0,trailing:!0})).subscribe(function(t){r.progress=t,r.hidden=100===t||0===r.uploadQueue.count$.value.pending,r.cd.markForCheck()})}return r(t,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||f)(g.Y36(g.SBq),g.Y36(m.A),g.Y36(g.sBO))},f.\u0275cmp=g.Xpm({type:f,selectors:[["upload-progress-bar"]],hostVars:2,hostBindings:function(t,e){2&t&&g.ekj("hidden",e.hidden)},decls:1,vars:1,consts:[["mode","determinate","color","accent",3,"value"]],template:function(t,e){1&t&&g._UZ(0,"mat-progress-bar",0),2&t&&g.Q6J("value",e.progress)},directives:[v.pW],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),f)},9141:function(t,e,n){n.d(e,{A:function(){return U}});var i,o,a=n(79765),c=n(26215),u=n(82298),h=n(58480),d=function(){function t(e,n){p(this,t),this.canceled$=new a.xQ,this.processing$=new c.X(!1),this.uploadedResponse$=new u.t(1),this.progress$=new c.X({percentage:0}),this.error$=new c.X(null),this.customData={},this.uploadedFile=e,this.id=n||(0,h.O)()}return r(t,[{key:"completed",get:function(){return!this.processing$.value&&100===this.progress$.value.percentage}},{key:"inProgress",get:function(){return!this.error$.value&&!this.completed}},{key:"cancel",value:function(){this.canceled$.next(!0),this.finalize()}},{key:"complete",value:function(){this.setProgress({percentage:100,eta:null}),this.finalize()}},{key:"finalize",value:function(){this.uploadedResponse$.complete(),this.canceled$.complete(),this.progress$.complete()}},{key:"finishProcessing",value:function(){this.processing$.next(!1),this.processing$.complete()}},{key:"addError",value:function(t){this.error$.next(t)}},{key:"setProgress",value:function(t){this.progress$.next(Object.assign(Object.assign({},this.progress$.value),t))}}]),t}(),f=n(94402),g=n(40205),m=n(59193),v=n(19773),b=n(5304),y=n(46782),x=n(88002),_=n(45435),w=n(66421),k=n(81769),C=n(37716),Z=n(97312),I=n(18715),A=n(68756),T=n(26232),P=function(t){s(n,t);var e=l(n);function n(t,i){var o;return p(this,n),(o=e.call(this)).params=t,o.i18n=i,o.errorMessage=o.i18n.t("Only these file types are allowed: :extensions",{extensions:o.params.extensions.join(", ")}),o}return r(n,[{key:"fails",value:function(t){return!this.params.extensions.some(function(e){return e.toLowerCase()===t.extension.toLowerCase()})}}]),n}(T.y),M=function(t){s(n,t);var e=l(n);function n(t,i){var o;return p(this,n),(o=e.call(this)).params=t,o.i18n=i,o.errorMessage=o.i18n.t("These file types are not allowed: :extensions",{extensions:o.params.extensions.join(", ")}),o}return r(n,[{key:"fails",value:function(t){return this.params.extensions.some(function(e){return e===t.extension})}}]),n}(T.y),O=n(16850),S=((o=function(t){s(n,t);var e=l(n);function n(){var t;return p(this,n),(t=e.apply(this,arguments)).DEFAULT_MAX_FILE_SIZE_MB=8,t.showToast=!0,t}return r(n,[{key:"initValidations",value:function(){this.validations.push(new A.p({maxSize:this.getMaxFileSize()},this.i18n));var t=this.getAllowedExtensions(),e=this.getBlockedExtensions();t&&t.length&&this.validations.push(new P({extensions:t},this.i18n)),e&&e.length&&this.validations.push(new M({extensions:e},this.i18n))}},{key:"getMaxFileSize",value:function(){return this.settings.get("uploads.max_size",(0,O.F)(this.DEFAULT_MAX_FILE_SIZE_MB,"MB"))}},{key:"getAllowedExtensions",value:function(){return this.settings.getJson("uploads.allowed_extensions")}},{key:"getBlockedExtensions",value:function(){return this.settings.getJson("uploads.blocked_extensions")}}]),n}(I.c)).\u0275fac=function(t){return(i||(i=C.n5z(o)))(t||o)},o.\u0275prov=C.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o),q=n(35718),E=n(24688),F=n(34673),U=function(){var t=function(){function t(e,n,i,o,r){p(this,t),this.api=e,this.defaultValidator=n,this.toast=i,this.currentUser=o,this.settings=r,this.uploads$=new c.X([]),this.totalProgress$=new u.t(1),this.uploadsAdded$=new a.xQ,this.count$=new c.X({pending:0,completed:0})}return r(t,[{key:"isEmpty",value:function(){return!this.uploads$.value.length}},{key:"getAllCompleted",value:function(){return this.uploads$.value.filter(function(t){return t.completed}).map(function(t){return t.fileEntry})}},{key:"updateTotalProgress",value:function(){var t=this.uploads$.value.map(function(t){return t.progress$.value.percentage||0});this.totalProgress$.next(t.reduce(function(t,e){return t+e},0)/t.length)}},{key:"totalProgress",value:function(){return this.totalProgress$.asObservable()}},{key:"start",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.validator||this.defaultValidator,o=[];if(Array.isArray(t))o=this.transformUploads(t,i),this.uploads$.next(this.uploads$.value.concat(o)),this.uploadsAdded$.next(o);else{var a=this.uploads$.value.map(function(n){if(t[n.id]){var a=e.transformUploads([t[n.id]],i,n.id)[0];return o.push(a),a}return n});this.uploads$.next(a)}return this.updateCount(),(0,f.D)(o.filter(function(t){return!t.error$.value})).pipe((0,v.zg)(function(t){return e.api.upload(t.uploadedFile,n).pipe((0,b.K)(function(o){return e.handleUploadFailure(o,t,i),n.bubbleError?(0,g._)(o):m.E}),(0,y.R)(t.canceled$),(0,x.U)(function(i){return e.handleUploadEvent(i,t,n.willProcessFiles),i.name===w.b.COMPLETED&&(i.body.queueItemId=t.id),i}))},1),(0,_.h)(function(t){return t.name===w.b.COMPLETED}),(0,x.U)(function(t){return t.body}))}},{key:"updateProgress",value:function(t,e){var n=this.find(t);!n||(n.setProgress({eta:e.eta,speed:e.speed,percentage:e.progress,totalBytes:e.totalBytes,completedBytes:e.completedBytes}),this.updateTotalProgress())}},{key:"completeUpload",value:function(t,e){var n=this.find(t);!n||(n.uploadedResponse$.next(e),n.fileEntry=e.fileEntry,n.complete(),this.updateTotalProgress())}},{key:"errorUpload",value:function(t,e){this.find(t).addError(e)}},{key:"reset",value:function(){this.uploads$.value.forEach(function(t){return t.cancel()}),this.uploads$.next([])}},{key:"remove",value:function(t){var e=this.uploads$.value.findIndex(function(e){return e.id===t}),n=this.uploads$.value[e];n.completed?n.finalize():n.cancel(),this.uploads$.value.splice(e,1),this.uploads$.next(this.uploads$.value)}},{key:"find",value:function(t){return this.uploads$.value.find(function(e){return e.id===t})}},{key:"transformUploads",value:function(t,e,n){return t.map(function(t){var i=new d(t,n);if(e){var o=e.validate(t);o.failed&&i.addError(o.errorMessage)}return i})}},{key:"handleUploadEvent",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.name===w.b.PROGRESS?(100===t.progress&&(t=Object.assign(Object.assign({},t),{progress:99}),n&&e.processing$.next(!0)),this.updateProgress(e.id,t)):t.name===w.b.COMPLETED&&(this.completeUpload(e.id,t.body),this.updateCount())}},{key:"handleUploadFailure",value:function(t,e,n){var i,o=null===(i=null==t?void 0:t.errors)||void 0===i?void 0:i.file,a=null;o||(o=k.v.DefaultUpload,a=this.currentUser.isAdmin()&&!this.settings.get("site.hide_docs_buttons")),this.errorUpload(e.id,o),this.updateCount(),this.updateTotalProgress(),n.showToast&&this.toast.open(o,{action:a?"Learn More":null}).onAction().subscribe(function(){window.open(k.h)})}},{key:"updateCount",value:function(){var t=this.uploads$.value.filter(function(t){return t.inProgress}).length;this.count$.next({pending:t,completed:this.uploads$.value.length-t})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(C.LFG(Z.f),C.LFG(S),C.LFG(q.F),C.LFG(E.I),C.LFG(F.Z))},t.\u0275prov=C.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},66705:function(t,e,n){n.d(e,{z:function(){return l}});var i,o=n(38583),a=n(51095),r=n(76627),s=n(12178),c=n(37716),l=((i=function t(){p(this,t)}).\u0275fac=function(t){return new(t||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[o.ez,a.ot,s.Cv,r.Ps]]}),i)},63412:function(t,e,n){function i(t,e){var n=document.createElement("a");n.href=t,e&&(n.download=e),document.body.appendChild(n),n.click(),document.body.removeChild(n)}n.d(e,{k:function(){return i}})}}])}();