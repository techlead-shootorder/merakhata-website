!function(){"use strict";function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}(self.webpackChunkbedesk=self.webpackChunkbedesk||[]).push([[476],{85476:function(e,i,o){o.r(i),o.d(i,{CustomerMailboxModule:function(){return Nt}});var a=o(38583),s=o(3679),c=o(24668),l=o(65987),u=o(37716),g=o(24688),d=o(15515),p=o(51095),h=o(3028),f=o(1303),m=o(20616),v=o(58341),b=o(76403),x=o(32141),Z=o(18256);function y(t,e){if(1&t&&(u.TgZ(0,"mat-chip-list",32),u.TgZ(1,"mat-chip",33),u._uU(2),u.qZA(),u.qZA()),2&t){var n=e.ngIf,i=u.oxw().$implicit;u.Q6J("selectable",!1),u.xp6(1),u.Q6J("color",i.closed_at?"standard":"success"),u.xp6(1),u.Oqu(n.display_name)}}function k(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"tr",25),u.NdJ("click",function(){var t=u.CHM(n).$implicit;return u.oxw().openConversation(t)}),u.TgZ(1,"td",26),u._uU(2),u.qZA(),u.TgZ(3,"td",27),u._uU(4),u.qZA(),u.TgZ(5,"td",28),u._uU(6),u.ALo(7,"formattedDate"),u.qZA(),u.TgZ(8,"td",29),u._uU(9),u.qZA(),u.TgZ(10,"td",30),u.YNc(11,y,3,3,"mat-chip-list",31),u.qZA(),u.qZA()}if(2&t){var i=e.$implicit,r=u.oxw();u.ekj("open",!i.closed_at),u.xp6(2),u.Oqu(i.subject),u.xp6(2),u.hij("#",i.id,""),u.xp6(2),u.Oqu(u.lcZ(7,7,i.created_at)),u.xp6(3),u.Oqu(i.updated_at_formatted),u.xp6(2),u.Q6J("ngIf",r.getStatus(i))}}function w(t,e){1&t&&(u.TgZ(0,"no-results-message",34),u.TgZ(1,"span",35),u._uU(2,"You have not created any tickets yet."),u.qZA(),u.qZA())}function A(t,e){1&t&&u._UZ(0,"datatable-footer",36),2&t&&u.Q6J("hidePerPage",!0)}var _,q=((_=function(){function t(e,i,r,o){n(this,t),this.currentUser=e,this.router=i,this.route=r,this.datatable=o,this.tickets$=this.datatable.data$,this.statusFormControl=new s.NI(this.route.snapshot.queryParams.status||"")}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.datatable.init({uri:"tickets",staticParams:{userId:this.currentUser.get("id")}}),this.statusFormControl.valueChanges.subscribe(function(e){t.datatable.addFilter("tagId",e)})}},{key:"ngOnDestroy",value:function(){this.datatable.destroy()}},{key:"getStatus",value:function(t){return t.tags.filter(function(t){return"status"===t.type})[0]}},{key:"openConversation",value:function(t){this.router.navigate(["/help-center/tickets",t.id])}}]),t}()).\u0275fac=function(t){return new(t||_)(u.Y36(g.I),u.Y36(c.F0),u.Y36(c.gz),u.Y36(l.x))},_.\u0275cmp=u.Xpm({type:_,selectors:[["customer-tickets-list"]],features:[u._Bn([l.x])],decls:44,vars:13,consts:[[1,"container"],[1,"title"],["trans",""],["routerLink","/help-center/tickets/new","mat-raised-button","","color","accent","trans",""],[1,"filter-form"],[1,"input-container"],[1,"input-with-icon"],["placeholder","Search requests...",1,"icon-left"],[1,"input-container","status-input-container"],["for","customer-ticket-status","trans","",1,"hidden"],["id","customer-ticket-status",1,"filter-input",3,"formControl"],["value","","trans",""],["value","open","trans",""],["value","closed","trans",""],["value","pending","trans",""],[1,"material-table","responsive-table"],["trans","",1,"subject-column"],["table-sort-header","","trans","",1,"id-column"],["table-sort-header","created_at","trans","",1,"created-column"],["table-sort-header","updated_at","trans","",1,"last-updated-column"],["trans","",1,"status-column"],[3,"open","click",4,"ngFor","ngForOf"],["svgImage","opened.svg",4,"ngIf"],[3,"hidePerPage",4,"ngIf"],[1,"overlay",3,"isVisible"],[3,"click"],[1,"subject-column","mobile-no-label"],["data-label","ID",1,"id-column"],["data-label","Created",1,"created-column"],["data-label","Last Updated",1,"last-updated-column"],["data-label","Status",1,"status-column"],[3,"selectable",4,"ngIf"],[3,"selectable"],["selected","","trans","",3,"color"],["svgImage","opened.svg"],["primary-text",""],[3,"hidePerPage"]],template:function(t,e){var n;1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"h1",2),u._uU(3,"My requests"),u.qZA(),u.TgZ(4,"a",3),u._uU(5,"New Request"),u.qZA(),u.qZA(),u.TgZ(6,"form",4),u.TgZ(7,"div",5),u.TgZ(8,"div",6),u._UZ(9,"datatable-header-search-input",7),u.qZA(),u.qZA(),u.TgZ(10,"div",8),u.TgZ(11,"label",9),u._uU(12,"Status"),u.qZA(),u.TgZ(13,"select",10),u.TgZ(14,"option",11),u._uU(15,"All Requests"),u.qZA(),u.TgZ(16,"option",12),u._uU(17,"Open Requests"),u.qZA(),u.TgZ(18,"option",13),u._uU(19,"Closed Requests"),u.qZA(),u.TgZ(20,"option",14),u._uU(21,"Awaiting your reply"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(22,"table",15),u.TgZ(23,"thead"),u.TgZ(24,"tr"),u.TgZ(25,"th",16),u._uU(26,"Subject"),u.qZA(),u.TgZ(27,"th",17),u._uU(28,"ID"),u.qZA(),u.TgZ(29,"th",18),u._uU(30,"Created"),u.qZA(),u.TgZ(31,"th",19),u._uU(32,"Last Updated"),u.qZA(),u.TgZ(33,"th",20),u._uU(34,"Status"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(35,"tbody"),u.YNc(36,k,12,9,"tr",21),u.ALo(37,"async"),u.qZA(),u.qZA(),u.YNc(38,w,3,0,"no-results-message",22),u.ALo(39,"async"),u.YNc(40,A,1,1,"datatable-footer",23),u.ALo(41,"async"),u.qZA(),u._UZ(42,"loading-indicator",24),u.ALo(43,"async")),2&t&&(u.xp6(13),u.Q6J("formControl",e.statusFormControl),u.xp6(23),u.Q6J("ngForOf",u.lcZ(37,5,e.tickets$)),u.xp6(2),u.Q6J("ngIf",u.lcZ(39,7,e.datatable.paginator.noResults$)),u.xp6(2),u.Q6J("ngIf",(null==(n=u.lcZ(41,9,e.datatable.paginator.response$))?null:n.pagination.total)>15),u.xp6(2),u.Q6J("isVisible",u.lcZ(43,11,e.datatable.paginator.loading$)))},directives:[d.P,c.yS,p.zs,s._Y,s.JL,s.F,h.w,s.EJ,s.JJ,s.oH,s.YN,s.Kr,f.p,a.sg,a.O5,m.Q,v.qn,v.HS,b.U,x.V],pipes:[a.Ov,Z.l],styles:["[_nghost-%COMP%]{display:block;width:100%;padding:30px 0 50px}.title[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:30px;padding:0 20px}.title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.2rem;font-weight:400;margin:0}.title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:auto;height:36px}.filter-form[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:35px;padding:0 10px}.status-input-container[_ngcontent-%COMP%]{max-width:200px;margin-left:15px}datatable-header-search-input[_ngcontent-%COMP%]     input{height:50px;padding-left:40px}table[_ngcontent-%COMP%]{table-layout:fixed}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:60px;cursor:pointer}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:var(--be-accent-emphasis)}.subject-column[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-right:25px}.id-column[_ngcontent-%COMP%], .status-column[_ngcontent-%COMP%]{width:110px}.created-column[_ngcontent-%COMP%], .last-updated-column[_ngcontent-%COMP%]{width:160px}.mat-chip[_ngcontent-%COMP%]{min-width:63px;justify-content:center;text-transform:capitalize}.mat-chip.mat-success[_ngcontent-%COMP%]{background-color:#43a047;color:#fff}.no-results-message[_ngcontent-%COMP%]{margin-top:60px;margin-bottom:60px}"]}),_),T=o(69958),C=o(82192),O=o(9141),M=o(26215),U=o(82298),I=o(68939),J=o(54395),P=o(87519),Q=o(25917),Y=o(76827),N=o(4928),L=o(76627),$=o(75811);function j(t,e){if(1&t&&(u.TgZ(0,"a",8),u._UZ(1,"mat-icon",9),u.TgZ(2,"span",10),u._uU(3),u.qZA(),u.qZA()),2&t){var n=e.$implicit,i=u.oxw();u.Q6J("routerLink",i.urls.article(n)),u.xp6(3),u.Oqu(n.title)}}var F=function(){var t=function(){function t(e,i){n(this,t),this.helpCenter=e,this.urls=i,this.valueChanged=new u.vpe,this.searchQuery=new s.NI,this.articles=[],this.searching=!1,this.suggestionLog=[]}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.searchQuery.valueChanges.subscribe(function(e){t.valueChanged.emit(e)}),this.searchQuery.valueChanges.pipe((0,J.b)(400),(0,P.x)()).subscribe(function(e){t.searching=!0,t.searchArticles(e).pipe((0,I.x)(function(){t.searching=!1})).subscribe(function(n){t.setSearchResults(e,n.pagination.data)})})}},{key:"searchArticles",value:function(t){return t?this.helpCenter.findArticles({query:t,perPage:4,categories:this.categories}):(0,Q.of)({pagination:{data:[]}})}},{key:"setSearchResults",value:function(t,e){var n=this;if(e&&e.length){var i=Date.now();this.articles=e,this.suggestionLog.push({term:t,results:e.map(function(t){return t.id}),timestampMs:i})}else setTimeout(function(){n.articles=[]},300)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(Y.x),u.Y36(N.X))},t.\u0275cmp=u.Xpm({type:t,selectors:[["suggested-articles-drawer"]],inputs:{placeholder:"placeholder",categories:"categories"},outputs:{valueChanged:"valueChanged"},decls:9,vars:7,consts:[[1,"suggestions-container"],[1,"input-container"],["type","text",1,"search-input",3,"formControl"],["svgIcon","search",1,"search-icon","input-icon"],[1,"results-container"],["trans","",1,"results-header"],["customScrollbar","",1,"results"],["class","result","target","_blank",3,"routerLink",4,"ngFor","ngForOf"],["target","_blank",1,"result",3,"routerLink"],["svgIcon","description"],[1,"title"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u._UZ(2,"input",2),u._UZ(3,"mat-icon",3),u.qZA(),u.TgZ(4,"section",4),u.TgZ(5,"div",5),u._uU(6,"Were you looking for:"),u.qZA(),u.TgZ(7,"div",6),u.YNc(8,j,4,2,"a",7),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.ekj("has-results",e.articles.length),u.xp6(2),u.Q6J("formControl",e.searchQuery),u.uIk("placeholder",e.placeholder),u.xp6(1),u.ekj("searching",e.searching),u.xp6(5),u.Q6J("ngForOf",e.articles))},directives:[s.Fj,s.JJ,s.oH,L.Hw,d.P,$.j,a.sg,c.yS],styles:["suggested-articles-drawer{display:block}suggested-articles-drawer .results-container{max-height:0;transition:all .3s ease-out;margin:0;overflow:hidden}suggested-articles-drawer .results-container>.results-header{font-size:2.1rem;font-weight:300;margin-bottom:20px}suggested-articles-drawer .results-container>.results>.result{display:flex;align-items:center;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-bottom:12px;width:100%;color:var(--be-link);cursor:pointer}suggested-articles-drawer .results-container>.results>.result:hover{text-decoration:underline}suggested-articles-drawer .results-container>.results>.result>mat-icon{margin-right:10px}suggested-articles-drawer .results-container>.results>.result>.title{color:inherit}suggested-articles-drawer .suggestions-container .input-container{position:relative;width:100%}suggested-articles-drawer .suggestions-container .input-container>.input-icon{position:absolute;visibility:hidden;top:13px;right:11px;color:var(--be-secondary-text)}suggested-articles-drawer .suggestions-container .input-container>.input-icon.searching{visibility:visible;-webkit-animation:flickerAnimation .5s infinite;animation:flickerAnimation .5s infinite}@-webkit-keyframes flickerAnimation{0%{opacity:1}50%{opacity:.4}to{opacity:1}}@keyframes flickerAnimation{0%{opacity:1}50%{opacity:.4}to{opacity:1}}suggested-articles-drawer .suggestions-container.has-results .results-container{max-height:230px;margin:20px 0;transition:all .3s ease-in}\n"],encapsulation:2}),t}(),S=o(34673),H=o(97312),z=o(35718),X=o(87036),V=o(48350),R=o(91241);function E(t,e){if(1&t&&(u.TgZ(0,"option",28),u._uU(1),u.qZA()),2&t){var n=e.$implicit;u.Q6J("ngValue",n),u.xp6(1),u.hij(" ",n.display_name," ")}}function B(t,e){1&t&&(u.TgZ(0,"p",29),u.TgZ(1,"span",9),u._uU(2,"Your support for this item has expired."),u.qZA(),u._uU(3," "),u.TgZ(4,"a",30),u._uU(5,"Click here to renew."),u.qZA(),u.qZA())}function D(t,e){if(1&t&&(u.TgZ(0,"div",31),u._uU(1),u.qZA()),2&t){var n=u.oxw().ngIf;u.xp6(1),u.hij(" ",n.category||n.purchase_code," ")}}function G(t,e){if(1&t&&(u.TgZ(0,"div",32),u._uU(1),u.qZA()),2&t){var n=u.oxw().ngIf;u.xp6(1),u.Oqu(n.subject)}}function W(t,e){if(1&t&&(u.TgZ(0,"div",33),u._uU(1),u.qZA()),2&t){var n=u.oxw().ngIf;u.xp6(1),u.Oqu(n.body)}}function K(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"form",8),u.NdJ("ngSubmit",function(){return u.CHM(n),u.oxw(2).createTicket()}),u.TgZ(1,"h1",9),u._uU(2),u.qZA(),u.TgZ(3,"div",10),u.TgZ(4,"label",11),u._uU(5),u.qZA(),u.TgZ(6,"select",12),u.NdJ("ngModelChange",function(t){return u.CHM(n),u.oxw(2).ticketModel.category=t}),u.TgZ(7,"option",13),u._uU(8,"-"),u.qZA(),u.YNc(9,E,2,2,"option",14),u.ALo(10,"async"),u.qZA(),u.YNc(11,B,6,0,"p",15),u.YNc(12,D,2,1,"div",16),u.qZA(),u.TgZ(13,"div",17),u.TgZ(14,"label",18),u._uU(15),u.qZA(),u.TgZ(16,"suggested-articles-drawer",19),u.NdJ("valueChanged",function(t){return u.CHM(n),u.oxw(2).ticketModel.subject=t}),u.qZA(),u.YNc(17,G,2,1,"div",20),u.qZA(),u.TgZ(18,"div",21),u.TgZ(19,"label",22),u._uU(20),u.qZA(),u.TgZ(21,"text-editor",23),u.NdJ("onFileUpload",function(t){return u.CHM(n),u.oxw(2).uploadFiles(t)})("onChange",function(t){return u.CHM(n),u.oxw(2).ticketModel.body=t}),u.qZA(),u._UZ(22,"upload-progress-bar"),u.YNc(23,W,2,1,"div",24),u.qZA(),u.TgZ(24,"reply-attachment-list",25),u.NdJ("detached",function(t){return u.CHM(n),u.oxw(2).removeAttachment(t)}),u.ALo(25,"async"),u.qZA(),u.TgZ(26,"div",26),u.TgZ(27,"button",27),u._uU(28),u.qZA(),u.qZA(),u.qZA()}if(2&t){var i=e.ngIf,r=u.oxw().ngIf,o=u.oxw();u.xp6(2),u.Oqu(r.title),u.xp6(3),u.Oqu(r.categoryLabel),u.xp6(1),u.Q6J("ngModel",o.ticketModel.category),u.xp6(1),u.Q6J("value",null),u.xp6(2),u.Q6J("ngForOf",u.lcZ(10,16,o.ticketCategories$)),u.xp6(2),u.Q6J("ngIf",null==o.ticketModel.category?null:o.ticketModel.category.support_expired),u.xp6(1),u.Q6J("ngIf",i.category||i.purchase_code),u.xp6(3),u.Oqu(r.subjectLabel),u.xp6(1),u.Q6J("categories",o.getArticleCategories()),u.xp6(1),u.Q6J("ngIf",i.subject),u.xp6(3),u.Oqu(r.descriptionLabel),u.xp6(1),u.Q6J("minHeight",230),u.xp6(2),u.Q6J("ngIf",i.body),u.xp6(1),u.Q6J("attachments",u.lcZ(25,18,o.attachments$)),u.xp6(3),u.Q6J("disabled",null==o.ticketModel.category?null:o.ticketModel.category.support_expired),u.xp6(1),u.hij(" ",r.submitButtonText," ")}}function tt(t,e){if(1&t&&(u.TgZ(0,"div",34),u.TgZ(1,"div",35),u._uU(2),u.qZA(),u.TgZ(3,"div",36),u._uU(4),u.qZA(),u.qZA()),2&t){var n=e.$implicit;u.xp6(2),u.Oqu(n.title),u.xp6(2),u.Oqu(n.content)}}function et(t,e){if(1&t&&(u.ynx(0),u.TgZ(1,"div",2),u.YNc(2,K,29,20,"form",3),u.ALo(3,"async"),u.qZA(),u.TgZ(4,"div",4),u.TgZ(5,"div",5),u._uU(6),u.qZA(),u.TgZ(7,"div",6),u.YNc(8,tt,5,2,"div",7),u.qZA(),u.qZA(),u.BQk()),2&t){var n=e.ngIf,i=u.oxw();u.xp6(2),u.Q6J("ngIf",u.lcZ(3,3,i.errors$)),u.xp6(4),u.Oqu(n.sidebarTitle),u.xp6(2),u.Q6J("ngForOf",n.sidebarTips)}}var nt=function(){var e=function(){function e(t,i,r,o,a,s,c,l,u){var g=this;n(this,e),this.settings=t,this.tickets=i,this.uploads=r,this.router=o,this.urls=a,this.route=s,this.toast=c,this.uploadQueue=l,this.searchLogger=u,this.errors$=new M.X({}),this.loading$=new M.X(!1),this.attachments$=new M.X([]),this.ticketCategories$=new M.X([]),this.ticketModel={category:null},this.content$=new U.t(1),this.settings.all$().subscribe(function(){g.content$.next(g.settings.getJson("hc.newTicket.appearance",{}))})}return r(e,[{key:"ngOnInit",value:function(){var t=this;this.tickets.newTicketCategories().subscribe(function(e){t.ticketCategories$.next(e.tags)})}},{key:"ngOnDestroy",value:function(){this.textEditor.destroyEditor()}},{key:"createTicket",value:function(){var t=this;this.loading$.next(!0);var e={subject:this.ticketModel.subject,body:this.ticketModel.body,category:this.ticketModel.category&&this.ticketModel.category.id,uploads:this.uploadQueue.getAllCompleted().map(function(t){return t.id}),suggestionLog:this.suggestions.suggestionLog};this.tickets.create(e).pipe((0,I.x)(function(){t.loading$.next(!1)})).subscribe(function(){t.searchLogger.updateLastSearch({createdTicket:!0}),t.router.navigateByUrl(t.urls.customerTicketList()),t.toast.open("Your request was successfully submitted.")},function(e){t.errors$.next(e.errors)})}},{key:"uploadFiles",value:function(e){var n=this;this.uploadQueue.start(e).subscribe(function(e){n.attachments$.next([].concat(t(n.attachments$.value),[e.fileEntry]))})}},{key:"removeAttachment",value:function(t){for(var e=this.attachments$.value.slice(),n=0;n<e.length;n++)e[n].id===t.id&&e.splice(n,1);this.attachments$.next(e)}},{key:"getArticleCategories",value:function(){return this.ticketModel.category?this.ticketModel.category.categories.map(function(t){return t.id}):[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(S.Z),u.Y36(T.g),u.Y36(H.f),u.Y36(c.F0),u.Y36(N.X),u.Y36(c.gz),u.Y36(z.F),u.Y36(O.A),u.Y36(X.X))},e.\u0275cmp=u.Xpm({type:e,selectors:[["new-ticket"]],viewQuery:function(t,e){var n;(1&t&&(u.Gf(C.d,5),u.Gf(F,5)),2&t)&&(u.iGM(n=u.CRH())&&(e.textEditor=n.first),u.iGM(n=u.CRH())&&(e.suggestions=n.first))},hostAttrs:["id","new-ticket"],features:[u._Bn([T.g,O.A])],decls:4,vars:6,consts:[[4,"ngIf"],[1,"overlay",3,"isVisible"],[1,"left-column"],["ngNativeValidate","",3,"ngSubmit",4,"ngIf"],[1,"right-column"],["trans","",1,"header"],[1,"tips"],["class","tip-container",4,"ngFor","ngForOf"],["ngNativeValidate","",3,"ngSubmit"],["trans",""],[1,"input-container","category-input-container"],["for","category-select","trans",""],["name","category","id","category-select",3,"ngModel","ngModelChange"],["disabled","",3,"value"],[3,"ngValue",4,"ngFor","ngForOf"],["class","error",4,"ngIf"],["class","errors category-error",4,"ngIf"],[1,"input-container","subject-input-container"],["for","subject","trans",""],["id","subject","trans-placeholder","",3,"categories","valueChanged"],["class","errors subject-error",4,"ngIf"],[1,"input-container","description-input-container"],["for","description","trans",""],["id","description","inlineUploadPrefix","ticket_images",3,"minHeight","onFileUpload","onChange"],["class","errors body-error",4,"ngIf"],[3,"attachments","detached"],[1,"buttons"],["mat-raised-button","","color","accent","type","submit",1,"submit-button",3,"disabled"],[3,"ngValue"],[1,"error"],["target","_blank","href","https://codecanyon.net/downloads","trans",""],[1,"errors","category-error"],[1,"errors","subject-error"],[1,"errors","body-error"],[1,"tip-container"],["trans","",1,"title"],["trans","",1,"content"]],template:function(t,e){1&t&&(u.YNc(0,et,9,5,"ng-container",0),u.ALo(1,"async"),u._UZ(2,"loading-indicator",1),u.ALo(3,"async")),2&t&&(u.Q6J("ngIf",u.lcZ(1,2,e.content$)),u.xp6(2),u.Q6J("isVisible",u.lcZ(3,4,e.loading$)))},directives:[a.O5,m.Q,d.P,a.sg,s.JL,s.F,s.EJ,s.JJ,s.On,s.YN,s.Kr,F,C.d,V.o,R.G,p.lW],pipes:[a.Ov],styles:["new-ticket{display:flex;flex-wrap:wrap-reverse;width:100%;max-width:1800px;margin:0 auto;border-top:1px solid var(--be-divider-lighter)}new-ticket .left-column{flex:0 0 70%;padding:45px 20px}new-ticket .left-column form{margin:0 auto;width:660px}new-ticket .right-column{flex:0 0 30%;border-left:1px solid var(--be-divider-lighter);padding:45px 30px}new-ticket .right-column .header{font-size:2.1rem;color:var(--be-accent-default);font-weight:500;margin-bottom:35px}new-ticket .right-column .tip-container{margin-bottom:30px;font-size:1.6rem}new-ticket .right-column .tip-container .title{font-weight:400}new-ticket .right-column .tip-container .content{font-weight:300}new-ticket .input-container{margin-bottom:25px}new-ticket .input-container .input-container{margin-bottom:0}new-ticket .input-container input,new-ticket .input-container select{height:50px}new-ticket .input-container label{font-size:1.6rem;font-weight:300;margin-bottom:5px}new-ticket .errors{margin-top:7px;color:#f44336}new-ticket h1{margin:0 0 25px;color:var(--be-help-center-title-text);font-weight:300;font-size:4rem}new-ticket .buttons{margin-bottom:15px}@media only screen and (max-width: 768px){new-ticket .left-column{flex:0 0 100%;padding-top:0;padding-bottom:0}new-ticket .left-column>form{width:auto}new-ticket .right-column{flex:0 0 100%;border-bottom:1px solid var(--be-divider-lighter);margin-bottom:10px;padding:20px 30px 0}}\n"],encapsulation:2,changeDetection:0}),e}(),it=o(70837),rt=o(95414),ot=o(57871),at=o(10829),st=["class","customer-mailbox"];function ct(t,e){1&t&&u._UZ(0,"customer-footer")}var lt=function(){var t=function t(e){n(this,t),this.settings=e};return t.\u0275fac=function(e){return new(e||t)(u.Y36(S.Z))},t.\u0275cmp=u.Xpm({type:t,selectors:[["customer-mailbox",8,"customer-mailbox"]],attrs:st,decls:5,vars:1,consts:[["menuPosition","header",1,"hc-content-navbar"],["placeholder","Search help center...",1,"nav-searchbar"],["resource","Tickets","resourceType","static",1,"container"],[4,"ngIf"]],template:function(t,e){1&t&&(u.TgZ(0,"material-navbar",0),u._UZ(1,"suggested-articles-dropdown",1),u.qZA(),u._UZ(2,"breadcrumbs",2),u._UZ(3,"router-outlet"),u.YNc(4,ct,1,0,"customer-footer",3)),2&t&&(u.xp6(4),u.Q6J("ngIf",!e.settings.get("hc.hide_footer")))},directives:[it.e,rt.B,ot.t,c.lC,a.O5,at.e],styles:["customer-mailbox{display:block;padding-top:70px}customer-mailbox breadcrumbs.container{margin:0 auto;padding:36px;font-size:1.6rem}customer-mailbox customer-conversation,customer-mailbox customer-tickets-list,customer-mailbox new-ticket{min-height:calc(100vh - 165px)}@media screen and (max-width: 768px){customer-mailbox breadcrumbs{display:none}}\n"],encapsulation:2}),t}(),ut=o(66010),gt=o(87291),dt=o(19867),pt=o(30587),ht=o(35976),ft=o(61693),mt=["scrollContainer"];function vt(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"div",6),u.TgZ(1,"button",7),u.NdJ("click",function(){return u.CHM(n),u.oxw().markAsSolved()}),u._uU(2,"Mark as solved"),u.qZA(),u.qZA()}}function bt(t,e){1&t&&(u.TgZ(0,"div",8),u._uU(1," This ticket was locked due to inactivity. To reply, create a new ticket. "),u.qZA())}var xt=function(){var t=function(){function t(e,i,r,o,a,s){n(this,t),this.route=e,this.uploads=i,this.currentUser=r,this.conversation=o,this.tickets=a,this.tags=s}return r(t,[{key:"ngAfterViewInit",value:function(){this.conversation.scrollContainer=this.scrollContainer.nativeElement}},{key:"ngOnInit",value:function(){var t=this;this.route.data.subscribe(function(e){t.conversation.init(e.ticket)})}},{key:"markAsSolved",value:function(){var t=this,e=this.tags.getTagByIdOrName("closed");this.tickets.changeTicketStatus(this.conversation.get().id,e.name).subscribe(function(){t.conversation.afterReplyAction.navigateToCustomerTicketsList("Ticket marked as solved."),t.conversation.setStatus(e)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(c.gz),u.Y36(H.f),u.Y36(g.I),u.Y36(ut.r),u.Y36(T.g),u.Y36(gt.N))},t.\u0275cmp=u.Xpm({type:t,selectors:[["customer-conversation"]],viewQuery:function(t,e){var n;(1&t&&u.Gf(mt,5),2&t)&&(u.iGM(n=u.CRH())&&(e.scrollContainer=n.first))},decls:9,vars:4,consts:[[1,"container"],["class","resolve-btn-container",4,"ngIf"],["class","locked-info",4,"ngIf"],["conversationInfiniteScroll","",1,"ticket-container",3,"scrollTargetIsDocument"],["scrollContainer",""],[1,"overlay",3,"isVisible"],[1,"resolve-btn-container"],["mat-raised-button","","color","accent","trans","",3,"click"],[1,"locked-info"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u.YNc(1,vt,3,0,"div",1),u.YNc(2,bt,2,0,"div",2),u.TgZ(3,"div",3,4),u._UZ(5,"conversation-header"),u._UZ(6,"conversation-text-editor"),u._UZ(7,"conversation-replies"),u.qZA(),u.qZA(),u._UZ(8,"loading-indicator",5)),2&t&&(u.xp6(1),u.Q6J("ngIf",!e.conversation.get().closed_at),u.xp6(1),u.Q6J("ngIf","locked"===e.conversation.get().status),u.xp6(1),u.Q6J("scrollTargetIsDocument",!0),u.xp6(5),u.Q6J("isVisible",e.conversation.replies.isLoading||e.conversation.isLoading))},directives:[a.O5,dt.b,pt.M,ht.B,ft.Q,m.Q,p.lW,d.P],styles:["[_nghost-%COMP%]{display:block;position:relative}.ticket-container[_ngcontent-%COMP%]{padding-bottom:50px}.resolve-btn-container[_ngcontent-%COMP%]{display:none;margin-bottom:40px;text-align:right}.locked-info[_ngcontent-%COMP%]{text-align:center;padding:16px;background-color:#fef7ed;border-left:5px solid #f3a12c;border-radius:4px;margin-bottom:25px}"]}),t}(),Zt=o(20964),yt=o(42690),kt=c.Bz.forChild([{path:"",component:lt,canActivate:[yt.a],children:[{path:"",component:q},{path:"new",component:nt,data:{permissions:["tickets.create"]}},{path:":id",component:xt,resolve:{ticket:Zt.V}}]}]),wt=o(12245),At=o(8574),_t=o(75892),qt=o(18295),Tt=o(5259),Ct=o(49866),Ot=o(98097),Mt=o(43389),Ut=o(95217),It=o(16450),Jt=o(13202),Pt=o(88947),Qt=o(66705),Yt=o(58193),Nt=function(){var t=function t(){n(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[a.ez,s.u5,s.UX,c.Bz,At.m,wt.b,_t.t,Tt.y,qt.l,Ct.N,Mt.p,Ut.u,It.m,Jt.R,Pt.A,Qt.z,Yt.x,kt,L.Ps,v.Hi,p.ot,Ot.X]]}),t}()},3028:function(t,e,i){i.d(e,{w:function(){return d}});var r=i(37716),o=i(65987),a=i(3679),s=i(38583),c=i(76627),l=i(63297);function u(t,e){1&t&&r._UZ(0,"mat-icon",3)}var g,d=((g=function t(e){n(this,t),this.datatable=e,this.hideIcon=!1}).\u0275fac=function(t){return new(t||g)(r.Y36(o.x))},g.\u0275cmp=r.Xpm({type:g,selectors:[["datatable-header-search-input"]],inputs:{placeholder:"placeholder",hideIcon:"hideIcon"},decls:4,vars:5,consts:[[1,"input-container","search-input-container"],["type","text",1,"search-input",3,"placeholder","formControl"],["svgIcon","search",4,"ngIf"],["svgIcon","search"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r._UZ(1,"input",1),r.ALo(2,"trans"),r.YNc(3,u,1,0,"mat-icon",2),r.qZA()),2&t&&(r.xp6(1),r.Q6J("placeholder",r.lcZ(2,3,e.placeholder))("formControl",e.datatable.searchControl),r.xp6(2),r.Q6J("ngIf",!e.hideIcon))},directives:[a.Fj,a.JJ,a.oH,s.O5,c.Hw],pipes:[l.R],styles:[".input-container[_ngcontent-%COMP%]{min-width:250px;position:relative;flex-shrink:0}.input-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 12px);right:5px;color:var(--be-secondary-text)}.icon-left[_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%], .icon-left   [_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{left:10px;right:0}"],changeDetection:0}),g)}}])}();