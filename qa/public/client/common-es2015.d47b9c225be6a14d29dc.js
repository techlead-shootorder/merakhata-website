"use strict";(self.webpackChunkbedesk=self.webpackChunkbedesk||[]).push([[592],{9489:function(t,e,n){n.d(e,{K:function(){return f}});var o=n(65987),a=n(37716),i=n(1303),r=n(15515),s=n(38583),l=n(24668),c=n(18256);function g(t,e){if(1&t&&a._UZ(0,"img",17),2&t){const t=a.oxw().$implicit;a.Q6J("src",null==t.category?null:t.category.image,a.LSH)}}const p=function(t){return["/help-center/search",t]};function u(t,e){if(1&t&&(a.TgZ(0,"tr"),a.TgZ(1,"td",7),a.TgZ(2,"a",8),a._uU(3),a.qZA(),a.qZA(),a.TgZ(4,"td",9),a._uU(5),a.qZA(),a.TgZ(6,"td",10),a._uU(7),a.qZA(),a.TgZ(8,"td",11),a._uU(9),a.qZA(),a.TgZ(10,"td",12),a._uU(11),a.ALo(12,"formattedDate"),a.qZA(),a.TgZ(13,"td",13),a.TgZ(14,"div",14),a.YNc(15,g,1,1,"img",15),a.TgZ(16,"div",16),a._uU(17),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t){const t=e.$implicit;a.xp6(2),a.Q6J("routerLink",a.VKq(10,p,t.term)),a.xp6(1),a.Oqu(t.term),a.xp6(2),a.Oqu(t.count),a.xp6(2),a.hij("",t.ctr,"%"),a.xp6(2),a.Oqu(t.resulted_in_ticket),a.xp6(2),a.Oqu(a.lcZ(12,8,t.last_seen)),a.xp6(4),a.Q6J("ngIf",null==t.category?null:t.category.image),a.xp6(2),a.Oqu((null==t.category?null:t.category.name)||"-")}}const d=["*"];let f=(()=>{class t{constructor(t){this.datatable=t,this.items$=this.datatable.data$,this.datatable.init()}ngOnChanges(t){this.datatable.data=this.data||[]}ngOnDestroy(){this.datatable.destroy()}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(o.x))},t.\u0275cmp=a.Xpm({type:t,selectors:[["search-report-table"]],inputs:{data:"data"},features:[a._Bn([o.x]),a.TTD],ngContentSelectors:d,decls:19,vars:3,consts:[[1,"datatable","responsive-table"],[1,"material-table"],["table-sort-header","","trans","",1,"count-col"],["table-sort-header","","trans","",1,"result-col"],["table-sort-header","created_at","trans","",1,"last-seen-col"],["table-sort-header","","trans","",1,"category-col"],[4,"ngFor","ngForOf"],["data-label","Term"],["target","_blank",3,"routerLink"],["data-label","Count",1,"count-col"],["data-label","CTR",1,"ctr-col"],["data-label","Resulted in Ticket",1,"result-col"],["data-label","Last Seen",1,"last-seen-col"],["data-label","Category",1,"category-col"],[1,"column-with-image"],["class","category-image","alt","",3,"src",4,"ngIf"],[1,"category-name"],["alt","",1,"category-image",3,"src"]],template:function(t,e){1&t&&(a.F$t(),a.TgZ(0,"div",0),a.TgZ(1,"table",1),a.TgZ(2,"thead"),a.TgZ(3,"tr"),a.TgZ(4,"th"),a.Hsn(5),a.qZA(),a.TgZ(6,"th",2),a._uU(7,"Count"),a.qZA(),a.TgZ(8,"th",3),a._uU(9,"CTR"),a.qZA(),a.TgZ(10,"th",3),a._uU(11,"Resulted in Ticket"),a.qZA(),a.TgZ(12,"th",4),a._uU(13,"Last Seen"),a.qZA(),a.TgZ(14,"th",5),a._uU(15,"Category"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(16,"tbody"),a.YNc(17,u,18,12,"tr",6),a.ALo(18,"async"),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(17),a.Q6J("ngForOf",a.lcZ(18,1,e.items$)))},directives:[i.p,r.P,s.sg,l.yS,s.O5],pipes:[s.Ov,c.l],styles:["table[_ngcontent-%COMP%]{table-layout:fixed}.count-col[_ngcontent-%COMP%]{width:100px}.result-col[_ngcontent-%COMP%]{width:130px}.last-seen-col[_ngcontent-%COMP%]{width:160px}.category-col[_ngcontent-%COMP%]{width:220px}"],changeDetection:0}),t})()},19807:function(t,e,n){n.d(e,{o:function(){return c}});var o=n(38583),a=n(24668),i=n(49866),r=n(98097),s=n(58193),l=n(37716);let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[o.ez,a.Bz,i.N,r.X,s.x]]}),t})()},42099:function(t,e,n){n.d(e,{F:function(){return i}});var o=n(37716),a=n(90299);let i=(()=>{class t{constructor(t){this.httpClient=t}getEnvatoEarnings(t=null){return this.httpClient.get("reports/envato/earnings",t)}getHelpCenterReport(t){return this.httpClient.get("reports/help-center",t)}getUserSearchesReport(t){return this.httpClient.get(`reports/user/${t}/searches`)}getTicketsReportForRange(t=null){return this.httpClient.get("reports/tickets/range",t)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(a.r))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},36749:function(t,e,n){n.d(e,{N:function(){return u}});var o=n(37716),a=n(99905),i=n(7964),r=n(51095),s=n(76627);const l=["infoIcon"],c=["popoverContent"];function g(t,e){1&t&&o.Hsn(0)}const p=["*"];let u=(()=>{class t{constructor(t,e){this.overlay=t,this.viewContainerRef=e}openPopover(){this.overlayRef&&this.closePopover(),Object.assign({},a.Z)[0].offsetY=-15,this.overlayRef=this.overlay.open(this.content,{origin:this.infoButton,position:a.Z,hasBackdrop:!1,scrollStrategy:"close",viewContainerRef:this.viewContainerRef,panelClass:["info-popover-panel",this.wider?"wider":null]}),this.overlayRef.getPanelEl().addEventListener("mouseleave",()=>{this.closePopover()})}closePopover(){this.overlayRef&&(this.overlayRef.close(),this.overlayRef=null)}togglePopover(){this.overlayRef?this.closePopover():this.openPopover()}onMouseLeave(t){const e=t.toElement||t.relatedTarget;(!e||!e.classList.contains("info-popover-panel"))&&this.closePopover()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(i.T),o.Y36(o.s_b))},t.\u0275cmp=o.Xpm({type:t,selectors:[["info-popover"]],viewQuery:function(t,e){if(1&t&&(o.Gf(l,5,o.SBq),o.Gf(c,5)),2&t){let t;o.iGM(t=o.CRH())&&(e.infoButton=t.first),o.iGM(t=o.CRH())&&(e.content=t.first)}},inputs:{wider:"wider"},ngContentSelectors:p,decls:5,vars:0,consts:[["type","button","mat-icon-button","",3,"click","mouseenter","mouseleave"],["svgIcon","info",1,"info-icon"],["infoIcon",""],["popoverContent",""]],template:function(t,e){1&t&&(o.F$t(),o.TgZ(0,"button",0),o.NdJ("click",function(){return e.togglePopover()})("mouseenter",function(){return e.openPopover()})("mouseleave",function(t){return e.onMouseLeave(t)}),o._UZ(1,"mat-icon",1,2),o.qZA(),o.YNc(3,g,1,0,"ng-template",null,3,o.W1O))},directives:[r.lW,s.Hw],styles:["info-popover .mat-icon-button{vertical-align:middle;color:var(--be-secondary-text);cursor:help}.info-popover-panel{display:block;background-color:var(--be-background);box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px rgba(0,0,0,.141),0 1px 8px rgba(0,0,0,.122);border-radius:4px;padding:15px;max-width:350px}.info-popover-panel.wider{max-width:550px}.info-popover-panel .title{font-size:1.6rem;margin-bottom:8px}.info-popover-panel .description{margin-bottom:5px;color:var(--be-secondary-text)}.info-popover-panel .link{margin-top:5px;padding-top:5px;border-top:var(--be-divider-default)}.info-popover-panel .link .mat-icon{vertical-align:middle;margin-right:5px;color:var(--be-link)}.info-popover-panel .link a:hover{text-decoration:underline}.info-popover-panel ul,.info-popover-panel ol{padding-left:15px;margin:0}\n"],encapsulation:2,changeDetection:0}),t})()},99905:function(t,e,n){n.d(e,{Z:function(){return o}});const o=[{originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:5},{originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:5}]},13880:function(t,e,n){n.d(e,{s:function(){return O}});var o=n(3679),a=n(26215),i=n(25917),r=n(6966),s=n(54395),l=n(87519),c=n(43190),g=n(5304),p=n(88002),u=n(37716),d=n(99051),f=n(38583),m=n(58341),h=n(21554),v=n(51095),x=n(15515),Z=n(76627),T=n(72458);function b(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"form",9),u.NdJ("ngSubmit",function(){u.CHM(t);const e=u.oxw();return e.selectTagsFromString(e.formControl.value)}),u.TgZ(1,"div",10),u._UZ(2,"input",11),u.TgZ(3,"button",12),u._uU(4,"Add"),u.qZA(),u.qZA(),u.qZA()}if(2&t){const t=u.oxw(),e=u.MAs(8);u.xp6(2),u.Q6J("matAutocomplete",e)("formControl",t.formControl)}}const y=function(t){return{tagName:t}};function C(t,e){if(1&t&&(u.TgZ(0,"p",13),u._uU(1," Separate :tagName with comma.\n"),u.qZA()),2&t){const t=u.oxw();u.Q6J("transValues",u.VKq(1,y,t.pluralName))}}function q(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"mat-chip",14),u.NdJ("removed",function(){const e=u.CHM(t).$implicit;return u.oxw().deselectTag(e)}),u.TgZ(1,"span"),u._uU(2),u.qZA(),u._UZ(3,"mat-icon",15),u.qZA()}if(2&t){const t=e.$implicit,n=u.oxw();u.Q6J("removable",!n.readonly),u.xp6(2),u.Oqu(t)}}function A(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"div",20),u.NdJ("click",function(){const e=u.CHM(t).$implicit;return u.oxw(2).selectTags([e.name])}),u._uU(1),u.qZA()}if(2&t){const t=e.$implicit;u.xp6(1),u.hij(" ",t.display_name," ")}}function w(t,e){if(1&t&&(u.TgZ(0,"div",16),u.TgZ(1,"p",17),u._uU(2,"Choose from existing :tagName:"),u.qZA(),u.TgZ(3,"div",18),u.YNc(4,A,2,1,"div",19),u.ALo(5,"async"),u.qZA(),u.qZA()),2&t){const t=u.oxw();u.xp6(1),u.Q6J("transValues",u.VKq(4,y,t.pluralName)),u.xp6(3),u.Q6J("ngForOf",u.lcZ(5,2,t.existingTags$))}}function _(t,e){if(1&t&&(u.TgZ(0,"mat-option",21),u._uU(1),u.qZA()),2&t){const t=e.$implicit;u.Q6J("value",t.name),u.xp6(1),u.Oqu(t.display_name)}}let O=(()=>{class t{constructor(t){this.tagService=t,this.readonly=!1,this.pluralName="tags",this.formControl=new o.NI,this.selectedTags$=new a.X([]),this.existingTags$=new a.X([]),this.suggestedTags$=new a.X([])}ngOnInit(){this.tagService.index({perPage:15,type:this.tagType}).subscribe(t=>{this.existingTags$.next(t.pagination.data.filter(t=>"status"!==t.type))}),this.formControl.valueChanges.pipe((0,s.b)(250),(0,l.x)(),(0,c.w)(t=>this.searchTags(t)),(0,g.K)(()=>(0,i.of)([]))).subscribe(t=>{this.suggestedTags$.next(t)})}writeValue(t){this.selectTags(t,{skipPropagate:!0,override:!0})}registerOnChange(t){this.propagateChange=t}registerOnTouched(){}selectTags(t,e={}){const n=(t||[]).map(t=>t.trim()).filter(t=>!this.selectedTags$.value.includes(t));e.override?this.selectedTags$.next(n):n.length&&this.selectedTags$.next([...this.selectedTags$.value,...n]),this.formControl.reset(),e.skipPropagate||this.propagateChange(this.selectedTags$.value)}deselectTag(t){const e=this.selectedTags$.value.slice();e.splice(e.indexOf(t),1),this.selectedTags$.next(e),this.propagateChange(this.selectedTags$.value)}selectTagsFromString(t){const e=t.split(",").map(t=>(0,r.V)(t));this.selectTags(e)}searchTags(t){return t?this.tagService.index({query:t}).pipe((0,p.U)(t=>t.pagination.data)):(0,i.of)([])}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(d.i))},t.\u0275cmp=u.Xpm({type:t,selectors:[["tags-manager"]],inputs:{readonly:"readonly",tagType:"tagType",pluralName:"pluralName"},features:[u._Bn([{provide:o.JU,useExisting:t,multi:!0}])],decls:11,vars:10,consts:[["class","input-container","ngNativeValidate","",3,"ngSubmit",4,"ngIf"],["class","main-info","trans","",3,"transValues",4,"ngIf"],[1,"selected-tags"],[3,"selectable"],[3,"removable","removed",4,"ngFor","ngForOf"],["class","existing-tags",4,"ngIf"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["ngNativeValidate","",1,"input-container",3,"ngSubmit"],[1,"input-with-action"],["type","text","required","",1,"tags-string-input",3,"matAutocomplete","formControl"],["type","submit","mat-flat-button","","color","accent","trans","",1,"add-tags-button"],["trans","",1,"main-info",3,"transValues"],[3,"removable","removed"],["svgIcon","cancel","matChipRemove",""],[1,"existing-tags"],["trans","",3,"transValues"],[1,"existing-tags-list"],["class","existing-tag-name",3,"click",4,"ngFor","ngForOf"],[1,"existing-tag-name",3,"click"],[3,"value"]],template:function(t,e){1&t&&(u.YNc(0,b,5,2,"form",0),u.YNc(1,C,2,3,"p",1),u.TgZ(2,"div",2),u.TgZ(3,"mat-chip-list",3),u.YNc(4,q,4,2,"mat-chip",4),u.ALo(5,"async"),u.qZA(),u.qZA(),u.YNc(6,w,6,6,"div",5),u.TgZ(7,"mat-autocomplete",6,7),u.NdJ("optionSelected",function(t){return e.selectTags([t.option.value])}),u.YNc(9,_,2,2,"mat-option",8),u.ALo(10,"async"),u.qZA()),2&t&&(u.Q6J("ngIf",!e.readonly),u.xp6(1),u.Q6J("ngIf",!e.readonly),u.xp6(2),u.Q6J("selectable",!1),u.xp6(1),u.Q6J("ngForOf",u.lcZ(5,6,e.selectedTags$)),u.xp6(2),u.Q6J("ngIf",!e.readonly),u.xp6(3),u.Q6J("ngForOf",u.lcZ(10,8,e.suggestedTags$)))},directives:[f.O5,m.qn,f.sg,h.XC,o.JL,o.F,h.ZL,o.Fj,o.Q7,o.JJ,o.oH,v.lW,x.P,m.HS,Z.Hw,m.qH,T.ey],pipes:[f.Ov],styles:["[_nghost-%COMP%]{display:block}.selected-tag[_ngcontent-%COMP%]{margin:0 10px 10px 0;display:inline-block}.main-info[_ngcontent-%COMP%]{margin-top:5px;font-size:1.3rem}.existing-tags[_ngcontent-%COMP%]{margin-top:25px}.existing-tags[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:5px;font-size:1.3rem;color:var(--be-secondary-text)}.existing-tags-list[_ngcontent-%COMP%]{border:1px solid var(--be-divider-default);padding:8px;height:78px;overflow:auto}.existing-tag-name[_ngcontent-%COMP%]{display:inline-block;margin-right:6px;color:var(--be-link);text-decoration:underline;font-size:1.2rem;cursor:pointer}"],changeDetection:0}),t})()},31330:function(t,e,n){n.d(e,{X:function(){return u}});var o=n(38583),a=n(3679),i=n(58341),r=n(76627),s=n(51095),l=n(21554),c=n(49866),g=n(22238),p=n(37716);let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[o.ez,a.u5,a.UX,c.N,i.Hi,r.Ps,s.ot,l.Bb,g.Is]]}),t})()}}]);