"use strict";(self.webpackChunkbedesk=self.webpackChunkbedesk||[]).push([[116],{45116:function(t,e,a){a.r(e),a.d(e,{HcManageModule:function(){return _e}});var i=a(38583),n=a(3679),o=a(24668),r=a(22238),c=a(37716),s=a(15515),l=a(51095),g=a(76627);let d=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.model={}}close(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(r.so),c.Y36(r.WI))},t.\u0275cmp=c.Xpm({type:t,selectors:[["article-settings-modal"]],decls:28,vars:1,consts:[[1,"modal-header"],["mat-dialog-title","","trans",""],["type","button","mat-icon-button","","tabindex","-1",1,"close-button",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"formGroup","ngSubmit"],[1,"many-inputs"],[1,"input-container"],["for","article-slug","trans",""],["type","text","id","article-slug","formControlName","slug"],["for","article-description","trans",""],["name","article-description","id","article-description","rows","7","formControlName","description"],["trans",""],["for","article-position","trans",""],["type","number","id","article-position","name","article-position","formControlName","position","min","0"],["type","button","mat-button","","trans","",1,"cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent","trans","",1,"submit-button"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"h2",1),c._uU(2,"Article Settings"),c.qZA(),c.TgZ(3,"button",2),c.NdJ("click",function(){return e.close()}),c._UZ(4,"mat-icon",3),c.qZA(),c.qZA(),c.TgZ(5,"form",4),c.NdJ("ngSubmit",function(){return e.close()}),c.TgZ(6,"mat-dialog-content",5),c.TgZ(7,"div",6),c.TgZ(8,"label",7),c._uU(9,"Slug"),c.qZA(),c._UZ(10,"input",8),c.qZA(),c.TgZ(11,"div",6),c.TgZ(12,"label",9),c._uU(13,"Description"),c.qZA(),c._UZ(14,"textarea",10),c.TgZ(15,"p",11),c._uU(16,"This will appear when searching the help center. Excerpt from article will be used otherwise."),c.qZA(),c.qZA(),c.TgZ(17,"div",6),c.TgZ(18,"label",12),c._uU(19,"Position"),c.qZA(),c._UZ(20,"input",13),c.TgZ(21,"p",11),c._uU(22,"Order for article on help center homepage. Lower position will be first."),c.qZA(),c.qZA(),c.qZA(),c.TgZ(23,"mat-dialog-actions"),c.TgZ(24,"button",14),c.NdJ("click",function(){return e.close()}),c._uU(25,"Cancel"),c.qZA(),c.TgZ(26,"button",15),c._uU(27,"Confirm"),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(5),c.Q6J("formGroup",e.data.form))},directives:[r.uh,s.P,l.lW,g.Hw,n.JL,n.sg,r.xY,n.Fj,n.JJ,n.u,n.wV,n.qQ,r.H8],encapsulation:2}),t})();function u(t,e){if(!t||!e)return!1;e=e.toLowerCase(),Array.isArray(t)||(t=[t]);for(let a=0;a<t.length;a++)if(t[a].toLowerCase().indexOf(e)>-1)return!0;return!1}class p{filter(t=null,e){if(!t)return e.slice();const a=[];for(let i=0;i<e.length;i++){const n=Object.assign({},e[i]);u(e[i].name,t)?a.push(n):(n.children=n.children.filter(e=>u(e.name,t)),n.children.length&&a.push(n))}return a}}var h=a(75811),m=a(93342),b=a(18819),f=a(54395),x=a(87519),v=a(79053),Z=a(11436),y=a(7539),_=a(63297);function A(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",15),c.TgZ(1,"mat-checkbox",13),c.NdJ("change",function(){const e=c.CHM(t).$implicit;return c.oxw(2).toggle(e)}),c._uU(2),c.qZA(),c.qZA()}if(2&t){const t=e.$implicit,a=e.index,i=c.oxw().index,n=c.oxw();c.xp6(1),c.Q6J("id",i+""+a)("checked",n.categoryIsSelected(t.id)),c.xp6(1),c.Oqu(t.name)}}function C(t,e){if(1&t){const t=c.EpF();c.ynx(0),c.TgZ(1,"div",12),c.TgZ(2,"mat-checkbox",13),c.NdJ("change",function(){const e=c.CHM(t).$implicit;return c.oxw().toggle(e)}),c._uU(3),c.qZA(),c.qZA(),c.YNc(4,A,3,3,"div",14),c.BQk()}if(2&t){const t=e.$implicit,a=e.index,i=c.oxw();c.xp6(2),c.Q6J("id",a)("checked",i.categoryIsSelected(t.id)),c.xp6(1),c.Oqu(t.name),c.xp6(1),c.Q6J("ngForOf",t.children)}}function k(t,e){1&t&&(c.TgZ(0,"div",16),c._uU(1," No Results Found. "),c.qZA())}const T=["*"];let w=(()=>{class t{constructor(t,e){this.api=t,this.route=e,this.searchControl=new n.NI,this.selectedCategories=[],this.filteredCategories=[],this.allCategories=[]}ngOnInit(){this.bindSearchQuery(),this.allCategories.length||this.refresh()}writeValue(t=[]){const e=this.route.snapshot.queryParams.categories;!t.length&&(null==e?void 0:e.length)&&(t=e.split(",").map(t=>parseInt(t))),this.selectedCategories=t}registerOnChange(t){this.propagateChange=t}registerOnTouched(){}refresh(){const t=this.api.getCategories().pipe((0,m.b)(t=>{this.filteredCategories=t.pagination.data,this.allCategories=t.pagination.data}),(0,b.B)());return t.subscribe(),t}categoryIsSelected(t){return this.selectedCategories.indexOf(t)>-1}childIsSelected(t){if(!t.children.length)return!1;for(let e=0;e<t.children.length;e++)if(this.categoryIsSelected(t.children[e].id))return!0}toggle(t,e){const a=this.selectedCategories.indexOf(t.id);a>-1?this.selectedCategories.splice(a,1):this.selectedCategories.push(t.id),e&&!this.categoryIsSelected(e)&&this.selectedCategories.push(e),this.deselectChildren(t),this.propagateChange(this.selectedCategories)}deselectAll(){this.selectedCategories=[],this.propagateChange(this.selectedCategories)}deselectChildren(t){!t.children||t.children.forEach(t=>{const e=this.selectedCategories.indexOf(t.id);e>-1&&this.selectedCategories.splice(e,1)})}bindSearchQuery(){this.searchControl.valueChanges.pipe((0,f.b)(400),(0,x.x)()).subscribe(t=>{this.filteredCategories=(new p).filter(t,this.allCategories),this.scrollbar.update()})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(v.G),c.Y36(o.gz))},t.\u0275cmp=c.Xpm({type:t,selectors:[["categories-manager"]],viewQuery:function(t,e){if(1&t&&c.Gf(h.j,7),2&t){let t;c.iGM(t=c.CRH())&&(e.scrollbar=t.first)}},features:[c._Bn([{provide:n.JU,useExisting:t,multi:!0}])],ngContentSelectors:T,decls:15,vars:6,consts:[[1,"panel"],[1,"panel-header"],["trans",""],["mat-icon-button","",1,"clear-all-button",3,"matTooltip","click"],["svgIcon","clear-all"],[1,"panel-body"],[1,"input-container"],["type","text","id","categories-manager-search","placeholder","Search...","trans-placeholder","",3,"formControl"],["svgIcon","search"],[1,"categories"],[4,"ngFor","ngForOf"],["class","no-results","trans","",4,"ngIf"],[1,"category","parent-category"],[3,"id","checked","change"],["class","category child-category",4,"ngFor","ngForOf"],[1,"category","child-category"],["trans","",1,"no-results"]],template:function(t,e){1&t&&(c.F$t(),c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"span",2),c._uU(3,"Categories"),c.qZA(),c.TgZ(4,"button",3),c.NdJ("click",function(){return e.deselectAll()}),c.ALo(5,"trans"),c._UZ(6,"mat-icon",4),c.qZA(),c.qZA(),c.TgZ(7,"div",5),c.TgZ(8,"div",6),c._UZ(9,"input",7),c._UZ(10,"mat-icon",8),c.qZA(),c.TgZ(11,"section",9),c.YNc(12,C,5,4,"ng-container",10),c.YNc(13,k,2,0,"div",11),c.qZA(),c.Hsn(14),c.qZA(),c.qZA()),2&t&&(c.xp6(4),c.Q6J("matTooltip",c.lcZ(5,4,"Clear All")),c.xp6(5),c.Q6J("formControl",e.searchControl),c.xp6(3),c.Q6J("ngForOf",e.filteredCategories),c.xp6(1),c.Q6J("ngIf",!e.filteredCategories.length&&e.searchControl.value))},directives:[s.P,l.lW,Z.gM,g.Hw,n.Fj,n.JJ,n.oH,i.sg,i.O5,y.oG],pipes:[_.R],styles:["categories-manager{display:block}categories-manager .input-container{margin-bottom:10px;position:relative}categories-manager .input-container input{padding-left:33px}categories-manager .input-container .mat-icon{position:absolute;top:12px;left:7px;color:var(--be-secondary-text)}categories-manager .categories{max-height:250px;overflow:auto;padding:10px;border:1px solid var(--be-divider-default)}categories-manager .categories .category{margin-bottom:8px;overflow:hidden;text-overflow:ellipsis}categories-manager .categories .child-category{margin-left:20px}categories-manager .categories .parent-category label{font-weight:500}categories-manager .categories .no-results{font-style:italic;font-size:1.3rem}\n"],encapsulation:2}),t})();var q=a(51765);let J=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.hydrate()}close(){this.dialogRef.close()}hydrate(){this.article=this.data.article}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(r.so),c.Y36(r.WI))},t.\u0275cmp=c.Xpm({type:t,selectors:[["article-modal"]],decls:4,vars:1,consts:[["type","button","mat-icon-button","","tabindex","-1",1,"close-button",3,"click"],["svgIcon","close"],[3,"article"]],template:function(t,e){1&t&&(c.TgZ(0,"mat-dialog-content"),c.TgZ(1,"button",0),c.NdJ("click",function(){return e.close()}),c._UZ(2,"mat-icon",1),c.qZA(),c._UZ(3,"article",2),c.qZA()),2&t&&(c.xp6(3),c.Q6J("article",e.article))},directives:[r.xY,l.lW,g.Hw,q.t],styles:[".article-modal-container{width:80%;height:calc(100% - 50px)}.article-modal-container .mat-dialog-content,.article-modal-container .mat-dialog-container{height:100%;max-height:100%}.article-modal-container .close-button{position:absolute;top:0;right:20px}\n"],encapsulation:2}),t})();var U=a(56313),M=a(53534),O=a(9141),I=a(81378),N=a(35718),Q=a(45396);function L(t,e){1&t&&(c.TgZ(0,"span",26),c._uU(1,"Update Category"),c.qZA())}function P(t,e){1&t&&(c.TgZ(0,"span",26),c._uU(1,"New Category"),c.qZA())}function Y(t,e){if(1&t&&(c.TgZ(0,"div",29),c._uU(1),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Oqu(t.errors.name)}}function D(t,e){if(1&t&&(c.TgZ(0,"div",30),c._uU(1),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Oqu(t.errors.image)}}function F(t,e){if(1&t&&(c.TgZ(0,"option",31),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.Q6J("value",t.id),c.xp6(1),c.Oqu(t.name)}}function S(t,e){if(1&t&&(c.TgZ(0,"div",32),c._uU(1),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Oqu(t.errors.parent_id)}}function G(t,e){if(1&t&&(c.TgZ(0,"div",33),c._uU(1),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Oqu(t.errors.description)}}function V(t,e){1&t&&(c.TgZ(0,"span",26),c._uU(1,"Update"),c.qZA())}function H(t,e){1&t&&(c.TgZ(0,"span",26),c._uU(1,"Create"),c.qZA())}let R=(()=>{class t{constructor(t,e,a,i,n,o){this.dialogRef=t,this.data=e,this.api=a,this.imageValidator=i,this.uploadQueue=n,this.toast=o,this.categories=[],this.model={},this.updating=!1,this.errors={},this.hydrate()}close(t){this.dialogRef.close(t)}confirm(){this.api.createOrUpdateCategory(this.getPayload()).subscribe(t=>{this.toast.open(this.model.id?"Updated category.":"Created category."),this.close(t.category)},t=>this.errors=t.errors)}hydrate(){this.fetchCategories(this.data.category),this.data.category&&(this.updating=!0,this.model=this.data.category),this.data.parentId&&(this.model.parent_id=this.data.parentId)}getPayload(){return{id:this.model.id,name:this.model.name,image:this.model.image,description:this.model.description,parent_id:this.model.parent_id||null,hidden:this.model.hidden}}fetchCategories(t){this.api.getCategories().subscribe(e=>{this.categories=e.pagination.data.filter(e=>!t||t.id!==e.id)})}openInsertImageDialog(){const t={uri:"uploads/images",httpParams:{diskPrefix:"category"},validator:this.imageValidator};(0,U.r)({types:[M.j.image],multiple:!1}).then(e=>{!e||this.uploadQueue.start(e,t).subscribe(t=>{this.model.image=t.fileEntry.url})})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(r.so),c.Y36(r.WI),c.Y36(v.G),c.Y36(I.m),c.Y36(O.A),c.Y36(N.F))},t.\u0275cmp=c.Xpm({type:t,selectors:[["category-modal"]],features:[c._Bn([O.A])],decls:46,vars:18,consts:[[1,"modal-header"],["mat-dialog-title",""],["trans","",4,"ngIf"],["type","button","mat-icon-button","","tabindex","-1",1,"close-button",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"ngSubmit"],[1,"many-inputs"],[1,"input-container"],["for","name","trans",""],["type","text","id","name","name","name",3,"ngModel","ngModelChange"],["class","error name-error",4,"ngIf"],["for","image","trans",""],[1,"input-with-action","action-left"],["mat-flat-button","","color","accent","type","button",1,"addon",3,"matTooltip","click"],["svgIcon","file-upload"],["type","text","id","image","name","image",3,"ngModel","ngModelChange"],["class","error image-error",4,"ngIf"],["type","text","id","parent_id","name","parent_id",3,"ngModel","ngModelChange"],["trans","",3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["class","error parent-error",4,"ngIf"],["for","description","trans",""],["type","text","id","description","name","description","rows","4",3,"ngModel","ngModelChange"],["class","error description-error",4,"ngIf"],[1,"setting-toggle-container"],["name","hidden","id","hidden","trans","",3,"ngModel","ngModelChange"],["trans",""],["type","button","mat-button","","trans","",1,"cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent",1,"submit-button"],[1,"error","name-error"],[1,"error","image-error"],[3,"value"],[1,"error","parent-error"],[1,"error","description-error"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"h2",1),c.YNc(2,L,2,0,"span",2),c.YNc(3,P,2,0,"span",2),c.qZA(),c.TgZ(4,"button",3),c.NdJ("click",function(){return e.close()}),c._UZ(5,"mat-icon",4),c.qZA(),c.qZA(),c.TgZ(6,"form",5),c.NdJ("ngSubmit",function(){return e.confirm()}),c.TgZ(7,"mat-dialog-content",6),c.TgZ(8,"div",7),c.TgZ(9,"label",8),c._uU(10,"Name"),c.qZA(),c.TgZ(11,"input",9),c.NdJ("ngModelChange",function(t){return e.model.name=t}),c.qZA(),c.YNc(12,Y,2,1,"div",10),c.qZA(),c.TgZ(13,"div",7),c.TgZ(14,"label",11),c._uU(15,"Image"),c.qZA(),c.TgZ(16,"div",12),c.TgZ(17,"button",13),c.NdJ("click",function(){return e.openInsertImageDialog()}),c.ALo(18,"trans"),c._UZ(19,"mat-icon",14),c.qZA(),c.TgZ(20,"input",15),c.NdJ("ngModelChange",function(t){return e.model.image=t}),c.qZA(),c.qZA(),c.YNc(21,D,2,1,"div",16),c.qZA(),c.TgZ(22,"div",7),c.TgZ(23,"label",8),c._uU(24,"Parent Category"),c.qZA(),c.TgZ(25,"select",17),c.NdJ("ngModelChange",function(t){return e.model.parent_id=t}),c.TgZ(26,"option",18),c._uU(27,"No Parent Category"),c.qZA(),c.YNc(28,F,2,2,"option",19),c.qZA(),c.YNc(29,S,2,1,"div",20),c.qZA(),c.TgZ(30,"div",7),c.TgZ(31,"label",21),c._uU(32,"Description"),c.qZA(),c.TgZ(33,"textarea",22),c.NdJ("ngModelChange",function(t){return e.model.description=t}),c.qZA(),c.YNc(34,G,2,1,"div",23),c.qZA(),c.TgZ(35,"div",24),c.TgZ(36,"mat-slide-toggle",25),c.NdJ("ngModelChange",function(t){return e.model.hidden=t}),c._uU(37,"Hidden"),c.qZA(),c.TgZ(38,"p",26),c._uU(39,"Whether this category should be displayed in help center."),c.qZA(),c.qZA(),c.qZA(),c.TgZ(40,"mat-dialog-actions"),c.TgZ(41,"button",27),c.NdJ("click",function(){return e.close()}),c._uU(42,"Cancel"),c.qZA(),c.TgZ(43,"button",28),c.YNc(44,V,2,0,"span",2),c.YNc(45,H,2,0,"span",2),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(2),c.Q6J("ngIf",e.updating),c.xp6(1),c.Q6J("ngIf",!e.updating),c.xp6(8),c.Q6J("ngModel",e.model.name),c.xp6(1),c.Q6J("ngIf",e.errors.name),c.xp6(5),c.Q6J("matTooltip",c.lcZ(18,16,"Upload image")),c.xp6(3),c.Q6J("ngModel",e.model.image),c.xp6(1),c.Q6J("ngIf",e.errors.image),c.xp6(4),c.Q6J("ngModel",e.model.parent_id),c.xp6(1),c.Q6J("ngValue",null),c.xp6(2),c.Q6J("ngForOf",e.categories),c.xp6(1),c.Q6J("ngIf",e.errors.parent_id),c.xp6(4),c.Q6J("ngModel",e.model.description),c.xp6(1),c.Q6J("ngIf",e.errors.description),c.xp6(2),c.Q6J("ngModel",e.model.hidden),c.xp6(8),c.Q6J("ngIf",e.updating),c.xp6(1),c.Q6J("ngIf",!e.updating))},directives:[r.uh,i.O5,l.lW,g.Hw,n.JL,n.F,r.xY,s.P,n.Fj,n.JJ,n.On,Z.gM,n.EJ,n.YN,n.Kr,i.sg,Q.Rr,r.H8],pipes:[_.R],encapsulation:2}),t})();var E=a(82192),B=a(6966),z=a(15381),j=a(76827),$=a(48350),W=a(13880),X=a(20616),K=a(91241);function tt(t,e){1&t&&(c.TgZ(0,"span",31),c._uU(1,"Create Article"),c.qZA())}function et(t,e){1&t&&(c.TgZ(0,"span",32),c._uU(1,"Update Article"),c.qZA())}function at(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"reply-attachment-list",34),c.NdJ("detached",function(e){return c.CHM(t),c.oxw(2).removeAttachment(e)}),c.qZA()}if(2&t){const t=c.oxw(2);c.Q6J("attachments",t.attachments)}}function it(t,e){if(1&t&&(c.TgZ(0,"div",23),c.TgZ(1,"div",24),c._uU(2,"Attachments"),c.qZA(),c.TgZ(3,"div",25),c.YNc(4,at,1,1,"reply-attachment-list",33),c.qZA(),c.qZA()),2&t){const t=c.oxw();c.xp6(4),c.Q6J("ngIf",t.attachments.length)}}const nt=function(){return{exact:!0}};let ot=(()=>{class t{constructor(t,e,a,i,n,o,r){this.modal=t,this.helpCenter=e,this.toast=a,this.route=i,this.router=n,this.uploadQueue=o,this.fb=r,this.updating=!1,this.attachments=[],this.form=this.fb.group({title:[""],body:[""],slug:[""],description:[""],position:[0],draft:[1],categories:[[]],tags:[[]]})}ngOnInit(){this.route.data.subscribe(t=>{if(t.article){const e=t.article;e.categories=e.categories.map(t=>t.id),e.tags=e.tags.map(t=>t.name),this.form.patchValue(e),this.textEditor.setContents(e.body),this.attachments=e.uploads||[]}})}saveOrUpdateArticle(){this.updating=!0,(this.route.snapshot.data.article?this.helpCenter.updateArticle(this.route.snapshot.data.article.id,this.getPayload()):this.helpCenter.createArticle(this.getPayload())).subscribe(()=>{this.toast.open("Article "+(this.route.snapshot.data.article?"updated.":"created.")),this.router.navigateByUrl("help-center/manage/articles")},t=>{const e=t.errors[Object.keys(t.errors)[0]];this.toast.open(e),this.updating=!1})}openPreviewModal(){this.modal.open(J,{article:this.getPayload(!1)},{panelClass:"article-modal-container"})}openArticleSettingsModal(){this.modal.show(d,{form:this.form})}getPayload(t=!0){const e=this.form.value;return e.body=this.textEditor.getContents(),t&&(e.uploads=this.attachments.map(t=>t.id)),e.slug=(0,B.V)(e.slug),e}openNewCategoryModal(){this.modal.show(R).afterClosed().subscribe(t=>{!t||this.categoriesManager.refresh().subscribe(()=>{this.categoriesManager.toggle(t)})})}uploadFiles(t){this.uploadQueue.start(t).subscribe(t=>{this.attachments=[...this.attachments,t.fileEntry]})}removeAttachment(t){for(let e=0;e<this.attachments.length;e++)this.attachments[e].id===t.id&&this.attachments.splice(e,1)}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(z.u),c.Y36(j.x),c.Y36(N.F),c.Y36(o.gz),c.Y36(o.F0),c.Y36(O.A),c.Y36(n.qu))},t.\u0275cmp=c.Xpm({type:t,selectors:[["new-article"]],viewQuery:function(t,e){if(1&t&&(c.Gf(E.d,7),c.Gf(w,7)),2&t){let t;c.iGM(t=c.CRH())&&(e.textEditor=t.first),c.iGM(t=c.CRH())&&(e.categoriesManager=t.first)}},features:[c._Bn([O.A])],decls:42,vars:18,consts:[[1,"action-bar"],[1,"nav"],["routerLinkActive","router-link-active","trans","",1,"nav-item",3,"routerLink","routerLinkActiveOptions"],["routerLinkActive","router-link-active","trans","",1,"nav-item",3,"routerLink"],[1,"actions"],[1,"no-style","action","article-settings-action",3,"click"],["svgIcon","settings"],["id","submit",1,"no-style","publish-article-button","new-item-button",3,"click"],["class","create-article-submit","trans","",4,"ngIf"],["class","update-article-submit","trans","",4,"ngIf"],[1,"container",3,"formGroup"],[1,"middle-column"],[1,"input-container","title"],["type","text","formControlName","title","placeholder","Title","trans-placeholder","",1,"article-title-input"],["formControlName","draft",1,"article-status-input"],["trans","",3,"value"],[1,"text-editor-container"],["inlineUploadPrefix","article_images","minHeight","auto",1,"text-editor",3,"showAdvancedControls","onFileUpload"],["editorEl",""],["customScrollbar","lite",1,"right-column"],["formControlName","categories",1,"categories-panel"],[1,"new-category-button"],["mat-flat-button","","color","accent","trans","",3,"click"],[1,"panel"],["trans","",1,"panel-header"],[1,"panel-body"],["formControlName","tags"],["class","panel",4,"ngIf"],[1,"preview-article-button",3,"matTooltip","click"],["svgIcon","remove-red-eye",1,"size-20"],[1,"overlay",3,"isVisible"],["trans","",1,"create-article-submit"],["trans","",1,"update-article-submit"],[3,"attachments","detached",4,"ngIf"],[3,"attachments","detached"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"a",2),c._uU(3,"Home"),c.qZA(),c.TgZ(4,"a",3),c._uU(5,"Categories"),c.qZA(),c.TgZ(6,"a",2),c._uU(7,"Articles"),c.qZA(),c.qZA(),c.TgZ(8,"div",4),c.TgZ(9,"button",5),c.NdJ("click",function(){return e.openArticleSettingsModal()}),c._UZ(10,"mat-icon",6),c.qZA(),c.TgZ(11,"button",7),c.NdJ("click",function(){return e.saveOrUpdateArticle()}),c.YNc(12,tt,2,0,"span",8),c.YNc(13,et,2,0,"span",9),c.qZA(),c.qZA(),c.qZA(),c.TgZ(14,"div",10),c.TgZ(15,"section",11),c.TgZ(16,"div",12),c._UZ(17,"input",13),c.TgZ(18,"select",14),c.TgZ(19,"option",15),c._uU(20,"Published"),c.qZA(),c.TgZ(21,"option",15),c._uU(22,"Draft"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(23,"div",16),c._UZ(24,"upload-progress-bar"),c.TgZ(25,"text-editor",17,18),c.NdJ("onFileUpload",function(t){return e.uploadFiles(t)}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(27,"aside",19),c.TgZ(28,"categories-manager",20),c.TgZ(29,"div",21),c.TgZ(30,"button",22),c.NdJ("click",function(){return e.openNewCategoryModal()}),c._uU(31,"+ Add New Category"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(32,"div",23),c.TgZ(33,"div",24),c._uU(34,"Tags"),c.qZA(),c.TgZ(35,"div",25),c._UZ(36,"tags-manager",26),c.qZA(),c.qZA(),c.YNc(37,it,5,1,"div",27),c.qZA(),c.TgZ(38,"button",28),c.NdJ("click",function(){return e.openPreviewModal()}),c.ALo(39,"trans"),c._UZ(40,"mat-icon",29),c.qZA(),c._UZ(41,"loading-indicator",30),c.qZA()),2&t&&(c.xp6(2),c.Q6J("routerLink","/help-center")("routerLinkActiveOptions",c.DdM(16,nt)),c.xp6(2),c.Q6J("routerLink","/help-center/manage/categories"),c.xp6(2),c.Q6J("routerLink","/help-center/manage/articles")("routerLinkActiveOptions",c.DdM(17,nt)),c.xp6(6),c.Q6J("ngIf",!e.route.snapshot.data.article),c.xp6(1),c.Q6J("ngIf",e.route.snapshot.data.article),c.xp6(1),c.Q6J("formGroup",e.form),c.xp6(5),c.Q6J("value",0),c.xp6(2),c.Q6J("value",1),c.xp6(4),c.Q6J("showAdvancedControls",!0),c.xp6(12),c.Q6J("ngIf",null==e.attachments?null:e.attachments.length),c.xp6(1),c.Q6J("matTooltip",c.lcZ(39,14,"Preview Article")),c.xp6(3),c.Q6J("isVisible",e.updating))},directives:[o.yS,o.Od,s.P,g.Hw,i.O5,n.JL,n.sg,n.Fj,n.JJ,n.u,n.EJ,n.YN,n.Kr,$.o,E.d,h.j,w,l.lW,W.s,Z.gM,X.Q,K.G],pipes:[_.R],styles:["new-article{display:block;overflow:hidden;background-color:var(--be-background-alternative)}new-article .action-bar .action{color:var(--be-secondary-text)}new-article .text-editor-container{height:calc(100% - 50px)}new-article .container{display:flex;max-width:1300px;margin:20px auto;height:calc(100vh - 165px)}new-article .container .middle-column{flex:1 1 auto;height:100%;margin-right:20px;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px rgba(0,0,0,.141),0 1px 3px rgba(0,0,0,.122);background-color:var(--be-background);border:1px solid;border-color:#d3d3d3 #d3d3d3 #c4c4c4 #d3d3d3;border-radius:4px;overflow:hidden}new-article .container .middle-column .title{display:flex}new-article .container .middle-column .title .article-title-input,new-article .container .middle-column .title .article-status-input{border:none;height:50px}new-article .container .middle-column .title .article-title-input{flex:1 1 auto;font-size:2rem;padding:10px 25px}new-article .container .middle-column .title .article-status-input{flex:0 0 130px;border-left:1px solid var(--be-divider-default)}new-article .container .middle-column text-editor{max-height:none;border-left:none;border-right:none;border-bottom:none}new-article .container .middle-column text-editor .editor-header,new-article .container .middle-column text-editor .editor-footer{background-color:#fff}new-article .container .right-column{width:302px;flex:0 0 302px;overflow:auto;padding:0 2px;height:100%}new-article .container .right-column .panel{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px rgba(0,0,0,.141),0 1px 3px rgba(0,0,0,.122);background-color:var(--be-background);border:1px solid;border-color:#d3d3d3 #d3d3d3 #c4c4c4 #d3d3d3;border-radius:4px}new-article .container .right-column .new-category-button{margin:15px 0 5px}new-article .container .preview-article-button{width:50px;height:50px;display:flex;justify-content:center;align-items:center;border-radius:50%;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px rgba(0,0,0,.141),0 1px 8px rgba(0,0,0,.122);background-color:var(--be-accent-default);color:var(--be-accent-contrast);position:absolute;right:20px;bottom:20px;border:none;outline:none;cursor:pointer}new-article reply-attachment-list{display:block}new-article reply-attachment-list .attachments-list-item{width:100%}\n"],encapsulation:2}),t})();var rt=a(59193),ct=a(25917),st=a(88002),lt=a(5304),gt=a(19773);let dt=(()=>{class t{constructor(t,e,a){this.helpCenter=t,this.categories=e,this.router=a}resolve(t){return this.helpCenter.getArticle(t.params.article_id).pipe((0,st.U)(t=>t.article)).pipe((0,lt.K)(()=>(this.router.navigateByUrl("/help-center/manage/articles"),rt.E)),(0,gt.zg)(t=>(0,ct.of)(t)))}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(j.x),c.LFG(v.G),c.LFG(o.F0))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ut=a(65987),pt=a(93026),ht=a(34673),mt=a(3028),bt=a(39490),ft=a(38345),xt=a(72458),vt=a(19238);const Zt=["button"],yt=["*"],_t=new c.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),At=new c.OlP("MatButtonToggleGroup"),Ct={provide:n.JU,useExisting:(0,c.Gpc)(()=>wt),multi:!0};let kt=0;class Tt{constructor(t,e){this.source=t,this.value=e}}let wt=(()=>{class t{constructor(t,e){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+kt++,this.valueChange=new c.vpe,this.change=new c.vpe,this.appearance=e&&e.appearance?e.appearance:"standard"}get name(){return this._name}set name(t){this._name=t,this._buttonToggles&&this._buttonToggles.forEach(t=>{t.name=this._name,t._markForCheck()})}get vertical(){return this._vertical}set vertical(t){this._vertical=(0,bt.Ig)(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(t=>t.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=(0,bt.Ig)(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,bt.Ig)(t),this._buttonToggles&&this._buttonToggles.forEach(t=>t._markForCheck())}ngOnInit(){this._selectionModel=new ft.Ov(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(){const t=this.selected,e=Array.isArray(t)?t[t.length-1]:t,a=new Tt(e,this.value);this._controlValueAccessorChangeFn(a.value),this.change.emit(a)}_syncButtonToggle(t,e,a=!1,i=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?e?this._selectionModel.select(t):this._selectionModel.deselect(t):i=!0,i?Promise.resolve().then(()=>this._updateModelValue(a)):this._updateModelValue(a)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(e=>null!=t.value&&e===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(t=>this._selectValue(t))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const e=this._buttonToggles.find(e=>null!=e.value&&e.value===t);e&&(e.checked=!0,this._selectionModel.select(e))}_updateModelValue(t){t&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.sBO),c.Y36(_t,8))},t.\u0275dir=c.lG2({type:t,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,e,a){if(1&t&&c.Suo(a,Ut,5),2&t){let t;c.iGM(t=c.CRH())&&(e._buttonToggles=t)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,e){2&t&&(c.uIk("aria-disabled",e.disabled),c.ekj("mat-button-toggle-vertical",e.vertical)("mat-button-toggle-group-appearance-standard","standard"===e.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[c._Bn([Ct,{provide:At,useExisting:t}])]}),t})();class qt{}const Jt=(0,xt.Kr)(qt);let Ut=(()=>{class t extends Jt{constructor(t,e,a,i,n,o){super(),this._changeDetectorRef=e,this._elementRef=a,this._focusMonitor=i,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new c.vpe;const r=Number(n);this.tabIndex=r||0===r?r:null,this.buttonToggleGroup=t,this.appearance=o&&o.appearance?o.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const e=(0,bt.Ig)(t);e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=(0,bt.Ig)(t)}ngOnInit(){const t=this.buttonToggleGroup;this._isSingleSelector=t&&!t.multiple,this.id=this.id||"mat-button-toggle-"+kt++,this._isSingleSelector&&(this.name=t.name),t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new Tt(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(At,8),c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(vt.tE),c.$8M("tabindex"),c.Y36(_t,8))},t.\u0275cmp=c.Xpm({type:t,selectors:[["mat-button-toggle"]],viewQuery:function(t,e){if(1&t&&c.Gf(Zt,5),2&t){let t;c.iGM(t=c.CRH())&&(e._buttonElement=t.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,e){1&t&&c.NdJ("focus",function(){return e.focus()}),2&t&&(c.uIk("aria-label",null)("aria-labelledby",null)("id",e.id)("name",null),c.ekj("mat-button-toggle-standalone",!e.buttonToggleGroup)("mat-button-toggle-checked",e.checked)("mat-button-toggle-disabled",e.disabled)("mat-button-toggle-appearance-standard","standard"===e.appearance))},inputs:{disableRipple:"disableRipple",ariaLabelledby:["aria-labelledby","ariaLabelledby"],tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],value:"value"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[c.qOj],ngContentSelectors:yt,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,e){if(1&t&&(c.F$t(),c.TgZ(0,"button",0,1),c.NdJ("click",function(){return e._onButtonClick()}),c.TgZ(2,"span",2),c.Hsn(3),c.qZA(),c.qZA(),c._UZ(4,"span",3),c._UZ(5,"span",4)),2&t){const t=c.MAs(1);c.Q6J("id",e.buttonId)("disabled",e.disabled||null),c.uIk("tabindex",e.disabled?-1:e.tabIndex)("aria-pressed",e.checked)("name",e.name||null)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),c.xp6(5),c.Q6J("matRippleTrigger",t)("matRippleDisabled",e.disableRipple||e.disabled)}},directives:[xt.wG],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),t})(),Mt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[xt.BQ,xt.si],xt.BQ]}),t})();var Ot=a(32141),It=a(58341),Nt=a(76403);function Qt(t,e){if(1&t&&(c.TgZ(0,"option",31),c._uU(1),c.ALo(2,"trans"),c.qZA()),2&t){const t=e.$implicit;c.Q6J("value",t.value),c.xp6(1),c.hij(" ",c.lcZ(2,2,t.key)," ")}}function Lt(t,e){if(1&t&&(c.TgZ(0,"span",49),c._uU(1),c.qZA()),2&t){const t=c.oxw(2).$implicit;c.xp6(1),c.hij("",t.categories[0].parent.name," > ")}}function Pt(t,e){if(1&t&&(c.TgZ(0,"div",46),c.YNc(1,Lt,2,1,"span",47),c.TgZ(2,"span",48),c._uU(3),c.qZA(),c.qZA()),2&t){const t=c.oxw().$implicit;c.xp6(1),c.Q6J("ngIf",null==t.categories[0]?null:t.categories[0].parent),c.xp6(2),c.Oqu(t.categories[0].name)}}function Yt(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"mat-chip",50),c.NdJ("click",function(e){const a=c.CHM(t).$implicit;return c.oxw(3).toggleTagFilter(a),e.stopPropagation()}),c._uU(1),c.qZA()}if(2&t){const t=e.$implicit;c.xp6(1),c.Oqu(t.display_name)}}function Dt(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",38),c.NdJ("click",function(){const e=c.CHM(t).$implicit;return c.oxw(2).goToUpdateArticle(e.id)}),c.TgZ(1,"button",39),c.NdJ("click",function(e){const a=c.CHM(t).$implicit;return c.oxw(2).maybeDeleteArticle(a),e.stopPropagation()}),c.ALo(2,"trans"),c._UZ(3,"mat-icon",40),c.qZA(),c.YNc(4,Pt,4,2,"div",41),c.TgZ(5,"div",42),c._uU(6),c.qZA(),c.TgZ(7,"div",43),c._uU(8),c.qZA(),c.TgZ(9,"mat-chip-list",44),c.YNc(10,Yt,2,1,"mat-chip",45),c.qZA(),c.qZA()}if(2&t){const t=e.$implicit;c.ekj("draft",t.draft),c.xp6(1),c.Q6J("matTooltip",c.lcZ(2,7,"Delete Article")),c.xp6(3),c.Q6J("ngIf",t.categories.length),c.xp6(2),c.Oqu(t.title),c.xp6(2),c.Oqu(t.body),c.xp6(2),c.Q6J("ngForOf",t.tags)}}function Ft(t,e){1&t&&(c.TgZ(0,"no-results-message"),c.TgZ(1,"span",51),c._uU(2,"Could not find any articles."),c.qZA(),c.TgZ(3,"span",52),c._uU(4,"Try to make article files less specific."),c.qZA(),c.qZA())}function St(t,e){if(1&t&&(c.TgZ(0,"div",32,33),c.TgZ(2,"div",34),c.TgZ(3,"div"),c.YNc(4,Dt,11,9,"div",35),c.qZA(),c.YNc(5,Ft,5,0,"no-results-message",36),c.ALo(6,"async"),c.qZA(),c._UZ(7,"loading-indicator",37),c.ALo(8,"async"),c._UZ(9,"datatable-footer"),c.qZA()),2&t){const t=e.ngIf,a=c.oxw();c.xp6(3),c.ekj("grid-flex-wrapper","grid"===a.selectedLayout),c.xp6(1),c.Q6J("ngForOf",t),c.xp6(1),c.Q6J("ngIf",c.lcZ(6,5,a.datatable.paginator.noResults$)),c.xp6(2),c.Q6J("isVisible",c.lcZ(8,7,a.datatable.paginator.loading$))}}const Gt=function(){return{exact:!0}};let Vt=(()=>{class t{constructor(t,e,a,i){this.helpCenter=t,this.router=e,this.datatable=a,this.settings=i,this.selectedLayout="grid",this.articleOrderOptions=pt.Q,this.form=new n.cw({categories:new n.NI([]),tags:new n.NI([]),draft:new n.NI(null),order:new n.NI(this.settings.get("articles.default_order"))})}ngOnInit(){this.datatable.init({uri:"help-center/articles"}),this.form.valueChanges.subscribe(t=>{this.datatable.filters$.next(t)})}goToUpdateArticle(t){this.router.navigate(["/help-center/manage/","articles",t,"edit"])}maybeDeleteArticle(t){this.datatable.confirmResourceDeletion("article").subscribe(()=>{this.helpCenter.deleteArticles([t.id]).subscribe(()=>this.datatable.reset())})}setLayout(t){this.selectedLayout=t}isLayoutActive(t){return this.selectedLayout===t}toggleTagFilter(t){const e=this.form.get("tags").value,a=e.indexOf(t.name);a>-1?e.splice(a,1):e.push(t.name),this.form.get("tags").setValue(e)}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(j.x),c.Y36(o.F0),c.Y36(ut.x),c.Y36(ht.Z))},t.\u0275cmp=c.Xpm({type:t,selectors:[["articles-list"]],features:[c._Bn([ut.x])],decls:46,vars:20,consts:[[1,"action-bar"],[1,"nav"],["routerLinkActive","router-link-active","trans","",1,"nav-item","home-nav-item",3,"routerLink","routerLinkActiveOptions"],["routerLinkActive","router-link-active","trans","",1,"nav-item","categories-nav-item",3,"routerLink"],["routerLinkActive","router-link-active","trans","",1,"nav-item","articles-nav-item",3,"routerLink"],[1,"actions"],[1,"search-bar","input-container"],["placeholder","Search"],[1,"action-bar-action","change-layout-action"],[1,"no-style","grid-layout-button",3,"click"],["svgIcon","view-comfy"],[1,"no-style","list-layout-button",3,"click"],["svgIcon","view-list"],[1,"action-bar-action",3,"formGroup"],["name","order","id","order","formControlName","order"],[3,"value",4,"ngFor","ngForOf"],["routerLink","new",1,"new-article-button","new-item-button"],["svgIcon","add"],["trans",""],[1,"content"],[1,"article-list-filters"],[1,"filters-list",3,"formGroup"],["formControlName","categories",1,"article-categories-filter"],[1,"panel","tags-filter"],["trans","",1,"panel-header"],[1,"panel-body"],["formControlName","tags"],[1,"panel","article-type-filter"],["formControlName","draft"],["trans","",3,"value"],["class","articles-list-container",4,"ngIf"],[3,"value"],[1,"articles-list-container"],["scrollContainer",""],[1,"articles-list"],["class","articles-list-item",3,"draft","click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"overlay",3,"isVisible"],[1,"articles-list-item",3,"click"],[1,"no-style","delete-article-button",3,"matTooltip","click"],["svgIcon","delete",1,"size-20"],["class","article-categories",4,"ngIf"],[1,"article-title"],[1,"article-body"],[1,"article-tags"],["color","standard",3,"click",4,"ngFor","ngForOf"],[1,"article-categories"],["class","parent-category",4,"ngIf"],[1,"category"],[1,"parent-category"],["color","standard",3,"click"],["primary-text","","trans",""],["secondary-text","","trans",""]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"a",2),c._uU(3,"Home"),c.qZA(),c.TgZ(4,"a",3),c._uU(5,"Categories"),c.qZA(),c.TgZ(6,"a",4),c._uU(7,"Articles"),c.qZA(),c.qZA(),c.TgZ(8,"div",5),c.TgZ(9,"div",6),c._UZ(10,"datatable-header-search-input",7),c.qZA(),c.TgZ(11,"div",8),c.TgZ(12,"button",9),c.NdJ("click",function(){return e.setLayout("grid")}),c._UZ(13,"mat-icon",10),c.qZA(),c.TgZ(14,"button",11),c.NdJ("click",function(){return e.setLayout("list")}),c._UZ(15,"mat-icon",12),c.qZA(),c.qZA(),c.TgZ(16,"div",13),c.TgZ(17,"select",14),c.YNc(18,Qt,3,4,"option",15),c.ALo(19,"keyvalue"),c.qZA(),c.qZA(),c.TgZ(20,"a",16),c._UZ(21,"mat-icon",17),c.TgZ(22,"span",18),c._uU(23,"Create New Article"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(24,"div",19),c.TgZ(25,"div",20),c.TgZ(26,"div",21),c._UZ(27,"categories-manager",22),c.TgZ(28,"div",23),c.TgZ(29,"div",24),c._uU(30,"Tags"),c.qZA(),c.TgZ(31,"div",25),c._UZ(32,"tags-manager",26),c.qZA(),c.qZA(),c.TgZ(33,"div",27),c.TgZ(34,"div",24),c._uU(35,"Article Status"),c.qZA(),c.TgZ(36,"div",25),c.TgZ(37,"mat-button-toggle-group",28),c.TgZ(38,"mat-button-toggle",29),c._uU(39,"All"),c.qZA(),c.TgZ(40,"mat-button-toggle",29),c._uU(41,"Published"),c.qZA(),c.TgZ(42,"mat-button-toggle",29),c._uU(43,"Draft"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(44,St,10,9,"div",30),c.ALo(45,"async"),c.qZA()),2&t&&(c.xp6(2),c.Q6J("routerLink","/help-center")("routerLinkActiveOptions",c.DdM(19,Gt)),c.xp6(2),c.Q6J("routerLink","/help-center/manage/categories"),c.xp6(2),c.Q6J("routerLink","/help-center/manage/articles"),c.xp6(6),c.ekj("active",e.isLayoutActive("grid")),c.xp6(2),c.ekj("active",e.isLayoutActive("list")),c.xp6(2),c.Q6J("formGroup",e.form),c.xp6(2),c.Q6J("ngForOf",c.lcZ(19,15,e.articleOrderOptions)),c.xp6(8),c.Q6J("formGroup",e.form),c.xp6(12),c.Q6J("value",null),c.xp6(2),c.Q6J("value",0),c.xp6(2),c.Q6J("value",1),c.xp6(2),c.Q6J("ngIf",c.lcZ(45,17,e.datatable.data$)))},directives:[o.yS,o.Od,s.P,mt.w,g.Hw,n.JL,n.sg,n.EJ,n.JJ,n.u,i.sg,w,W.s,wt,Ut,i.O5,n.YN,n.Kr,X.Q,Ot.V,Z.gM,It.qn,It.HS,Nt.U],pipes:[i.Nd,i.Ov,_.R],styles:["[_nghost-%COMP%]{display:block;max-height:calc(100vh - 70px);overflow:hidden;background-color:var(--be-background-alternative)}.content[_ngcontent-%COMP%]{display:flex}.article-list-filters[_ngcontent-%COMP%]{display:block;height:calc(100vh - 125px);overflow:auto;flex:0 0 302px;min-width:0;background-color:var(--be-background);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px rgba(0,0,0,.141),0 1px 5px rgba(0,0,0,.122);position:relative;z-index:1}.article-list-filters[_ngcontent-%COMP%]     .mat-button-toggle{flex:1 1 auto}.article-list-filters[_ngcontent-%COMP%]   .filters-list[_ngcontent-%COMP%]{padding:15px}.article-list-filters[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{width:100%}no-results-message[_ngcontent-%COMP%]{margin-top:50px}.articles-list-container[_ngcontent-%COMP%]{flex:1 1 auto;height:calc(100vh - 120px);overflow:auto}datatable-footer[_ngcontent-%COMP%]{border-top:1px solid var(--be-divider-default);overflow:hidden;background-color:var(--be-background)}.articles-list[_ngcontent-%COMP%]{padding:10px;min-height:calc(100% - 57px)}.articles-list-item[_ngcontent-%COMP%]{background-color:var(--be-background);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px rgba(0,0,0,.141),0 1px 5px rgba(0,0,0,.122);padding:15px;border-radius:4px;color:var(--be-secondary-text);cursor:pointer;margin-bottom:10px;transition:background-color .2s ease-in-out;position:relative}.articles-list-item[_ngcontent-%COMP%]:hover{background-color:var(--be-accent-emphasis)}.delete-article-button[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;color:var(--be-secondary-text)}.article-categories[_ngcontent-%COMP%]{font-size:1.3rem;font-style:italic;margin-bottom:15px}.article-title[_ngcontent-%COMP%]{font-weight:500;font-size:1.9rem}.article-body[_ngcontent-%COMP%]{font-size:1.4rem;word-wrap:break-word}.article-tags[_ngcontent-%COMP%]{margin-top:15px}.grid-flex-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.grid-flex-wrapper[_ngcontent-%COMP%]   .articles-list-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:calc(25% - 10px);margin:5px}@media screen and (max-width: 1280px){.grid-flex-wrapper[_ngcontent-%COMP%]   .articles-list-item[_ngcontent-%COMP%]{width:calc(33.33% - 10px)}}@media screen and (max-width: 1024px){.grid-flex-wrapper[_ngcontent-%COMP%]   .articles-list-item[_ngcontent-%COMP%]{width:calc(50% - 10px)}}@media screen and (max-width: 768px){.grid-flex-wrapper[_ngcontent-%COMP%]   .articles-list-item[_ngcontent-%COMP%]{width:100%}}.grid-flex-wrapper[_ngcontent-%COMP%]   .article-title[_ngcontent-%COMP%]{margin-bottom:10px;font-size:2rem}.grid-flex-wrapper[_ngcontent-%COMP%]   .article-body[_ngcontent-%COMP%]{font-size:1.6rem;flex:1 1 auto}.action-bar-action[_ngcontent-%COMP%]{display:flex;border-right:1px solid var(--be-divider-default);padding:0 20px;height:100%;width:auto}.action-bar-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--be-secondary-text)}.action-bar-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:26px;height:26px}.action-bar-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type{margin-right:5px}.action-bar-action[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:var(--be-accent-default)}.action-bar-action[_ngcontent-%COMP%]     select{height:100%;border:none;outline:none}"]}),t})();var Ht=a(24688),Rt=a(70837);let Et=(()=>{class t{constructor(t,e){this.settings=t,this.currentUser=e}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(ht.Z),c.Y36(Ht.I))},t.\u0275cmp=c.Xpm({type:t,selectors:[["help-center-manage"]],decls:3,vars:0,consts:[["menuPosition","agent-mailbox"],[1,"body"]],template:function(t,e){1&t&&(c._UZ(0,"material-navbar",0),c.TgZ(1,"div",1),c._UZ(2,"router-outlet"),c.qZA())},directives:[Rt.e,o.lC],styles:["help-center-manage .navbar{box-shadow:none}help-center-manage .navbar .logo{margin-right:50px}help-center-manage .body{height:calc(100vh - 70px)}help-center-manage .action-bar{background-color:var(--be-background);height:55px;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px rgba(0,0,0,.141),0 1px 5px rgba(0,0,0,.122);display:flex;justify-content:center;position:relative;z-index:2}help-center-manage .action-bar .nav{flex:1 1 auto;display:flex;align-items:center}help-center-manage .action-bar .nav .nav-item{display:inline-block;color:var(--be-secondary-text);font-size:1.6rem;margin-left:25px;border-bottom:2px solid transparent;height:100%;line-height:55px}help-center-manage .action-bar .nav .nav-item.router-link-active{border-color:var(--be-accent-default)}help-center-manage .action-bar .actions{flex:1 1 auto;display:flex;justify-content:flex-end;align-items:center;margin-right:30px}help-center-manage .action-bar .actions .input-container{flex:0 0 300px;height:100%;position:relative}help-center-manage .action-bar .actions .input-container .mat-icon{position:absolute;top:16px;left:10px;color:var(--be-secondary-text)}help-center-manage .action-bar .actions .input-container input{font-size:1.7rem;padding-left:40px;border-top:none;border-bottom:none;height:100%;border-radius:0}help-center-manage .action-bar .actions .action{width:auto}help-center-manage .action-bar .actions .new-item-button{background-color:var(--be-accent-default);color:var(--be-accent-contrast);border-radius:50px;padding:1px 20px;border:none;line-height:30px;vertical-align:middle;white-space:nowrap;margin-left:30px}help-center-manage .action-bar .actions .new-item-button .mat-icon{transition:transform .2s ease-in-out;vertical-align:middle}help-center-manage .action-bar .actions .new-item-button:hover mat-icon{transform:rotate(180deg)}help-center-manage .panel{margin-bottom:15px;background-color:var(--be-background);border:1px solid var(--be-divider-default);border-radius:3px}help-center-manage .panel .panel-header{display:flex;align-items:center;padding:0 10px;background-color:var(--be-background-alternative);border-bottom:1px solid var(--be-divider-default);min-height:41px}help-center-manage .panel .panel-header button{margin-left:auto}help-center-manage .panel .panel-body{overflow:auto;padding:10px}help-center-manage .panel .panel-body .filter-button{min-width:75px;padding:0 5px}help-center-manage .panel .panel-body .filter-button:not(:last-of-type){margin-right:4px}help-center-manage .panel .panel-body .filter-button.active{background-color:var(--be-accent-default);color:var(--be-accent-contrast)}\n"],encapsulation:2}),t})();var Bt=a(83461),zt=a(8208),jt=a(90962);function $t(t,e){1&t&&c._UZ(0,"mat-icon",16)}function Wt(t,e){1&t&&(c.TgZ(0,"span",17),c._uU(1,"No Articles"),c.qZA())}function Xt(t,e){if(1&t&&(c.TgZ(0,"span",21),c._uU(1),c.TgZ(2,"span",22),c._uU(3,"Articles"),c.qZA(),c.qZA()),2&t){const t=c.oxw(2);c.xp6(1),c.hij("",t.category.articles_count," ")}}function Kt(t,e){1&t&&(c.TgZ(0,"span",23),c._uU(1,"1 Article"),c.qZA())}function te(t,e){if(1&t&&(c.TgZ(0,"span",18),c.YNc(1,Xt,4,1,"span",19),c.YNc(2,Kt,2,0,"span",20),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",t.category.articles_count>1),c.xp6(1),c.Q6J("ngIf",1==t.category.articles_count)}}function ee(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"button",24),c.NdJ("click",function(){return c.CHM(t),c.oxw().openCreateChildCategoryModal()}),c.ALo(1,"trans"),c._UZ(2,"mat-icon",25),c.qZA()}2&t&&c.Q6J("matTooltip",c.lcZ(1,1,"Create Child Category"))}function ae(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"button",26),c.NdJ("click",function(){c.CHM(t);const e=c.oxw();return e.maybeDetachCategory(e.category.id)}),c.ALo(1,"trans"),c._UZ(2,"mat-icon",27),c.qZA()}2&t&&c.Q6J("matTooltip",c.lcZ(1,1,"Detach Category"))}let ie=(()=>{class t{constructor(t,e,a,i){this.modal=t,this.api=e,this.router=a,this.storage=i,this.onChange=new c.vpe}openCreateChildCategoryModal(){this.modal.show(R,{parentId:this.category.id}).afterClosed().subscribe(()=>this.onChange.emit())}openUpdateCategoryModal(t){this.modal.show(R,{category:t}).afterClosed().subscribe(()=>this.onChange.emit())}maybeDeleteCategory(t){this.modal.show(zt.z,{title:"Delete Category",body:"Are you sure you want to delete this category?",bodyBold:"Children of this category will not be deleted.",ok:"Delete"}).afterClosed().subscribe(e=>{!e||this.api.deleteCategory(t).subscribe(()=>this.onChange.emit())})}maybeDetachCategory(t){this.modal.show(zt.z,{title:"Detach Category",body:"Are you sure you want to detach this category from its parent?",ok:"Detach"}).afterClosed().subscribe(e=>{!e||this.api.createOrUpdateCategory({id:t,parent_id:null}).subscribe(()=>this.onChange.emit())})}navigateToArticlesList(t){const e=[t.id];t.parent_id&&e.push(t.parent_id),this.storage.set("selectedCategories",e),this.router.navigate(["/help-center/manage/articles"])}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(z.u),c.Y36(v.G),c.Y36(o.F0),c.Y36(jt.m))},t.\u0275cmp=c.Xpm({type:t,selectors:[["category-list-item"]],inputs:{category:"category"},outputs:{onChange:"onChange"},decls:19,vars:12,consts:[[1,"category-name-container"],["cdkDragHandle","",1,"no-style","drag-handle"],["svgIcon","drag-handle"],[1,"category-name",3,"click"],["svgIcon","visibility-off","class","hidden-icon","color","warn",4,"ngIf"],[1,"info"],[1,"articles-count"],["class","no-articles","trans","",4,"ngIf"],["class","has-articles",4,"ngIf"],[1,"actions"],["mat-icon-button","",1,"update-category-button",3,"matTooltip","click"],["svgIcon","settings",1,"size-20"],["mat-icon-button","","class","new-child-category-button",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","class","detach-category-button",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","",1,"delete-category-button",3,"matTooltip","click"],["svgIcon","delete-forever",1,"size-20"],["svgIcon","visibility-off","color","warn",1,"hidden-icon"],["trans","",1,"no-articles"],[1,"has-articles"],["class","plural",4,"ngIf"],["class","singular","trans","",4,"ngIf"],[1,"plural"],["trans",""],["trans","",1,"singular"],["mat-icon-button","",1,"new-child-category-button",3,"matTooltip","click"],["svgIcon","create-new-folder",1,"size-20"],["mat-icon-button","",1,"detach-category-button",3,"matTooltip","click"],["svgIcon","delete",1,"size-20"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"button",1),c._UZ(2,"mat-icon",2),c.qZA(),c.TgZ(3,"span",3),c.NdJ("click",function(){return e.navigateToArticlesList(e.category)}),c._uU(4),c.qZA(),c.YNc(5,$t,1,0,"mat-icon",4),c.qZA(),c.TgZ(6,"div",5),c.TgZ(7,"div",6),c.YNc(8,Wt,2,0,"span",7),c.YNc(9,te,3,2,"span",8),c.qZA(),c.qZA(),c.TgZ(10,"div",9),c.TgZ(11,"button",10),c.NdJ("click",function(){return e.openUpdateCategoryModal(e.category)}),c.ALo(12,"trans"),c._UZ(13,"mat-icon",11),c.qZA(),c.YNc(14,ee,3,3,"button",12),c.YNc(15,ae,3,3,"button",13),c.TgZ(16,"button",14),c.NdJ("click",function(){return e.maybeDeleteCategory(e.category.id)}),c.ALo(17,"trans"),c._UZ(18,"mat-icon",15),c.qZA(),c.qZA()),2&t&&(c.xp6(4),c.Oqu(e.category.name),c.xp6(1),c.Q6J("ngIf",e.category.hidden),c.xp6(3),c.Q6J("ngIf",!e.category.articles_count),c.xp6(1),c.Q6J("ngIf",e.category.articles_count),c.xp6(2),c.Q6J("matTooltip",c.lcZ(12,8,"Update Category")),c.xp6(3),c.Q6J("ngIf",!e.category.parent_id),c.xp6(1),c.Q6J("ngIf",e.category.parent_id),c.xp6(1),c.Q6J("matTooltip",c.lcZ(17,10,"Delete Category")))},directives:[Bt.Bh,g.Hw,i.O5,l.lW,Z.gM,s.P],pipes:[_.R],styles:["category-list-item{display:flex;vertical-align:middle;justify-content:center}category-list-item .category-name-container{flex:1 1 auto;display:flex;justify-content:flex-start;align-items:center}category-list-item .category-name-container .drag-handle,category-list-item .category-name-container .category-name{vertical-align:middle}category-list-item .category-name-container .category-name:hover{text-decoration:underline;cursor:pointer}category-list-item .drag-handle{color:var(--be-secondary-text);margin-right:8px;cursor:move}category-list-item .info{flex:0 0 150px;display:flex;align-items:center;color:var(--be-secondary-text)}category-list-item .actions{flex:0 0 150px;text-align:right}category-list-item .actions button{color:var(--be-secondary-text)}category-list-item .hidden-icon{margin-left:5px;vertical-align:middle}\n"],encapsulation:2,changeDetection:0}),t})();function ne(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"category-list-item",22),c.NdJ("onChange",function(){return c.CHM(t),c.oxw(3).updateCategories()}),c.qZA()}if(2&t){const t=e.$implicit;c.Q6J("cdkDragData",t)("category",t),c.uIk("data-id",t.id)}}function oe(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",20),c.NdJ("cdkDropListDropped",function(e){c.CHM(t);const a=c.oxw().$implicit;return c.oxw().reorderCategories(e,a)}),c.YNc(1,ne,1,3,"category-list-item",21),c.qZA()}if(2&t){const t=c.oxw().$implicit,e=c.oxw();c.ekj("hidden",!e.categoryChildrenVisible),c.Q6J("cdkDropListDisabled",e.shouldDisableReorder()),c.xp6(1),c.Q6J("ngForOf",t.children)}}function re(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",17),c.TgZ(1,"category-list-item",18),c.NdJ("onChange",function(){return c.CHM(t),c.oxw().updateCategories()}),c.qZA(),c.YNc(2,oe,2,4,"div",19),c.qZA()}if(2&t){const t=e.$implicit;c.xp6(1),c.Q6J("cdkDragData",t)("category",t),c.uIk("data-id",t.id),c.xp6(1),c.Q6J("ngIf",t.children.length)}}const ce=function(){return{exact:!0}};let se=(()=>{class t{constructor(t,e){this.api=t,this.modal=e,this.searchQuery=new n.NI,this.allCategories=[],this.filteredCategories=[],this.categoryChildrenVisible=!0}ngOnInit(){this.updateCategories(),this.bindSearchQuery()}showNewCategoryModal(){this.modal.show(R).afterClosed().subscribe(t=>{!t||this.updateCategories()})}updateCategories(){this.api.getCategories().subscribe(t=>{this.filteredCategories=t.pagination.data,this.allCategories=t.pagination.data,this.filterCategories(this.searchQuery.value)})}bindSearchQuery(){this.searchQuery.valueChanges.pipe((0,f.b)(400),(0,x.x)()).subscribe(t=>this.filterCategories(t))}filterCategories(t){this.filteredCategories=(new p).filter(t,this.allCategories)}reorderCategories(t,e){const a=e?e.children:this.filteredCategories;(0,Bt.bA)(a,t.previousIndex,t.currentIndex);const i=a.map(t=>t.id);this.api.reorderCategories(i,e?e.id:null).subscribe()}toggleCategoryChildren(){this.categoryChildrenVisible=!this.categoryChildrenVisible}shouldDisableReorder(){return this.searchQuery.value}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(v.G),c.Y36(z.u))},t.\u0275cmp=c.Xpm({type:t,selectors:[["categories-list"]],decls:23,vars:13,consts:[[1,"action-bar"],[1,"nav"],["routerLinkActive","router-link-active","trans","",1,"nav-item",3,"routerLink","routerLinkActiveOptions"],["routerLinkActive","router-link-active","trans","",1,"nav-item",3,"routerLink"],[1,"actions"],[1,"action"],["mat-icon-button","",1,"toggle-children-btn",3,"matTooltip","click"],["svgIcon","unfold-more"],[1,"search-bar","input-container"],["type","text","placeholder","Search","trans-placeholder","",1,"categories-search-input",3,"formControl"],["svgIcon","search"],[1,"new-category-button","new-item-button",3,"click"],["svgIcon","add"],["trans",""],[1,"container"],["cdkDropList","",1,"categories-list",3,"cdkDropListDisabled","cdkDropListDropped"],["class","category-container",4,"ngFor","ngForOf"],[1,"category-container"],["cdkDrag","",1,"category-list-item","parent-category",3,"cdkDragData","category","onChange"],["class","category-children","cdkDropList","",3,"hidden","cdkDropListDisabled","cdkDropListDropped",4,"ngIf"],["cdkDropList","",1,"category-children",3,"cdkDropListDisabled","cdkDropListDropped"],["cdkDrag","","class","category-list-item child-category",3,"cdkDragData","category","onChange",4,"ngFor","ngForOf"],["cdkDrag","",1,"category-list-item","child-category",3,"cdkDragData","category","onChange"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"a",2),c._uU(3,"Home"),c.qZA(),c.TgZ(4,"a",3),c._uU(5,"Categories"),c.qZA(),c.TgZ(6,"a",3),c._uU(7,"Articles"),c.qZA(),c.qZA(),c.TgZ(8,"div",4),c.TgZ(9,"div",5),c.TgZ(10,"button",6),c.NdJ("click",function(){return e.toggleCategoryChildren()}),c.ALo(11,"trans"),c._UZ(12,"mat-icon",7),c.qZA(),c.qZA(),c.TgZ(13,"div",8),c._UZ(14,"input",9),c._UZ(15,"mat-icon",10),c.qZA(),c.TgZ(16,"button",11),c.NdJ("click",function(){return e.showNewCategoryModal()}),c._UZ(17,"mat-icon",12),c.TgZ(18,"span",13),c._uU(19,"New Category"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(20,"div",14),c.TgZ(21,"section",15),c.NdJ("cdkDropListDropped",function(t){return e.reorderCategories(t)}),c.YNc(22,re,3,4,"div",16),c.qZA(),c.qZA()),2&t&&(c.xp6(2),c.Q6J("routerLink","/help-center")("routerLinkActiveOptions",c.DdM(12,ce)),c.xp6(2),c.Q6J("routerLink","/help-center/manage/categories"),c.xp6(2),c.Q6J("routerLink","/help-center/manage/articles"),c.xp6(4),c.ekj("active",e.categoryChildrenVisible),c.Q6J("matTooltip",c.lcZ(11,10,"Toggle child categories")),c.xp6(4),c.Q6J("formControl",e.searchQuery),c.xp6(7),c.Q6J("cdkDropListDisabled",e.shouldDisableReorder()),c.xp6(1),c.Q6J("ngForOf",e.filteredCategories))},directives:[o.yS,o.Od,s.P,l.lW,Z.gM,g.Hw,n.Fj,n.JJ,n.oH,Bt.Wj,i.sg,ie,Bt.Zt,i.O5],pipes:[_.R],styles:["categories-list{display:block;background-color:var(--be-background-alternative)}categories-list .container{min-height:calc(100vh - 125px);margin:0 auto;padding-top:35px}categories-list category-list-item{background-color:var(--be-background);padding:15px;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px rgba(0,0,0,.141),0 1px 3px rgba(0,0,0,.122);font-size:1.6rem;margin-bottom:10px;transition:background-color .2s ease-in-out;border-radius:4px}categories-list category-list-item:hover{background-color:var(--be-accent-emphasis)}categories-list .category-children{margin-left:20px}categories-list .toggle-children-btn{color:var(--be-secondary-text);margin-right:10px}categories-list .toggle-children-btn.active{color:var(--be-accent-default)}categories-list .cdk-drop-list-disabled .drag-handle{color:rgba(0,0,0,.259);cursor:not-allowed}categories-list .cdk-drag-placeholder{opacity:0}categories-list .cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}categories-list .cdk-drop-list-dragging .cdk-drag:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}\n"],encapsulation:2}),t})();var le=a(42690);const ge=o.Bz.forChild([{path:"",component:Et,canActivate:[le.a],children:[{path:"",redirectTo:"articles"},{path:"articles",component:Vt,data:{permissions:["tags.view","articles.view","articles.create"]}},{path:"categories",component:se,data:{permissions:["articles.view","articles.create"]}},{path:"articles/new",component:ot,data:{permissions:["articles.create"]}},{path:"articles/:article_id/edit",component:ot,resolve:{article:dt},data:{permissions:["articles.update"]}}]}]);var de=a(12245),ue=a(5259),pe=a(18295),he=a(49866),me=a(95217),be=a(43389),fe=a(16450),xe=a(13202),ve=a(66705),Ze=a(58193),ye=a(31330);let _e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[i.ez,n.u5,n.UX,o.Bz,ue.y,de.b,pe.l,he.N,me.u,be.p,fe.m,xe.R,ye.X,ve.z,ge,Ze.x,r.Is,Q.rP,Bt._t,l.ot,g.Ps,Z.AV,y.p9,Mt,It.Hi]]}),t})()}}]);