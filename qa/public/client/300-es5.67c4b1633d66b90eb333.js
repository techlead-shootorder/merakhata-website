!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(s){c=!0,r=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw r}}return o}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=s(e);if(t){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkbedesk=self.webpackChunkbedesk||[]).push([[300],{95439:function(e){e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,o;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=i;0!=r--;){var a=o[r];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},6008:function(e,t,n){n.d(t,{b:function(){return s}});var i,r=n(38583),o=n(76627),a=n(51095),c=n(37716),s=((i=function e(){f(this,e)}).\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[r.ez,o.Ps,a.ot]]}),i)},83326:function(e,t,n){n.d(t,{B:function(){return r}});var i=n(17238),r=[(0,i.X$)("fadeIn",[(0,i.eR)(":enter",[(0,i.oB)({opacity:0}),(0,i.jt)("325ms ease-in",(0,i.oB)({opacity:1}))])]),(0,i.X$)("fadeOut",[(0,i.eR)(":leave",[(0,i.oB)({opacity:1,position:"absolute",left:"0",right:"0"}),(0,i.jt)("325ms ease-out",(0,i.oB)({opacity:0}))])])]},64833:function(e,t,n){n.d(t,{_:function(){return a}});var i,r=n(37716),o=n(18849),a=((i=function(){function e(t){f(this,e),this.theme=t,this.animation="wave",this.variant="text",this.dark=this.theme.isDarkMode()}return l(e,[{key:"pulsate",get:function(){return"pulsate"===this.animation}},{key:"wave",get:function(){return"wave"===this.animation}},{key:"avatar",get:function(){return"avatar"===this.variant}},{key:"text",get:function(){return"text"===this.variant}},{key:"rect",get:function(){return"rect"===this.variant}},{key:"icon",get:function(){return"icon"===this.variant}}]),e}()).\u0275fac=function(e){return new(e||i)(r.Y36(o.f))},i.\u0275cmp=r.Xpm({type:i,selectors:[["skeleton"]],hostAttrs:["aria-busy","true","aria-valuemin","0","aria-valuemax","100","aria-valuetext","Loading...","role","progressbar"],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("dark",t.dark)("pulsate",t.pulsate)("wave",t.wave)("avatar",t.avatar)("text",t.text)("rect",t.rect)("icon",t.icon)},inputs:{animation:"animation",variant:"variant"},decls:0,vars:0,template:function(e,t){},styles:['@charset "UTF-8";[_nghost-%COMP%]{display:inline-block;overflow:hidden;position:relative;background-color:var(--be-divider-lighter);background-repeat:no-repeat;border-radius:4px;width:100%;height:100%;will-change:transform}.wave[_nghost-%COMP%]{-webkit-animation:wave 2s ease-in-out infinite;animation:wave 2s ease-in-out infinite;background-size:200px 100%;background-image:linear-gradient(90deg,rgba(255,255,255,0),rgba(255,255,255,.6),rgba(255,255,255,0))}.wave.dark[_nghost-%COMP%]{background-image:linear-gradient(90deg,transparent,rgba(0,0,0,.2),transparent)}.pulsate[_nghost-%COMP%]{-webkit-animation:pulse 1.5s ease-in-out infinite;animation:pulse 1.5s ease-in-out infinite;-webkit-animation-delay:.5s;animation-delay:.5s}.avatar[_nghost-%COMP%]{width:40px;height:40px;margin-right:10px;border-radius:4px;flex-shrink:0}.circle[_nghost-%COMP%]{border-radius:50%}.icon[_nghost-%COMP%]{width:24px;height:24px;margin-left:8px;margin-right:8px}.text[_nghost-%COMP%]{height:1.4rem;vertical-align:middle}.text[_nghost-%COMP%]:before{content:"\\a0"}@-webkit-keyframes wave{0%{background-position:-200px 0}to{background-position:calc(200px + 100%) 0}}@keyframes wave{0%{background-position:-200px 0}to{background-position:calc(200px + 100%) 0}}@-webkit-keyframes pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}@keyframes pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}'],changeDetection:0}),i)},87446:function(e,t,n){n.d(t,{m:function(){return a}});var i,r=n(38583),o=n(37716),a=((i=function e(){f(this,e)}).\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[r.ez]]}),i)},83644:function(e,t,n){n.d(t,{XQ:function(){return r},Bq:function(){return o},pg:function(){return a},Hi:function(){return c}});var i,r=function e(t){f(this,e),this.defaultValue=void 0!==t.defaultValue?t.defaultValue:"",this.key=t.key||"",this.label=t.label||t.key||"",this.description=t.description||"",this.defaultOperator=t.defaultOperator||a.eq,this.required=!!t.required,this.order=void 0===t.order?1:t.order,this.type=t.type||o.Select,this.inputType=t.inputType,this.options=t.options||[],this.operators=t.operators,this.component=t.component,this.componentData=t.componentData},o=((i=o||(o={})).Select="select",i.DatePicker="datePicker",i.SelectModel="selectModel",i.Input="input",i.StaticValue="staticValue",o),a=function(){return(e=a||(a={})).eq="=",e.ne="!=",e.gt=">",e.gte=">=",e.lt="<",e.lte="<=",e.has="has",e.doesntHave="doesntHave",a;var e}(),c=[a.eq,a.ne,a.gt,a.gte,a.lt,a.lte]},45418:function(e,t,n){n.d(t,{k4:function(){return o},T7:function(){return c},yH:function(){return s}});var i=n(83644),o=function(e){r(n,e);var t=a(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).type=i.Bq.DatePicker,e.operators=i.Hi,e.defaultOperator=i.pg.lte,e.defaultValue=(new Date).toISOString().split("T")[0],e}return n}(i.XQ),c=function(e){r(n,e);var t=a(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).key="created_at",e.label="Created At",e}return n}(o),s=function(e){r(n,e);var t=a(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).key="updated_at",e.label="Updated At",e}return n}(o)},26996:function(e,n,i){i.d(n,{k:function(){return re}});var r=i(37716),o=i(39761),a=i(88002),c=i(87519),s=i(45435),u=i(26215),d=i(90739),p=i(66682),h=i(22759),g=i(15515),v=i(38583),m=i(76627),y=["filterSuggestion"];function b(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",8,9),r.NdJ("click",function(){var e=r.CHM(n).$implicit;return r.oxw().filterSelected.emit(e.value)}),r.TgZ(2,"div",10),r._uU(3),r.qZA(),r.TgZ(4,"div",2),r._uU(5),r.qZA(),r.qZA()}if(2&e){var i=t.$implicit,o=t.index;r.uIk("data-filter-key",i.key)("data-index",o),r.xp6(3),r.Oqu(i.value.label),r.xp6(2),r.Oqu(i.value.description)}}var k,x=((k=function(){function e(){f(this,e),this.filterSelected=new r.vpe,this.originalOrder=function(){return 0}}return l(e,[{key:"anyFocused",value:function(){return document.activeElement.classList.contains("filter-suggestion-item")}},{key:"focusItemAt",value:function(e){this.items.get(e).nativeElement.focus()}},{key:"getFocusedFilter",value:function(){if(this.anyFocused()){var e=document.activeElement.dataset.filterKey;return this.filters[e]}}},{key:"getFocusedIndex",value:function(){if(this.anyFocused()){var e=document.activeElement;return parseInt(e.dataset.index)}}}]),e}()).\u0275fac=function(e){return new(e||k)},k.\u0275cmp=r.Xpm({type:k,selectors:[["filter-suggestions"]],viewQuery:function(e,t){var n;1&e&&r.Gf(y,5),2&e&&r.iGM(n=r.CRH())&&(t.items=n)},inputs:{filters:"filters"},outputs:{filterSelected:"filterSelected"},decls:13,vars:4,consts:[[1,"table"],[1,"filter-suggestion-header","row"],["trans","",1,"column"],["role","list",1,"body"],["role","listitem","class","row filter-suggestion-item","tabindex","0",3,"click",4,"ngFor","ngForOf"],[1,"help-container"],["svgIcon","info"],["trans",""],["role","listitem","tabindex","0",1,"row","filter-suggestion-item",3,"click"],["filterSuggestion",""],["trans","",1,"column","label-column"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r._uU(3,"Field"),r.qZA(),r.TgZ(4,"div",2),r._uU(5,"Description"),r.qZA(),r.qZA(),r.TgZ(6,"div",3),r.YNc(7,b,6,4,"div",4),r.ALo(8,"keyvalue"),r.qZA(),r.qZA(),r.TgZ(9,"div",5),r._UZ(10,"mat-icon",6),r.TgZ(11,"div",7),r._uU(12," Use arrows, tab or mouse to navigate added filters. Backspace or delete key to remove them. "),r.qZA(),r.qZA()),2&e&&(r.xp6(7),r.Q6J("ngForOf",r.xi3(8,1,t.filters,t.originalOrder)))},directives:[g.P,v.sg,m.Hw],pipes:[v.Nd],styles:["[_nghost-%COMP%]{display:none;position:absolute;left:0;z-index:10;background-color:var(--be-background);width:100%;border-radius:4px;overflow:hidden;color:var(--be-text);box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px rgba(0,0,0,.141),0 1px 14px rgba(0,0,0,.122)}.visible[_nghost-%COMP%]{display:block}.filter-suggestion-header[_ngcontent-%COMP%]{background-color:var(--be-background-alternative)}.row[_ngcontent-%COMP%]{display:flex;height:55px;padding:15px;border-bottom:1px solid var(--be-divider-lighter)}.row[_ngcontent-%COMP%]:not(.header){cursor:pointer}.row[_ngcontent-%COMP%]:not(.header):hover{background-color:var(--be-hover)}.row[_ngcontent-%COMP%]:not(.header):focus{background-color:var(--be-hover);outline:none}.column[_ngcontent-%COMP%]{flex:0 0 48%}.label-column[_ngcontent-%COMP%]{text-transform:capitalize}.help-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px;background-color:var(--be-accent-emphasis)}.help-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:10px;color:var(--be-accent-default)}"],changeDetection:0}),k),w=i(58480),C=i(95439),O=i(3679),I=i(15381);function F(e,t){if(1&e&&(r.ynx(0),r._UZ(1,"img",2),r.TgZ(2,"div",3),r._uU(3),r.qZA(),r.BQk()),2&e){var n=t.ngIf;r.xp6(1),r.Q6J("src",n.image,r.LSH),r.xp6(2),r.Oqu(n.name)}}function A(e,t){1&e&&(r.TgZ(0,"div",4),r._uU(1,"Click to select"),r.qZA())}var _=function(){var e=function(){function e(t){f(this,e),this.dialog=t,this.value$=new u.X(null)}return l(e,[{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"registerOnTouched",value:function(e){}},{key:"writeValue",value:function(e){this.value$.next(e)}},{key:"onClick",value:function(){this.openSelectModelDialog()}},{key:"openSelectModelDialog",value:function(){var e=this;this.dialog.open(this.filter.component,this.filter.componentData).afterClosed().subscribe(function(t){t&&(e.value$.next(t),e.propagateChange(t))})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(I.u))},e.\u0275cmp=r.Xpm({type:e,selectors:[["select-model-control"]],hostBindings:function(e,t){1&e&&r.NdJ("click",function(){return t.onClick()})},inputs:{filter:"filter"},features:[r._Bn([{provide:O.JU,useExisting:e,multi:!0}])],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["defaultHint",""],[1,"image",3,"src"],[1,"name"],["trans",""]],template:function(e,t){if(1&e&&(r.YNc(0,F,4,2,"ng-container",0),r.ALo(1,"async"),r.YNc(2,A,2,0,"ng-template",null,1,r.W1O)),2&e){var n=r.MAs(3);r.Q6J("ngIf",r.lcZ(1,2,t.value$))("ngIfElse",n)}},directives:[v.O5,g.P],pipes:[v.Ov],styles:["[_nghost-%COMP%]{display:flex;align-items:center;padding:0 8px;cursor:pointer}img[_ngcontent-%COMP%]{height:22px;width:22px;border-radius:4px;margin-right:8px;flex-shrink:0;-o-object-fit:cover;object-fit:cover}"],changeDetection:0}),e}(),S={"=":"is","!=":"is not",">":"is greater than",">=":"is greater than or equal to","<":"is less than","<=":"is less than or equal to",has:"Include",doesntHave:"Do not include"},M=i(96605),E=function(){var e=function(){function e(t){f(this,e),this.breakpoints=t}return l(e,[{key:"transform",value:function(e,t){return t||this.breakpoints.isMobile$.value?e:S[e]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(M.S,16))},e.\u0275pipe=r.Yjl({name:"operatorDisplayName",type:e,pure:!0}),e}(),P=["select"];function R(e,t){if(1&e&&(r.TgZ(0,"option",4),r._uU(1),r.ALo(2,"operatorDisplayName"),r.qZA()),2&e){var n=t.$implicit,i=r.oxw();r.Q6J("value",n),r.xp6(1),r.hij(" ",r.xi3(2,2,n,i.compact)," ")}}var Z=function(){var e=function(){function e(){f(this,e)}return l(e,[{key:"ngAfterViewInit",value:function(){this.resizeSelect()}},{key:"resizeSelect",value:function(){var e,t=null===(e=this.select)||void 0===e?void 0:e.nativeElement;t&&t.selectedIndex>-1&&(t.style.width="".concat(t.options[t.selectedIndex].label.length+5,"ch"))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["operator-select"]],viewQuery:function(e,t){var n;(1&e&&r.Gf(P,5),2&e)&&(r.iGM(n=r.CRH())&&(t.select=n.first))},inputs:{compact:"compact",formGroup:"formGroup",operators:"operators"},decls:4,vars:2,consts:[[3,"formGroup"],["formControlName","operator",1,"operator-select",3,"ngModelChange"],["select",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(r.ynx(0,0),r.TgZ(1,"select",1,2),r.NdJ("ngModelChange",function(){return t.resizeSelect()}),r.YNc(3,R,3,5,"option",3),r.qZA(),r.BQk()),2&e&&(r.Q6J("formGroup",t.formGroup),r.xp6(3),r.Q6J("ngForOf",t.operators))},directives:[O.JL,O.sg,O.EJ,O.JJ,O.u,v.sg,O.YN,O.Kr],pipes:[E],styles:['[_nghost-%COMP%]{display:flex;align-items:center;position:relative;height:100%}[_nghost-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;width:50%;left:0;background-color:var(--be-chip)}[_nghost-%COMP%]:after{content:"";position:absolute;top:0;bottom:0;width:50%;right:0;background-color:var(--be-accent-default)}.operator-select[_ngcontent-%COMP%]{transition:width .1s ease-in-out 0s;padding:2px 8px;min-width:60px;max-width:200px;height:27px;color:var(--be-accent-default);z-index:10;background-color:var(--be-accent-contrast);text-overflow:ellipsis;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:10px;-moz-text-align-last:center;text-align-last:center;border:1px solid transparent}.operator-select[_ngcontent-%COMP%]:focus-visible{outline:0;border-color:var(--be-accent-default);box-shadow:0 0 0 1px #fff}'],changeDetection:0}),e}(),T=["valueInput"];function J(e,t){if(1&e&&r._UZ(0,"operator-select",8),2&e){var n=r.oxw().ngIf,i=r.oxw();r.Q6J("compact",i.compact)("formGroup",n)("operators",i.filter.operators)}}function D(e,t){if(1&e&&(r.TgZ(0,"option",16),r._uU(1),r.qZA()),2&e){var n=t.$implicit;r.Q6J("ngValue",n.value),r.xp6(1),r.hij(" ",n.key||n.value," ")}}function N(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",9),r.TgZ(1,"select",10,11),r.NdJ("ngModelChange",function(){return r.CHM(n),r.oxw(2).resizeInput()}),r.YNc(3,D,2,2,"option",12),r.qZA(),r.O4$(),r.TgZ(4,"svg",13),r._UZ(5,"path",14),r._UZ(6,"path",15),r.qZA(),r.qZA()}if(2&e){var i=r.oxw(2);r.xp6(1),r.Q6J("id",i.key)("compareWith",i.compareFilterValueFn),r.xp6(2),r.Q6J("ngForOf",i.filter.options)}}function q(e,t){if(1&e&&(r.TgZ(0,"div",17),r._UZ(1,"input",18,11),r.qZA()),2&e){var n=r.oxw(2);r.xp6(1),r.Q6J("id",n.key)}}function Q(e,t){if(1&e&&r._UZ(0,"select-model-control",19,11),2&e){var n=r.oxw(2);r.Q6J("filter",n.filter)("id",n.key)}}function B(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",9),r.TgZ(1,"input",20,11),r.NdJ("ngModelChange",function(){return r.CHM(n),r.oxw(2).resizeInput()}),r.qZA(),r.qZA()}if(2&e){var i=r.oxw(2);r.xp6(1),r.Q6J("id",i.key)("type",i.filter.inputType||"text")}}function $(e,t){if(1&e){var n=r.EpF();r.ynx(0,1),r.TgZ(1,"div",2),r.NdJ("click",function(){return r.CHM(n),r.oxw().el.nativeElement.focus()}),r._uU(2),r.qZA(),r.YNc(3,J,1,3,"operator-select",3),r.ynx(4,4),r.YNc(5,N,7,3,"div",5),r.YNc(6,q,3,1,"div",6),r.YNc(7,Q,2,2,"select-model-control",7),r.YNc(8,B,3,2,"div",5),r.BQk(),r.BQk()}if(2&e){var i=t.ngIf,o=r.oxw();r.Q6J("formGroup",i),r.xp6(2),r.Oqu(o.filter.label),r.xp6(1),r.Q6J("ngIf",o.filter.operators),r.xp6(1),r.Q6J("ngSwitch",o.filter.type),r.xp6(1),r.Q6J("ngSwitchCase","select"),r.xp6(1),r.Q6J("ngSwitchCase","datePicker"),r.xp6(1),r.Q6J("ngSwitchCase","selectModel"),r.xp6(1),r.Q6J("ngSwitchCase","input")}}var j=function(){var e=function(){function e(t){f(this,e),this.el=t,this.compareFilterValueFn=function(e,t){return C(e,t)}}return l(e,[{key:"ngAfterViewInit",value:function(){this.resizeInput()}},{key:"focus",value:function(){this.el.nativeElement.focus()}},{key:"focusValueInput",value:function(){var e;this.valueInput instanceof _?this.valueInput.openSelectModelDialog():(null===(e=this.valueInput)||void 0===e?void 0:e.nativeElement)&&this.valueInput.nativeElement.focus()}},{key:"resizeInput",value:function(){var e,t=null===(e=this.valueInput)||void 0===e?void 0:e.nativeElement;if("SELECT"===(null==t?void 0:t.nodeName)){var n=t;n.selectedIndex>-1&&(n.style.width="".concat(n.options[n.selectedIndex].label.length+5,"ch"))}else"INPUT"===(null==t?void 0:t.nodeName)&&"date"!==t.type&&(t.style.width="".concat(t.value.length+7,"ch"))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq))},e.\u0275cmp=r.Xpm({type:e,selectors:[["active-filter"]],viewQuery:function(e,t){var n;(1&e&&r.Gf(T,5),2&e)&&(r.iGM(n=r.CRH())&&(t.valueInput=n.first))},hostAttrs:["tabIndex","0","role","button"],hostVars:1,hostBindings:function(e,t){2&e&&r.uIk("data-control-key",t.key)},inputs:{key:"key",compact:"compact",form:"form",filter:"filter"},decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],["trans","",1,"filter-label",3,"click"],[3,"compact","formGroup","operators",4,"ngIf"],[3,"ngSwitch"],["class","filter-input-container",4,"ngSwitchCase"],["class","date-picker-container",4,"ngSwitchCase"],["formControlName","value","class","filter-value select-model-input",3,"filter","id",4,"ngSwitchCase"],[3,"compact","formGroup","operators"],[1,"filter-input-container"],["formControlName","value",1,"filter-input","filter-value",3,"id","compareWith","ngModelChange"],["valueInput",""],["trans","",3,"ngValue",4,"ngFor","ngForOf"],["viewBox","0 0 24 24",1,"caret-svg"],["d","M7 10l5 5 5-5z"],["d","M0 0h24v24H0z","fill","none"],["trans","",3,"ngValue"],[1,"date-picker-container"],["type","date","formControlName","value",1,"date-input","filter-value",3,"id"],["formControlName","value",1,"filter-value","select-model-input",3,"filter","id"],["formControlName","value","min","1","required","",1,"filter-input","filter-value",3,"id","type","ngModelChange"]],template:function(e,t){1&e&&r.YNc(0,$,9,8,"ng-container",0),2&e&&r.Q6J("ngIf",t.form.controls[t.key])},directives:[v.O5,O.JL,O.sg,g.P,v.RF,v.n9,Z,O.EJ,O.JJ,O.u,v.sg,O.YN,O.Kr,O.Fj,_,O.Q7],styles:["[_nghost-%COMP%]{display:inline-flex;align-items:flex-start;border-radius:4px;height:37px;background-color:var(--be-chip);margin:3px 5px 3px 0}[_nghost-%COMP%]:focus{outline:none;box-shadow:var(--be-accent-default) 0 0 0 1px}.filter-label[_ngcontent-%COMP%]{color:var(--be-text);line-height:37px;cursor:pointer;padding:0 12px;text-transform:capitalize;white-space:nowrap;font-weight:500;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.filter-input-container[_ngcontent-%COMP%]{position:relative;height:100%;overflow:hidden;border-radius:0 4px 4px 0}.caret-svg[_ngcontent-%COMP%]{position:absolute;top:9.5px;right:5px;z-index:11;fill:var(--be-accent-contrast);width:18px;height:18px;pointer-events:none}.filter-input[_ngcontent-%COMP%]{border:0;transition:width .1s ease-in-out 0s;padding:0 12px;min-width:60px;max-width:200px;z-index:10;text-overflow:ellipsis;-webkit-appearance:none;-moz-appearance:none;appearance:none;height:100%;font-weight:500}select.filter-select[_ngcontent-%COMP%]{padding:0 25px 0 12px}.date-input[_ngcontent-%COMP%]{position:relative;max-width:30ch;line-height:37px;height:37px;font-size:inherit;border:none;margin:0;padding:0 12px;width:20ch;font-weight:500}.select-model-input[_ngcontent-%COMP%]{min-width:76px;height:100%}.filter-value[_ngcontent-%COMP%]{background-color:var(--be-accent-default);color:var(--be-accent-contrast);border-radius:0 4px 4px 0}"],changeDetection:0}),e}();function Y(e,t){if(1&e&&r._UZ(0,"active-filter",2),2&e){var n=t.ngIf,i=r.oxw(),o=i.$implicit,a=i.index,c=r.oxw();r.Q6J("compact",c.compact)("key",o.key)("form",c.form)("filter",n),r.uIk("data-index",a)}}function U(e,t){if(1&e&&(r.ynx(0),r.YNc(1,Y,1,5,"active-filter",1),r.BQk()),2&e){var n=t.$implicit,i=r.oxw();r.xp6(1),r.Q6J("ngIf",i.config[n.value.value.key])}}var V=["*"],H=function(){var e=function(){function e(t,n,i){f(this,e),this.fb=t,this.cd=n,this.el=i}return l(e,[{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0!==t.value?t.value:e.defaultValue,i=this.fb.group({key:e.key,value:n,operator:t.operator||e.defaultOperator}),r=Object.keys(this.form.controls).length+(0,w.O)(8);this.form.addControl(r,i,{emitEvent:""!==n}),this.cd.detectChanges(),t.focus&&this.filters.last.focusValueInput()}},{key:"removeByKey",value:function(e){this.form.removeControl(e),this.cd.markForCheck()}},{key:"removeCurrentlyFocused",value:function(){var e=document.activeElement;this.removeByKey(e.dataset.controlKey)}},{key:"anyFocused",value:function(){return"ACTIVE-FILTER"===document.activeElement.nodeName}},{key:"focusLast",value:function(){this.filters.last&&this.filters.last.focus()}},{key:"focusPrevious",value:function(){var e=this.getFocusedIndex(),t=this.filters.get(e-1);t&&t.focus()}},{key:"getByIndex",value:function(e){return this.filters.get(e)}},{key:"lastIsFocused",value:function(){return this.getFocusedIndex()===this.filters.length-1}},{key:"getFocusedIndex",value:function(){var e=document.activeElement.dataset.index;return e?parseInt(e):null}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(O.qu),r.Y36(r.sBO),r.Y36(r.SBq))},e.\u0275cmp=r.Xpm({type:e,selectors:[["active-filters"]],viewQuery:function(e,t){var n;(1&e&&r.Gf(j,5),2&e)&&(r.iGM(n=r.CRH())&&(t.filters=n))},inputs:{compact:"compact",form:"form",config:"config"},ngContentSelectors:V,decls:3,vars:3,consts:[[4,"ngFor","ngForOf"],[3,"compact","key","form","filter",4,"ngIf"],[3,"compact","key","form","filter"]],template:function(e,t){1&e&&(r.F$t(),r.YNc(0,U,2,1,"ng-container",0),r.ALo(1,"keyvalue"),r.Hsn(2)),2&e&&r.Q6J("ngForOf",r.lcZ(1,1,t.form.controls))},directives:[v.sg,v.O5,j],pipes:[v.Nd],styles:["[_nghost-%COMP%]{display:flex;flex:1 1 auto;flex-wrap:wrap;align-items:center}"],changeDetection:0}),e}(),G=i(24668),z=function(){return(e=z||(z={}))[e.ENTER=13]="ENTER",e[e.SPACE=32]="SPACE",e[e.ESCAPE=27]="ESCAPE",e[e.DELETE=46]="DELETE",e[e.ARROW_UP=38]="ARROW_UP",e[e.ARROW_RIGHT=39]="ARROW_RIGHT",e[e.ARROW_DOWN=40]="ARROW_DOWN",e[e.ARROW_LEFT=37]="ARROW_LEFT",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.S=83]="S",e[e.N=78]="N",e[e.A=65]="A",e[e.T=84]="T",e[e.B=66]="B",e[e.C=67]="C",e[e.O=79]="O",e[e.P=80]="P",e[e.R=82]="R",e[e.F=70]="F",e[e.Y=89]="Y",e[e.Z=90]="Z",z;var e}(),L=function(){var e=function(){function e(){f(this,e),this.bindings=[]}return l(e,[{key:"add",value:function(e,t){var n=this;Array.isArray(e)||(e=[e]),e.forEach(function(e){n.bindings.push({keybind:n.parseKeybindString(e),keybindString:e,callback:t})})}},{key:"addWithPreventDefault",value:function(e,t){this.bindings.push({keybind:this.parseKeybindString(e),keybindString:e,callback:t,preventDefault:!0})}},{key:"listenOn",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,h.R)(e,"keydown").subscribe(function(e){(n.fireIfInputFocused||!["input","select"].includes(document.activeElement.nodeName.toLowerCase()))&&t.executeBindings(e)})}},{key:"executeBindings",value:function(e){var t=this;this.bindings.forEach(function(n){!t.bindingMatches(n.keybind,e)||(n.preventDefault&&e.preventDefault&&e.preventDefault(),n.callback(e))})}},{key:"bindingMatches",value:function(e,t){return z[e.key.toUpperCase()]===t.keyCode&&(t.ctrlKey===e.ctrl||t.metaKey===e.ctrl)&&t.shiftKey===e.shift}},{key:"parseKeybindString",value:function(e){var t=e.trim().split("+"),n={ctrl:!1,shift:!1,key:""};return t.forEach(function(e){"ctrl"===(e=e.trim().toLowerCase())?n.ctrl=!0:"shift"===e?n.shift=!0:n.key=e}),n}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),K=i(51095),W=i(63297),X=["searchInput"],ee=["filterSuggestion"];function te(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"button",8),r.NdJ("click",function(){return r.CHM(n),r.oxw().clearSearch()}),r._UZ(1,"mat-icon",9),r.qZA()}}function ne(e,t){1&e&&(r.TgZ(0,"span",13),r._uU(1,"Filter"),r.qZA())}function ie(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"button",10),r.NdJ("click",function(){return r.CHM(n),r.oxw().toggleFilterDropdown()}),r._UZ(1,"mat-icon",11),r.YNc(2,ne,2,0,"span",12),r.qZA()}if(2&e){var i=r.oxw();r.xp6(2),r.Q6J("ngIf",!i.compact)}}var re=function(){var e=function(){function e(t,n,i,o,a,c){f(this,e),this.fb=t,this.route=n,this.el=i,this.keybinds=o,this.cd=a,this.router=c,this.filterChange=new r.vpe,this.inputFocus=new r.vpe,this.form=this.fb.group({}),this.filterBarHeight=0,this.filterDropdownVisible$=new u.X(!1)}return l(e,[{key:"filters",set:function(e){var t=this;e?(this.keyedFilters={},(e||[]).forEach(function(e){t.keyedFilters[e.key]=e})):this.keyedFilters=null}},{key:"ngOnInit",value:function(){this.haveFiltersOrQuery$=(0,d.aj)([this.searchControl.valueChanges.pipe((0,o.O)(null)),this.form.valueChanges.pipe((0,o.O)(null))]).pipe((0,a.U)(function(e){var n=t(e,2),i=n[0],r=n[1];return i||r&&0!==Object.keys(r).length}))}},{key:"ngAfterViewInit",value:function(){this.watchForSizeChanges(),this.setFiltersFromQuery(),this.setupKeybinds(),this.subscribeToCloseActions(),this.bindToFormValueChange()}},{key:"onClick",value:function(e){(e.target===this.el.nativeElement||e.target===this.activeFilters.el.nativeElement)&&this.searchInput.nativeElement.focus()}},{key:"ngOnDestroy",value:function(){var e;null===(e=this.closeActionsStream$)||void 0===e||e.unsubscribe()}},{key:"clearSearch",value:function(){var e=this;Object.keys(this.form.controls).forEach(function(t){e.activeFilters.removeByKey(t)}),this.searchControl.reset(null,{emitEvent:!1}),this.form.reset()}},{key:"toggleFilterDropdown",value:function(){this.filterDropdownVisible$.next(!this.filterDropdownVisible$.value)}},{key:"addFilterFromDropdownClick",value:function(e){this.activeFilters.add(e,{focus:!0}),this.filterDropdownVisible$.next(!1)}},{key:"searchInputIsFocused",value:function(){return document.activeElement===this.searchInput.nativeElement}},{key:"cursorAtStartOfSearchInput",value:function(){return this.searchInputIsFocused()&&0===this.searchInput.nativeElement.selectionStart}},{key:"cursorAtEndOfSearchInput",value:function(){return this.searchInputIsFocused()&&this.searchInput.nativeElement.selectionStart===this.searchInput.nativeElement.value.length}},{key:"bindToFormValueChange",value:function(){var e=this;this.form.valueChanges.pipe((0,a.U)(function(e){return Object.keys(e).length?e:null}),(0,c.x)()).subscribe(function(t){e.filterChange.emit(t?oe(t):null)})}},{key:"watchForSizeChanges",value:function(){var e=this;new ResizeObserver(function(t){e.filterBarHeight=t[0].contentRect.height}).observe(this.el.nativeElement,{box:"border-box"})}},{key:"setFiltersFromQuery",value:function(){var e=this,t=this.router.routerState.root.snapshot.queryParams;t.filters&&ae(t.filters).forEach(function(t){e.activeFilters.add(e.keyedFilters[t.key],t)}),t.query&&this.searchControl.setValue(t.query)}},{key:"setupKeybinds",value:function(){var e=this;this.keybinds.add(["backspace","delete"],function(){return e.cursorAtStartOfSearchInput()?e.activeFilters.focusLast():e.activeFilters.anyFocused()?(e.activeFilters.removeCurrentlyFocused(),e.searchInput.nativeElement.focus()):void 0}),this.keybinds.add("arrow_left",function(t){e.cursorAtStartOfSearchInput()?(e.activeFilters.focusLast(),t.preventDefault()):e.activeFilters.anyFocused()&&(e.activeFilters.focusPrevious(),t.preventDefault())}),this.keybinds.add("arrow_right",function(t){if(e.activeFilters.anyFocused()){t.preventDefault();var n=e.activeFilters.getFocusedIndex(),i=e.activeFilters.getByIndex(n+1);i?i.focus():e.activeFilters.lastIsFocused()&&e.searchInput.nativeElement.focus()}}),this.keybinds.add(["arrow_down","tab"],function(t){if(e.cursorAtEndOfSearchInput()||e.suggestions.anyFocused()){t.preventDefault(),e.filterDropdownVisible$.value||e.toggleFilterDropdown();var n=e.suggestions.getFocusedIndex(),i=n>-1?n:0;e.suggestions.anyFocused()&&(i+=1),i>=e.suggestions.items.length&&(i=0),e.suggestions.focusItemAt(i)}}),this.keybinds.add(["arrow_up","shift+tab"],function(t){if(e.suggestions.anyFocused()){t.preventDefault();var n=e.activeFilters.getFocusedIndex(),i=n>-1?n:0;-1===(i-=1)?e.searchInput.nativeElement.focus():e.suggestions.focusItemAt(i)}}),this.keybinds.add("enter",function(t){var n=e.suggestions.getFocusedFilter();n&&(t.preventDefault(),e.activeFilters.add(n,{focus:!0}),e.filterDropdownVisible$.next(!1))}),this.keybinds.add("esc",function(t){e.filterDropdownVisible$.value&&(t.preventDefault(),e.filterDropdownVisible$.next(!1))}),this.keybinds.listenOn(document,{fireIfInputFocused:!0})}},{key:"subscribeToCloseActions",value:function(){var e=this;this.closeActionsStream$=(0,p.T)((0,h.R)(document,"click"),(0,h.R)(document,"auxclick"),(0,h.R)(document,"touchend")).pipe((0,s.h)(function(t){var n=t.target;return n!==e.el.nativeElement&&!e.el.nativeElement.contains(n)})).subscribe(function(){e.filterDropdownVisible$.next(!1)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(O.qu),r.Y36(G.gz),r.Y36(r.SBq),r.Y36(L),r.Y36(r.sBO),r.Y36(G.F0))},e.\u0275cmp=r.Xpm({type:e,selectors:[["search-input-with-filters"]],viewQuery:function(e,t){var n;(1&e&&(r.Gf(X,5),r.Gf(x,5),r.Gf(H,5),r.Gf(ee,5)),2&e)&&(r.iGM(n=r.CRH())&&(t.searchInput=n.first),r.iGM(n=r.CRH())&&(t.suggestions=n.first),r.iGM(n=r.CRH())&&(t.activeFilters=n.first),r.iGM(n=r.CRH())&&(t.filterContainers=n))},hostBindings:function(e,t){1&e&&r.NdJ("click",function(e){return t.onClick(e)})},inputs:{compact:"compact",searchControl:"searchControl",pluralName:"pluralName",filters:"filters"},outputs:{filterChange:"filterChange",inputFocus:"inputFocus"},decls:11,vars:18,consts:[[3,"form","config","compact"],[1,"input-container","search-input-container"],["svgIcon","search",1,"search-icon"],["type","text",1,"search-input",3,"placeholder","formControl","focus"],["searchInput",""],["type","button","class","clear-button","mat-icon-button","",3,"click",4,"ngIf"],["type","button","mat-button","","class","filter-button",3,"click",4,"ngIf"],[3,"filters","filterSelected"],["type","button","mat-icon-button","",1,"clear-button",3,"click"],["svgIcon","close"],["type","button","mat-button","",1,"filter-button",3,"click"],["svgIcon","filter-list",1,"filter-button-icon"],["class","filter-button-text","trans","",4,"ngIf"],["trans","",1,"filter-button-text"]],template:function(e,t){1&e&&(r.TgZ(0,"active-filters",0),r.TgZ(1,"div",1),r._UZ(2,"mat-icon",2),r.TgZ(3,"input",3,4),r.NdJ("focus",function(){return t.inputFocus.emit()}),r.ALo(5,"trans"),r.qZA(),r.qZA(),r.qZA(),r.YNc(6,te,2,0,"button",5),r.ALo(7,"async"),r.YNc(8,ie,3,1,"button",6),r.TgZ(9,"filter-suggestions",7),r.NdJ("filterSelected",function(e){return t.addFilterFromDropdownClick(e)}),r.ALo(10,"async"),r.qZA()),2&e&&(r.Q6J("form",t.form)("config",t.keyedFilters)("compact",t.compact),r.xp6(3),r.Q6J("placeholder",r.lcZ(5,12,"Type to search for "+t.pluralName))("formControl",t.searchControl),r.xp6(3),r.Q6J("ngIf",r.lcZ(7,14,t.haveFiltersOrQuery$)),r.xp6(2),r.Q6J("ngIf",t.keyedFilters),r.xp6(1),r.Udp("top",t.filterBarHeight+5+"px"),r.ekj("visible",r.lcZ(10,16,t.filterDropdownVisible$)),r.Q6J("filters",t.keyedFilters))},directives:[H,m.Hw,O.Fj,O.JJ,O.oH,v.O5,x,K.lW,g.P],pipes:[W.R,v.Ov],styles:["[_nghost-%COMP%]{display:flex;background-color:var(--be-background);border:1px solid var(--be-divider-default);height:45px;border-radius:4px;position:relative;padding-left:3px;overflow:hidden;width:100%}@media only screen and (max-width: 768px){[_nghost-%COMP%]{flex-wrap:wrap;justify-content:center}}[_nghost-%COMP%]:focus-within{outline:none;border-color:var(--be-accent-lighter);box-shadow:0 0 0 2px var(--be-accent-lighter);z-index:3;overflow:visible;height:auto!important}.search-input-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1 1 auto;width:auto;height:43px;padding-left:8px}.search-icon[_ngcontent-%COMP%]{display:block;color:var(--be-secondary-text);margin-right:5px}.search-input[_ngcontent-%COMP%]{border:none;height:100%;padding:0}.search-input[_ngcontent-%COMP%]:focus{box-shadow:none;z-index:1}.filter-button[_ngcontent-%COMP%]{min-width:auto;padding:0 14px;color:var(--be-accent-default);height:43px}.clear-button[_ngcontent-%COMP%]{height:43px;width:43px;line-height:43px;color:var(--be-accent-default)}.filter-button-text[_ngcontent-%COMP%]{margin-left:10px}"],changeDetection:0}),e}(),oe=function(e){var t=[];return Object.values(e).forEach(function(e){""!==e.value&&t.push(e)}),t.length?encodeURIComponent(btoa(JSON.stringify(t))):""},ae=function(e){var t=[];try{t=JSON.parse(atob(decodeURIComponent(e)))}catch(n){}return t}},6050:function(t,n,i){i.d(n,{O:function(){return u}});var r,o=i(37716),a=i(65987),c=i(7539),s=["table-body-checkbox",""],u=((r=function(){function t(e,n){f(this,t),this.datatable=e,this.cd=n}return l(t,[{key:"ngOnInit",value:function(){var e=this;this.changeRef=this.datatable.selectedRows$.subscribe(function(t){e.cd.markForCheck()})}},{key:"ngOnDestroy",value:function(){this.changeRef.unsubscribe()}},{key:"isRowSelected",value:function(e){return this.datatable.selectedRows$.value.indexOf(e)>-1}},{key:"toggleRow",value:function(t){if(this.isRowSelected(t)){var n=this.datatable.selectedRows$.value.slice(),i=this.datatable.selectedRows$.value.indexOf(t);n.splice(i,1),this.datatable.selectedRows$.next(n)}else this.datatable.selectedRows$.next([].concat(e(this.datatable.selectedRows$.value),[t]))}}]),t}()).\u0275fac=function(e){return new(e||r)(o.Y36(a.x),o.Y36(o.sBO))},r.\u0275cmp=o.Xpm({type:r,selectors:[["","table-body-checkbox",""]],hostAttrs:[1,"table-checkbox"],inputs:{rowId:["table-body-checkbox","rowId"]},attrs:s,decls:1,vars:1,consts:[[3,"checked","click","change"]],template:function(e,t){1&e&&(o.TgZ(0,"mat-checkbox",0),o.NdJ("click",function(e){return e.stopPropagation()})("change",function(e){return e?t.toggleRow(t.rowId):null}),o.qZA()),2&e&&o.Q6J("checked",t.isRowSelected(t.rowId))},directives:[c.oG],encapsulation:2,changeDetection:0}),r)},64058:function(e,t,n){n.d(t,{e:function(){return s}});var i,r=n(37716),o=n(65987),a=n(7539),c=["table-header-checkbox",""],s=((i=function(){function e(t,n){f(this,e),this.datatable=t,this.cd=n}return l(e,[{key:"ngOnInit",value:function(){var e=this;this.changeRef=this.datatable.selectedRows$.subscribe(function(){e.cd.markForCheck()})}},{key:"ngOnDestroy",value:function(){this.changeRef.unsubscribe()}},{key:"anyRowsSelected",value:function(){return!!this.datatable.selectedRows$.value.length}},{key:"allRowsSelected",value:function(){var e;return this.datatable.selectedRows$.value.length&&this.datatable.selectedRows$.value.length===(null===(e=this.datatable.data$.value)||void 0===e?void 0:e.length)}},{key:"toggleAllRows",value:function(){this.allRowsSelected()?this.datatable.selectedRows$.next([]):this.datatable.selectedRows$.next(this.datatable.data$.value.map(function(e){return e.id}))}}]),e}()).\u0275fac=function(e){return new(e||i)(r.Y36(o.x),r.Y36(r.sBO))},i.\u0275cmp=r.Xpm({type:i,selectors:[["","table-header-checkbox",""]],hostAttrs:[1,"table-checkbox"],attrs:c,decls:1,vars:2,consts:[[3,"checked","indeterminate","change"]],template:function(e,t){1&e&&(r.TgZ(0,"mat-checkbox",0),r.NdJ("change",function(e){return e?t.toggleAllRows():null}),r.qZA()),2&e&&r.Q6J("checked",t.allRowsSelected())("indeterminate",t.anyRowsSelected()&&!t.allRowsSelected())},directives:[a.oG],encapsulation:2,changeDetection:0}),i)}}])}();