!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}(self.webpackChunkbedesk=self.webpackChunkbedesk||[]).push([[592],{9489:function(e,t,o){o.d(t,{K:function(){return h}});var r=o(65987),i=o(37716),s=o(1303),l=o(15515),c=o(38583),u=o(24668),g=o(18256);function p(e,t){if(1&e&&i._UZ(0,"img",17),2&e){var n=i.oxw().$implicit;i.Q6J("src",null==n.category?null:n.category.image,i.LSH)}}var f=function(e){return["/help-center/search",e]};function d(e,t){if(1&e&&(i.TgZ(0,"tr"),i.TgZ(1,"td",7),i.TgZ(2,"a",8),i._uU(3),i.qZA(),i.qZA(),i.TgZ(4,"td",9),i._uU(5),i.qZA(),i.TgZ(6,"td",10),i._uU(7),i.qZA(),i.TgZ(8,"td",11),i._uU(9),i.qZA(),i.TgZ(10,"td",12),i._uU(11),i.ALo(12,"formattedDate"),i.qZA(),i.TgZ(13,"td",13),i.TgZ(14,"div",14),i.YNc(15,p,1,1,"img",15),i.TgZ(16,"div",16),i._uU(17),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e){var n=t.$implicit;i.xp6(2),i.Q6J("routerLink",i.VKq(10,f,n.term)),i.xp6(1),i.Oqu(n.term),i.xp6(2),i.Oqu(n.count),i.xp6(2),i.hij("",n.ctr,"%"),i.xp6(2),i.Oqu(n.resulted_in_ticket),i.xp6(2),i.Oqu(i.lcZ(12,8,n.last_seen)),i.xp6(4),i.Q6J("ngIf",null==n.category?null:n.category.image),i.xp6(2),i.Oqu((null==n.category?null:n.category.name)||"-")}}var v,m=["*"],h=((v=function(){function e(t){n(this,e),this.datatable=t,this.items$=this.datatable.data$,this.datatable.init()}return a(e,[{key:"ngOnChanges",value:function(e){this.datatable.data=this.data||[]}},{key:"ngOnDestroy",value:function(){this.datatable.destroy()}}]),e}()).\u0275fac=function(e){return new(e||v)(i.Y36(r.x))},v.\u0275cmp=i.Xpm({type:v,selectors:[["search-report-table"]],inputs:{data:"data"},features:[i._Bn([r.x]),i.TTD],ngContentSelectors:m,decls:19,vars:3,consts:[[1,"datatable","responsive-table"],[1,"material-table"],["table-sort-header","","trans","",1,"count-col"],["table-sort-header","","trans","",1,"result-col"],["table-sort-header","created_at","trans","",1,"last-seen-col"],["table-sort-header","","trans","",1,"category-col"],[4,"ngFor","ngForOf"],["data-label","Term"],["target","_blank",3,"routerLink"],["data-label","Count",1,"count-col"],["data-label","CTR",1,"ctr-col"],["data-label","Resulted in Ticket",1,"result-col"],["data-label","Last Seen",1,"last-seen-col"],["data-label","Category",1,"category-col"],[1,"column-with-image"],["class","category-image","alt","",3,"src",4,"ngIf"],[1,"category-name"],["alt","",1,"category-image",3,"src"]],template:function(e,t){1&e&&(i.F$t(),i.TgZ(0,"div",0),i.TgZ(1,"table",1),i.TgZ(2,"thead"),i.TgZ(3,"tr"),i.TgZ(4,"th"),i.Hsn(5),i.qZA(),i.TgZ(6,"th",2),i._uU(7,"Count"),i.qZA(),i.TgZ(8,"th",3),i._uU(9,"CTR"),i.qZA(),i.TgZ(10,"th",3),i._uU(11,"Resulted in Ticket"),i.qZA(),i.TgZ(12,"th",4),i._uU(13,"Last Seen"),i.qZA(),i.TgZ(14,"th",5),i._uU(15,"Category"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(16,"tbody"),i.YNc(17,d,18,12,"tr",6),i.ALo(18,"async"),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(17),i.Q6J("ngForOf",i.lcZ(18,1,t.items$)))},directives:[s.p,l.P,c.sg,u.yS,c.O5],pipes:[c.Ov,g.l],styles:["table[_ngcontent-%COMP%]{table-layout:fixed}.count-col[_ngcontent-%COMP%]{width:100px}.result-col[_ngcontent-%COMP%]{width:130px}.last-seen-col[_ngcontent-%COMP%]{width:160px}.category-col[_ngcontent-%COMP%]{width:220px}"],changeDetection:0}),v)},19807:function(e,t,o){o.d(t,{o:function(){return g}});var a,r=o(38583),i=o(24668),s=o(49866),l=o(98097),c=o(58193),u=o(37716),g=((a=function e(){n(this,e)}).\u0275fac=function(e){return new(e||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({imports:[[r.ez,i.Bz,s.N,l.X,c.x]]}),a)},42099:function(e,t,o){o.d(t,{F:function(){return l}});var r,i=o(37716),s=o(90299),l=((r=function(){function e(t){n(this,e),this.httpClient=t}return a(e,[{key:"getEnvatoEarnings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.httpClient.get("reports/envato/earnings",e)}},{key:"getHelpCenterReport",value:function(e){return this.httpClient.get("reports/help-center",e)}},{key:"getUserSearchesReport",value:function(e){return this.httpClient.get("reports/user/".concat(e,"/searches"))}},{key:"getTicketsReportForRange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.httpClient.get("reports/tickets/range",e)}}]),e}()).\u0275fac=function(e){return new(e||r)(i.LFG(s.r))},r.\u0275prov=i.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},36749:function(e,t,o){o.d(t,{N:function(){return v}});var r=o(37716),i=o(99905),s=o(7964),l=o(51095),c=o(76627),u=["infoIcon"],g=["popoverContent"];function p(e,t){1&e&&r.Hsn(0)}var f,d=["*"],v=((f=function(){function e(t,o){n(this,e),this.overlay=t,this.viewContainerRef=o}return a(e,[{key:"openPopover",value:function(){var e=this;this.overlayRef&&this.closePopover(),Object.assign({},i.Z)[0].offsetY=-15,this.overlayRef=this.overlay.open(this.content,{origin:this.infoButton,position:i.Z,hasBackdrop:!1,scrollStrategy:"close",viewContainerRef:this.viewContainerRef,panelClass:["info-popover-panel",this.wider?"wider":null]}),this.overlayRef.getPanelEl().addEventListener("mouseleave",function(){e.closePopover()})}},{key:"closePopover",value:function(){this.overlayRef&&(this.overlayRef.close(),this.overlayRef=null)}},{key:"togglePopover",value:function(){this.overlayRef?this.closePopover():this.openPopover()}},{key:"onMouseLeave",value:function(e){var t=e.toElement||e.relatedTarget;(!t||!t.classList.contains("info-popover-panel"))&&this.closePopover()}}]),e}()).\u0275fac=function(e){return new(e||f)(r.Y36(s.T),r.Y36(r.s_b))},f.\u0275cmp=r.Xpm({type:f,selectors:[["info-popover"]],viewQuery:function(e,t){var n;1&e&&(r.Gf(u,5,r.SBq),r.Gf(g,5)),2&e&&(r.iGM(n=r.CRH())&&(t.infoButton=n.first),r.iGM(n=r.CRH())&&(t.content=n.first))},inputs:{wider:"wider"},ngContentSelectors:d,decls:5,vars:0,consts:[["type","button","mat-icon-button","",3,"click","mouseenter","mouseleave"],["svgIcon","info",1,"info-icon"],["infoIcon",""],["popoverContent",""]],template:function(e,t){1&e&&(r.F$t(),r.TgZ(0,"button",0),r.NdJ("click",function(){return t.togglePopover()})("mouseenter",function(){return t.openPopover()})("mouseleave",function(e){return t.onMouseLeave(e)}),r._UZ(1,"mat-icon",1,2),r.qZA(),r.YNc(3,p,1,0,"ng-template",null,3,r.W1O))},directives:[l.lW,c.Hw],styles:["info-popover .mat-icon-button{vertical-align:middle;color:var(--be-secondary-text);cursor:help}.info-popover-panel{display:block;background-color:var(--be-background);box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px rgba(0,0,0,.141),0 1px 8px rgba(0,0,0,.122);border-radius:4px;padding:15px;max-width:350px}.info-popover-panel.wider{max-width:550px}.info-popover-panel .title{font-size:1.6rem;margin-bottom:8px}.info-popover-panel .description{margin-bottom:5px;color:var(--be-secondary-text)}.info-popover-panel .link{margin-top:5px;padding-top:5px;border-top:var(--be-divider-default)}.info-popover-panel .link .mat-icon{vertical-align:middle;margin-right:5px;color:var(--be-link)}.info-popover-panel .link a:hover{text-decoration:underline}.info-popover-panel ul,.info-popover-panel ol{padding-left:15px;margin:0}\n"],encapsulation:2,changeDetection:0}),f)},99905:function(e,t,n){n.d(t,{Z:function(){return o}});var o=[{originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:5},{originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:5}]},13880:function(t,o,r){r.d(o,{s:function(){return N}});var i=r(3679),s=r(26215),l=r(25917),c=r(6966),u=r(54395),g=r(87519),p=r(43190),f=r(5304),d=r(88002),v=r(37716),m=r(99051),h=r(38583),y=r(58341),x=r(21554),b=r(51095),Z=r(15515),T=r(76627),C=r(72458);function A(e,t){if(1&e){var n=v.EpF();v.TgZ(0,"form",9),v.NdJ("ngSubmit",function(){v.CHM(n);var e=v.oxw();return e.selectTagsFromString(e.formControl.value)}),v.TgZ(1,"div",10),v._UZ(2,"input",11),v.TgZ(3,"button",12),v._uU(4,"Add"),v.qZA(),v.qZA(),v.qZA()}if(2&e){var o=v.oxw(),a=v.MAs(8);v.xp6(2),v.Q6J("matAutocomplete",a)("formControl",o.formControl)}}var k=function(e){return{tagName:e}};function q(e,t){if(1&e&&(v.TgZ(0,"p",13),v._uU(1," Separate :tagName with comma.\n"),v.qZA()),2&e){var n=v.oxw();v.Q6J("transValues",v.VKq(1,k,n.pluralName))}}function w(e,t){if(1&e){var n=v.EpF();v.TgZ(0,"mat-chip",14),v.NdJ("removed",function(){var e=v.CHM(n).$implicit;return v.oxw().deselectTag(e)}),v.TgZ(1,"span"),v._uU(2),v.qZA(),v._UZ(3,"mat-icon",15),v.qZA()}if(2&e){var o=t.$implicit,a=v.oxw();v.Q6J("removable",!a.readonly),v.xp6(2),v.Oqu(o)}}function _(e,t){if(1&e){var n=v.EpF();v.TgZ(0,"div",20),v.NdJ("click",function(){var e=v.CHM(n).$implicit;return v.oxw(2).selectTags([e.name])}),v._uU(1),v.qZA()}if(2&e){var o=t.$implicit;v.xp6(1),v.hij(" ",o.display_name," ")}}function O(e,t){if(1&e&&(v.TgZ(0,"div",16),v.TgZ(1,"p",17),v._uU(2,"Choose from existing :tagName:"),v.qZA(),v.TgZ(3,"div",18),v.YNc(4,_,2,1,"div",19),v.ALo(5,"async"),v.qZA(),v.qZA()),2&e){var n=v.oxw();v.xp6(1),v.Q6J("transValues",v.VKq(4,k,n.pluralName)),v.xp6(3),v.Q6J("ngForOf",v.lcZ(5,2,n.existingTags$))}}function P(e,t){if(1&e&&(v.TgZ(0,"mat-option",21),v._uU(1),v.qZA()),2&e){var n=t.$implicit;v.Q6J("value",n.name),v.xp6(1),v.Oqu(n.display_name)}}var $,N=(($=function(){function t(e){n(this,t),this.tagService=e,this.readonly=!1,this.pluralName="tags",this.formControl=new i.NI,this.selectedTags$=new s.X([]),this.existingTags$=new s.X([]),this.suggestedTags$=new s.X([])}return a(t,[{key:"ngOnInit",value:function(){var e=this;this.tagService.index({perPage:15,type:this.tagType}).subscribe(function(t){e.existingTags$.next(t.pagination.data.filter(function(e){return"status"!==e.type}))}),this.formControl.valueChanges.pipe((0,u.b)(250),(0,g.x)(),(0,p.w)(function(t){return e.searchTags(t)}),(0,f.K)(function(){return(0,l.of)([])})).subscribe(function(t){e.suggestedTags$.next(t)})}},{key:"writeValue",value:function(e){this.selectTags(e,{skipPropagate:!0,override:!0})}},{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"registerOnTouched",value:function(){}},{key:"selectTags",value:function(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(t||[]).map(function(e){return e.trim()}).filter(function(e){return!n.selectedTags$.value.includes(e)});o.override?this.selectedTags$.next(a):a.length&&this.selectedTags$.next([].concat(e(this.selectedTags$.value),e(a))),this.formControl.reset(),o.skipPropagate||this.propagateChange(this.selectedTags$.value)}},{key:"deselectTag",value:function(e){var t=this.selectedTags$.value.slice();t.splice(t.indexOf(e),1),this.selectedTags$.next(t),this.propagateChange(this.selectedTags$.value)}},{key:"selectTagsFromString",value:function(e){var t=e.split(",").map(function(e){return(0,c.V)(e)});this.selectTags(t)}},{key:"searchTags",value:function(e){return e?this.tagService.index({query:e}).pipe((0,d.U)(function(e){return e.pagination.data})):(0,l.of)([])}}]),t}()).\u0275fac=function(e){return new(e||$)(v.Y36(m.i))},$.\u0275cmp=v.Xpm({type:$,selectors:[["tags-manager"]],inputs:{readonly:"readonly",tagType:"tagType",pluralName:"pluralName"},features:[v._Bn([{provide:i.JU,useExisting:$,multi:!0}])],decls:11,vars:10,consts:[["class","input-container","ngNativeValidate","",3,"ngSubmit",4,"ngIf"],["class","main-info","trans","",3,"transValues",4,"ngIf"],[1,"selected-tags"],[3,"selectable"],[3,"removable","removed",4,"ngFor","ngForOf"],["class","existing-tags",4,"ngIf"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["ngNativeValidate","",1,"input-container",3,"ngSubmit"],[1,"input-with-action"],["type","text","required","",1,"tags-string-input",3,"matAutocomplete","formControl"],["type","submit","mat-flat-button","","color","accent","trans","",1,"add-tags-button"],["trans","",1,"main-info",3,"transValues"],[3,"removable","removed"],["svgIcon","cancel","matChipRemove",""],[1,"existing-tags"],["trans","",3,"transValues"],[1,"existing-tags-list"],["class","existing-tag-name",3,"click",4,"ngFor","ngForOf"],[1,"existing-tag-name",3,"click"],[3,"value"]],template:function(e,t){1&e&&(v.YNc(0,A,5,2,"form",0),v.YNc(1,q,2,3,"p",1),v.TgZ(2,"div",2),v.TgZ(3,"mat-chip-list",3),v.YNc(4,w,4,2,"mat-chip",4),v.ALo(5,"async"),v.qZA(),v.qZA(),v.YNc(6,O,6,6,"div",5),v.TgZ(7,"mat-autocomplete",6,7),v.NdJ("optionSelected",function(e){return t.selectTags([e.option.value])}),v.YNc(9,P,2,2,"mat-option",8),v.ALo(10,"async"),v.qZA()),2&e&&(v.Q6J("ngIf",!t.readonly),v.xp6(1),v.Q6J("ngIf",!t.readonly),v.xp6(2),v.Q6J("selectable",!1),v.xp6(1),v.Q6J("ngForOf",v.lcZ(5,6,t.selectedTags$)),v.xp6(2),v.Q6J("ngIf",!t.readonly),v.xp6(3),v.Q6J("ngForOf",v.lcZ(10,8,t.suggestedTags$)))},directives:[h.O5,y.qn,h.sg,x.XC,i.JL,i.F,x.ZL,i.Fj,i.Q7,i.JJ,i.oH,b.lW,Z.P,y.HS,T.Hw,y.qH,C.ey],pipes:[h.Ov],styles:["[_nghost-%COMP%]{display:block}.selected-tag[_ngcontent-%COMP%]{margin:0 10px 10px 0;display:inline-block}.main-info[_ngcontent-%COMP%]{margin-top:5px;font-size:1.3rem}.existing-tags[_ngcontent-%COMP%]{margin-top:25px}.existing-tags[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:5px;font-size:1.3rem;color:var(--be-secondary-text)}.existing-tags-list[_ngcontent-%COMP%]{border:1px solid var(--be-divider-default);padding:8px;height:78px;overflow:auto}.existing-tag-name[_ngcontent-%COMP%]{display:inline-block;margin-right:6px;color:var(--be-link);text-decoration:underline;font-size:1.2rem;cursor:pointer}"],changeDetection:0}),$)},31330:function(e,t,o){o.d(t,{X:function(){return d}});var a,r=o(38583),i=o(3679),s=o(58341),l=o(76627),c=o(51095),u=o(21554),g=o(49866),p=o(22238),f=o(37716),d=((a=function e(){n(this,e)}).\u0275fac=function(e){return new(e||a)},a.\u0275mod=f.oAB({type:a}),a.\u0275inj=f.cJS({imports:[[r.ez,i.u5,i.UX,g.N,s.Hi,l.Ps,c.ot,u.Bb,p.Is]]}),a)}}])}();